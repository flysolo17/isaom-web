var rV=Object.defineProperty,sV=Object.defineProperties;var oV=Object.getOwnPropertyDescriptors;var vd=Object.getOwnPropertySymbols,aV=Object.getPrototypeOf,UT=Object.prototype.hasOwnProperty,$T=Object.prototype.propertyIsEnumerable,cV=Reflect.get;var jT=(t,e,n)=>e in t?rV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})UT.call(e,n)&&jT(t,n,e[n]);if(vd)for(var n of vd(e))$T.call(e,n)&&jT(t,n,e[n]);return t},G=(t,e)=>sV(t,oV(e));var HT=(t,e)=>{var n={};for(var i in t)UT.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&vd)for(var i of vd(t))e.indexOf(i)<0&&$T.call(t,i)&&(n[i]=t[i]);return n};var Ur=(t,e,n)=>cV(aV(t),n,e);var E=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(u){r(u)}},o=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function GT(t,e){return Object.is(t,e)}var Pt=null,wd=!1,bd=1,$r=Symbol("SIGNAL");function ke(t){let e=Pt;return Pt=t,e}var Id={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fg(t){if(wd)throw new Error("");if(Pt===null)return;Pt.consumerOnSignalRead(t);let e=Pt.nextProducerIndex++;if(Xo(Pt),e<Pt.producerNode.length&&Pt.producerNode[e]!==t&&Zc(Pt)){let n=Pt.producerNode[e];Dd(n,Pt.producerIndexOfThis[e])}Pt.producerNode[e]!==t&&(Pt.producerNode[e]=t,Pt.producerIndexOfThis[e]=Zc(Pt)?QT(t,Pt,e):0),Pt.producerLastReadVersion[e]=t.version}function lV(){bd++}function zT(t){if(!(Zc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bd)){if(!t.producerMustRecompute(t)&&!Bg(t)){t.dirty=!1,t.lastCleanEpoch=bd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bd}}function qT(t){if(t.liveConsumerNode===void 0)return;let e=wd;wd=!0;try{for(let n of t.liveConsumerNode)n.dirty||uV(n)}finally{wd=e}}function WT(){return Pt?.consumerAllowSignalWrites!==!1}function uV(t){t.dirty=!0,qT(t),t.consumerMarkedDirty?.(t)}function Lg(t){return t&&(t.nextProducerIndex=0),ke(t)}function Vg(t,e){if(ke(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Zc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Dd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bg(t){Xo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(zT(n),i!==n.version))return!0}return!1}function KT(t){if(Xo(t),Zc(t))for(let e=0;e<t.producerNode.length;e++)Dd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function QT(t,e,n){if(YT(t),Xo(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=QT(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Dd(t,e){if(YT(t),Xo(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Dd(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Xo(r),r.producerIndexOfThis[i]=e}}function Zc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function YT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function JT(t){let e=Object.create(dV);e.computation=t;let n=()=>{if(zT(e),Fg(e),e.value===Ed)throw e.error;return e.value};return n[$r]=e,n}var Pg=Symbol("UNSET"),kg=Symbol("COMPUTING"),Ed=Symbol("ERRORED"),dV=G(R({},Id),{value:Pg,dirty:!0,error:null,equal:GT,producerMustRecompute(t){return t.value===Pg||t.value===kg},producerRecomputeValue(t){if(t.value===kg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=kg;let n=Lg(t),i;try{i=t.computation()}catch(r){i=Ed,t.error=r}finally{Vg(t,n)}if(e!==Pg&&e!==Ed&&i!==Ed&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function hV(){throw new Error}var ZT=hV;function XT(){ZT()}function eS(t){ZT=t}var fV=null;function tS(t){let e=Object.create(iS);e.value=t;let n=()=>(Fg(e),e.value);return n[$r]=e,n}function jg(t,e){WT()||XT(),t.equal(t.value,e)||(t.value=e,pV(t))}function nS(t,e){WT()||XT(),jg(t,e(t.value))}var iS=G(R({},Id),{equal:GT,value:void 0});function pV(t){t.version++,lV(),qT(t),fV?.()}function ue(t){return typeof t=="function"}function Hr(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Td=Hr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function js(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var wt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(ue(i))try{i()}catch(s){e=s instanceof Td?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{rS(s)}catch(o){e=e??[],o instanceof Td?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Td(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rS(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&js(n,e)}remove(e){let{_finalizers:n}=this;n&&js(n,e),e instanceof t&&e._removeParent(this)}};wt.EMPTY=(()=>{let t=new wt;return t.closed=!0,t})();var Ug=wt.EMPTY;function Sd(t){return t instanceof wt||t&&"closed"in t&&ue(t.remove)&&ue(t.add)&&ue(t.unsubscribe)}function rS(t){ue(t)?t():t.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ea={setTimeout(t,e,...n){let{delegate:i}=ea;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ea;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cd(t){ea.setTimeout(()=>{let{onUnhandledError:e}=Kn;if(e)e(t);else throw t})}function tr(){}var sS=$g("C",void 0,void 0);function oS(t){return $g("E",void 0,t)}function aS(t){return $g("N",t,void 0)}function $g(t,e,n){return{kind:t,value:e,error:n}}var Us=null;function ta(t){if(Kn.useDeprecatedSynchronousErrorHandling){let e=!Us;if(e&&(Us={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Us;if(Us=null,n)throw i}}else t()}function cS(t){Kn.useDeprecatedSynchronousErrorHandling&&Us&&(Us.errorThrown=!0,Us.error=t)}var $s=class extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Sd(e)&&e.add(this)):this.destination=_V}static create(e,n,i){return new nr(e,n,i)}next(e){this.isStopped?Gg(aS(e),this):this._next(e)}error(e){this.isStopped?Gg(oS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gg(sS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mV=Function.prototype.bind;function Hg(t,e){return mV.call(t,e)}var zg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Ad(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Ad(i)}else Ad(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ad(n)}}},nr=class extends $s{constructor(e,n,i){super();let r;if(ue(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Kn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Hg(e.next,s),error:e.error&&Hg(e.error,s),complete:e.complete&&Hg(e.complete,s)}):r=e}this.destination=new zg(r)}};function Ad(t){Kn.useDeprecatedSynchronousErrorHandling?cS(t):Cd(t)}function gV(t){throw t}function Gg(t,e){let{onStoppedNotification:n}=Kn;n&&ea.setTimeout(()=>n(t,e))}var _V={closed:!0,next:tr,error:gV,complete:tr};var na=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(t){return t}function Md(...t){return qg(t)}function qg(t){return t.length===0?Bt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=vV(n)?n:new nr(n,i,r);return ta(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=lS(i),new i((r,s)=>{let o=new nr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[na](){return this}pipe(...n){return qg(n)(this)}toPromise(n){return n=lS(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function lS(t){var e;return(e=t??Kn.Promise)!==null&&e!==void 0?e:Promise}function yV(t){return t&&ue(t.next)&&ue(t.error)&&ue(t.complete)}function vV(t){return t&&t instanceof $s||yV(t)&&Sd(t)}function Wg(t){return ue(t?.lift)}function se(t){return e=>{if(Wg(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(t,e,n,i,r){return new Xc(t,e,n,i,r)}var Xc=class extends $s{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ia(){return se((t,e)=>{let n=null;t._refCount++;let i=te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ra=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wt;let n=this.getSubject();e.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e}refCount(){return ia()(this)}};var uS=Hr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Rd(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new uS}next(n){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Ug:(this.currentObservers=null,s.push(n),new wt(()=>{this.currentObservers=null,js(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Rd(e,n),t})(),Rd=class extends _e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Ug}};var ht=class extends _e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var el={now(){return(el.delegate||Date).now()},delegate:void 0};var tl=class extends _e{constructor(e=1/0,n=1/0,i=el){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)a=c;a&&i.splice(0,a+1)}}};var Od=class extends wt{constructor(e,n){super()}schedule(e,n=0){return this}};var nl={setInterval(t,e,...n){let{delegate:i}=nl;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=nl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var sa=class extends Od{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return nl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&nl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,js(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var oa=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};oa.now=el.now;var aa=class extends oa{constructor(e,n=oa.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var fi=new aa(sa),Kg=fi;var Nd=class extends sa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var xd=class extends aa{};var Hs=new xd(Nd);var rt=new ie(t=>t.complete());function Pd(t){return t&&ue(t.schedule)}function Qg(t){return t[t.length-1]}function Gr(t){return ue(Qg(t))?t.pop():void 0}function pi(t){return Pd(Qg(t))?t.pop():void 0}function dS(t,e){return typeof Qg(t)=="number"?t.pop():e}function Yg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function fS(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(f){o(f)}}function c(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):r(d.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function hS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gs(t){return this instanceof Gs?(this.v=t,this):new Gs(t)}function pS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(_){return function(v){return Promise.resolve(v).then(_,f)}}function a(_,v){i[_]&&(r[_]=function(D){return new Promise(function(A,x){s.push([_,D,A,x])>1||c(_,D)})},v&&(r[_]=v(r[_])))}function c(_,v){try{u(i[_](v))}catch(D){m(s[0][3],D)}}function u(_){_.value instanceof Gs?Promise.resolve(_.value.v).then(d,f):m(s[0][2],_)}function d(_){c("next",_)}function f(_){c("throw",_)}function m(_,v){_(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function mS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hS=="function"?hS(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var ca=t=>t&&typeof t.length=="number"&&typeof t!="function";function kd(t){return ue(t?.then)}function Fd(t){return ue(t[na])}function Ld(t){return Symbol.asyncIterator&&ue(t?.[Symbol.asyncIterator])}function Vd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bd=wV();function jd(t){return ue(t?.[Bd])}function Ud(t){return pS(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Gs(n.read());if(r)return yield Gs(void 0);yield yield Gs(i)}}finally{n.releaseLock()}})}function $d(t){return ue(t?.getReader)}function ye(t){if(t instanceof ie)return t;if(t!=null){if(Fd(t))return bV(t);if(ca(t))return EV(t);if(kd(t))return IV(t);if(Ld(t))return gS(t);if(jd(t))return DV(t);if($d(t))return TV(t)}throw Vd(t)}function bV(t){return new ie(e=>{let n=t[na]();if(ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EV(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IV(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cd)})}function DV(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gS(t){return new ie(e=>{SV(t,e).catch(n=>e.error(n))})}function TV(t){return gS(Ud(t))}function SV(t,e){var n,i,r,s;return fS(this,void 0,void 0,function*(){try{for(n=mS(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function Kt(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Vn(t,e=0){return se((n,i)=>{n.subscribe(te(i,r=>Kt(i,t,()=>i.next(r),e),()=>Kt(i,t,()=>i.complete(),e),r=>Kt(i,t,()=>i.error(r),e)))})}function zr(t,e=0){return se((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function _S(t,e){return ye(t).pipe(zr(e),Vn(e))}function yS(t,e){return ye(t).pipe(zr(e),Vn(e))}function vS(t,e){return new ie(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function wS(t,e){return new ie(n=>{let i;return Kt(n,e,()=>{i=t[Bd](),Kt(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>ue(i?.return)&&i.return()})}function Hd(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Kt(n,e,()=>{let i=t[Symbol.asyncIterator]();Kt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function bS(t,e){return Hd(Ud(t),e)}function ES(t,e){if(t!=null){if(Fd(t))return _S(t,e);if(ca(t))return vS(t,e);if(kd(t))return yS(t,e);if(Ld(t))return Hd(t,e);if(jd(t))return wS(t,e);if($d(t))return bS(t,e)}throw Vd(t)}function De(t,e){return e?ES(t,e):ye(t)}function Y(...t){let e=pi(t);return De(t,e)}function qr(t,e){let n=ue(t)?t:()=>t,i=r=>r.error(n());return new ie(e?r=>e.schedule(i,0,r):i)}var Wr=class t{constructor(e,n,i){this.kind=e,this.value=n,this.error=i,this.hasValue=e==="N"}observe(e){return Jg(this,e)}do(e,n,i){let{kind:r,value:s,error:o}=this;return r==="N"?e?.(s):r==="E"?n?.(o):i?.()}accept(e,n,i){var r;return ue((r=e)===null||r===void 0?void 0:r.next)?this.observe(e):this.do(e,n,i)}toObservable(){let{kind:e,value:n,error:i}=this,r=e==="N"?Y(n):e==="E"?qr(()=>i):e==="C"?rt:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};Wr.completeNotification=new Wr("C");function Jg(t,e){var n,i,r;let{kind:s,value:o,error:a}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(n=e.next)===null||n===void 0||n.call(e,o):s==="E"?(i=e.error)===null||i===void 0||i.call(e,a):(r=e.complete)===null||r===void 0||r.call(e)}function Zg(t){return!!t&&(t instanceof ie||ue(t.lift)&&ue(t.subscribe))}var ir=Hr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Gd(t){return t instanceof Date&&!isNaN(t)}var CV=Hr(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function Xg(t,e){let{first:n,each:i,with:r=AV,scheduler:s=e??fi,meta:o=null}=Gd(t)?{first:t}:typeof t=="number"?{each:t}:t;if(n==null&&i==null)throw new TypeError("No timeout provided.");return se((a,c)=>{let u,d,f=null,m=0,_=v=>{d=Kt(c,s,()=>{try{u.unsubscribe(),ye(r({meta:o,lastValue:f,seen:m})).subscribe(c)}catch(D){c.error(D)}},v)};u=a.subscribe(te(c,v=>{d?.unsubscribe(),m++,c.next(f=v),i>0&&_(i)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!m&&_(n!=null?typeof n=="number"?n:+n-s.now():i)})}function AV(t){throw new CV(t)}function K(t,e){return se((n,i)=>{let r=0;n.subscribe(te(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:MV}=Array;function RV(t,e){return MV(e)?t(...e):t(e)}function la(t){return K(e=>RV(t,e))}var{isArray:OV}=Array,{getPrototypeOf:NV,prototype:xV,keys:PV}=Object;function zd(t){if(t.length===1){let e=t[0];if(OV(e))return{args:e,keys:null};if(kV(e)){let n=PV(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function kV(t){return t&&typeof t=="object"&&NV(t)===xV}function qd(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function un(...t){let e=pi(t),n=Gr(t),{args:i,keys:r}=zd(t);if(i.length===0)return De([],e);let s=new ie(FV(i,e,r?o=>qd(r,o):Bt));return n?s.pipe(la(n)):s}function FV(t,e,n=Bt){return i=>{IS(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)IS(e,()=>{let u=De(t[c],e),d=!1;u.subscribe(te(i,f=>{s[c]=f,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function IS(t,e,n){t?Kt(n,t,e):e()}function DS(t,e,n,i,r,s,o,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},_=D=>u<i?v(D):c.push(D),v=D=>{s&&e.next(D),u++;let A=!1;ye(n(D,d++)).subscribe(te(e,x=>{r?.(x),s?_(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<i;){let x=c.shift();o?Kt(e,o,()=>v(x)):v(x)}m()}catch(x){e.error(x)}}))};return t.subscribe(te(e,_,()=>{f=!0,m()})),()=>{a?.()}}function Ve(t,e,n=1/0){return ue(e)?Ve((i,r)=>K((s,o)=>e(i,s,r,o))(ye(t(i,r))),n):(typeof e=="number"&&(n=e),se((i,r)=>DS(i,r,t,n)))}function mi(t=1/0){return Ve(Bt,t)}function TS(){return mi(1)}function gi(...t){return TS()(De(t,pi(t)))}function il(t){return new ie(e=>{ye(t()).subscribe(e)})}function e_(...t){let e=Gr(t),{args:n,keys:i}=zd(t),r=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let f=!1;ye(n[d]).subscribe(te(s,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(i?qd(i,a):a),s.complete())}))}});return e?r.pipe(la(e)):r}var LV=["addListener","removeListener"],VV=["addEventListener","removeEventListener"],BV=["on","off"];function Bn(t,e,n,i){if(ue(n)&&(i=n,n=void 0),i)return Bn(t,e,n).pipe(la(i));let[r,s]=$V(t)?VV.map(o=>a=>t[o](e,a,n)):jV(t)?LV.map(SS(t,e)):UV(t)?BV.map(SS(t,e)):[];if(!r&&ca(t))return Ve(o=>Bn(o,e,n))(ye(t));if(!r)throw new TypeError("Invalid event target");return new ie(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function SS(t,e){return n=>i=>t[n](e,i)}function jV(t){return ue(t.addListener)&&ue(t.removeListener)}function UV(t){return ue(t.on)&&ue(t.off)}function $V(t){return ue(t.addEventListener)&&ue(t.removeEventListener)}function rl(t=0,e,n=Kg){let i=-1;return e!=null&&(Pd(e)?n=e:i=e),new ie(r=>{let s=Gd(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Kr(...t){let e=pi(t),n=dS(t,1/0),i=t;return i.length?i.length===1?ye(i[0]):mi(n)(De(i,e)):rt}var{isArray:HV}=Array;function Wd(t){return t.length===1&&HV(t[0])?t[0]:t}function $e(t,e){return se((n,i)=>{let r=0;n.subscribe(te(i,s=>t.call(e,s,r++)&&i.next(s)))})}function t_(...t){return t=Wd(t),t.length===1?ye(t[0]):new ie(GV(t))}function GV(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(ye(t[i]).subscribe(te(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function sl(...t){let e=Gr(t),n=Wd(t);return n.length?new ie(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)ye(n[o]).subscribe(te(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());i.next(e?e(...c):c),r.some((u,d)=>!u.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):rt}function et(t){return se((e,n)=>{let i=null,r=!1,s;i=e.subscribe(te(n,void 0,void 0,o=>{s=ye(t(o,et(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Kd(t,e,n,i,r){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(te(o,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function CS(t,e){return se(Kd(t,e,arguments.length>=2,!1,!0))}var zV=(t,e)=>(t.push(e),t);function n_(){return se((t,e)=>{CS(zV,[])(t).subscribe(e)})}function _i(t,e){return ue(e)?Ve(t,e,1):Ve(t,1)}function i_(t,e=fi){return se((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,i.next(u)}};function c(){let u=o+t,d=e.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}a()}n.subscribe(te(i,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Qr(t){return se((e,n)=>{let i=!1;e.subscribe(te(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function bt(t){return t<=0?()=>rt:se((e,n)=>{let i=0;e.subscribe(te(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function ol(){return se((t,e)=>{t.subscribe(te(e,tr))})}function al(t){return K(()=>t)}function r_(t,e){return e?n=>gi(e.pipe(bt(1),ol()),n.pipe(r_(t))):Ve((n,i)=>ye(t(n,i)).pipe(bt(1),al(n)))}function vn(t,e=fi){let n=rl(t,e);return r_(()=>n)}function s_(){return se((t,e)=>{t.subscribe(te(e,n=>Jg(n,e)))})}function cl(t,e=Bt){return t=t??qV,se((n,i)=>{let r,s=!0;n.subscribe(te(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function qV(t,e){return t===e}function Qd(t=WV){return se((e,n)=>{let i=!1;e.subscribe(te(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function WV(){return new ir}function o_(...t){return e=>gi(e,Y(...t))}function jt(t,e){return e?n=>n.pipe(jt((i,r)=>ye(t(i,r)).pipe(K((s,o)=>e(i,s,r,o))))):se((n,i)=>{let r=0,s=null,o=!1;n.subscribe(te(i,a=>{s||(s=te(i,void 0,()=>{s=null,o&&i.complete()}),ye(t(a,r++)).subscribe(s))},()=>{o=!0,!s&&i.complete()}))})}function zs(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function yi(t,e){let n=arguments.length>=2;return i=>i.pipe(t?$e((r,s)=>t(r,s,i)):Bt,bt(1),n?Qr(e):Qd(()=>new ir))}function Yd(t,e,n,i){return se((r,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:i}=e;let a=new Map,c=v=>{a.forEach(v),v(s)},u=v=>c(D=>D.error(v)),d=0,f=!1,m=new Xc(s,v=>{try{let D=t(v),A=a.get(D);if(!A){a.set(D,A=i?i():new _e);let x=_(D,A);if(s.next(x),n){let j=te(A,()=>{A.complete(),j?.unsubscribe()},void 0,void 0,()=>a.delete(D));m.add(ye(n(x)).subscribe(j))}}A.next(o?o(v):v)}catch(D){u(D)}},()=>c(v=>v.complete()),u,()=>a.clear(),()=>(f=!0,d===0));r.subscribe(m);function _(v,D){let A=new ie(x=>{d++;let j=D.subscribe(x);return()=>{j.unsubscribe(),--d===0&&f&&m.unsubscribe()}});return A.key=v,A}})}function ua(t){return t<=0?()=>rt:se((e,n)=>{let i=[];e.subscribe(te(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function a_(t,e){let n=arguments.length>=2;return i=>i.pipe(t?$e((r,s)=>t(r,s,i)):Bt,ua(1),n?Qr(e):Qd(()=>new ir))}function c_(){return se((t,e)=>{t.subscribe(te(e,n=>{e.next(Wr.createNext(n))},()=>{e.next(Wr.createComplete()),e.complete()},n=>{e.next(Wr.createError(n)),e.complete()}))})}function l_(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return K(n=>{let i=n;for(let r=0;r<e;r++){let s=i?.[t[r]];if(typeof s<"u")i=s;else return}return i})}function Yr(t,e){return se(Kd(t,e,arguments.length>=2,!0))}function d_(t={}){let{connector:e=()=>new _e,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),o=c=void 0,d=f=!1},v=()=>{let D=o;_(),D?.unsubscribe()};return se((D,A)=>{u++,!f&&!d&&m();let x=c=c??e();A.add(()=>{u--,u===0&&!f&&!d&&(a=u_(v,r))}),x.subscribe(A),!o&&u>0&&(o=new nr({next:j=>x.next(j),error:j=>{f=!0,m(),a=u_(_,n,j),x.error(j)},complete:()=>{d=!0,m(),a=u_(_,i),x.complete()}}),ye(D).subscribe(o))})(s)}}function u_(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new nr({next:()=>{i.unsubscribe(),t()}});return ye(e(...n)).subscribe(i)}function Jd(t){return $e((e,n)=>t<=n)}function ll(...t){let e=pi(t);return se((n,i)=>{(e?gi(t,n,e):gi(t,n)).subscribe(i)})}function Et(t,e){return se((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(te(i,c=>{r?.unsubscribe();let u=0,d=s++;ye(t(c,d)).subscribe(r=te(i,f=>i.next(e?e(c,f,d,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function St(t){return se((e,n)=>{ye(t).subscribe(te(n,()=>n.complete(),tr)),!n.closed&&e.subscribe(n)})}function Oe(t,e,n){let i=ue(t)||e||n?{next:t,error:e,complete:n}:t;return i?se((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(te(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Bt}function Jr(...t){let e=Gr(t);return se((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)ye(t[c]).subscribe(te(i,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Bt))&&(o=null))},tr));n.subscribe(te(i,c=>{if(a){let u=[c,...s];i.next(e?e(...u):u)}}))})}var mC="https://g.co/ng/security#xss",V=class extends Error{constructor(e,n){super(Ay(e,n)),this.code=e}};function Ay(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function El(t){return{toString:t}.toString()}var Zd="__parameters__";function KV(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function My(t,e,n){return El(()=>{let i=KV(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,d){let f=c.hasOwnProperty(Zd)?c[Zd]:Object.defineProperty(c,Zd,{value:[]})[Zd];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ut=globalThis;function Qe(t){for(let e in t)if(t[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function QV(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function S_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YV=Qe({__forward_ref__:Qe});function dr(t){return t.__forward_ref__=dr,t.toString=function(){return nn(this())},t}function tn(t){return gC(t)?t():t}function gC(t){return typeof t=="function"&&t.hasOwnProperty(YV)&&t.__forward_ref__===dr}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ce(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nh(t){return AS(t,yC)||AS(t,vC)}function _C(t){return Nh(t)!==null}function AS(t,e){return t.hasOwnProperty(e)?t[e]:null}function JV(t){let e=t&&(t[yC]||t[vC]);return e||null}function MS(t){return t&&(t.hasOwnProperty(RS)||t.hasOwnProperty(ZV))?t[RS]:null}var yC=Qe({\u0275prov:Qe}),RS=Qe({\u0275inj:Qe}),vC=Qe({ngInjectableDef:Qe}),ZV=Qe({ngInjectorDef:Qe}),k=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wC(t){return t&&!!t.\u0275providers}var XV=Qe({\u0275cmp:Qe}),e2=Qe({\u0275dir:Qe}),t2=Qe({\u0275pipe:Qe}),n2=Qe({\u0275mod:Qe}),dh=Qe({\u0275fac:Qe}),ul=Qe({__NG_ELEMENT_ID__:Qe}),OS=Qe({__NG_ENV_ID__:Qe});function Il(t){return typeof t=="string"?t:t==null?"":String(t)}function i2(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Il(t)}function r2(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new V(-200,t)}function Ry(t,e){throw new V(-201,!1)}var Te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Te||{}),C_;function bC(){return C_}function dn(t){let e=C_;return C_=t,e}function EC(t,e,n){let i=Nh(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Te.Optional)return null;if(e!==void 0)return e;Ry(t,"Injector")}var s2={},hl=s2,A_="__NG_DI_FLAG__",hh="ngTempTokenPath",o2="ngTokenPath",a2=/\n/gm,c2="\u0275",NS="__source",ma;function l2(){return ma}function Zr(t){let e=ma;return ma=t,e}function u2(t,e=Te.Default){if(ma===void 0)throw new V(-203,!1);return ma===null?EC(t,void 0,e):ma.get(t,e&Te.Optional?null:void 0,e)}function N(t,e=Te.Default){return(bC()||u2)(tn(t),e)}function P(t,e=Te.Default){return N(t,xh(e))}function xh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function M_(t){let e=[];for(let n=0;n<t.length;n++){let i=tn(t[n]);if(Array.isArray(i)){if(i.length===0)throw new V(900,!1);let r,s=Te.Default;for(let o=0;o<i.length;o++){let a=i[o],c=d2(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(N(r,s))}else e.push(N(i))}return e}function Oy(t,e){return t[A_]=e,t.prototype[A_]=e,t}function d2(t){return t[A_]}function h2(t,e,n,i){let r=t[hh];throw e[NS]&&r.unshift(e[NS]),t.message=f2(`
`+t.message,r,n,i),t[o2]=r,t[hh]=null,t}function f2(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==c2?t.slice(2):t;let r=nn(e);if(Array.isArray(e))r=e.map(nn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):nn(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(a2,`
  `)}`}var Ny=Oy(My("Inject",t=>({token:t})),-1),Dt=Oy(My("Optional"),8);var xy=Oy(My("SkipSelf"),4);function Ks(t,e){let n=t.hasOwnProperty(dh);return n?t[dh]:null}function p2(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function m2(t){return t.flat(Number.POSITIVE_INFINITY)}function Py(t,e){t.forEach(n=>Array.isArray(n)?Py(n,e):e(n))}function IC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function g2(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function _2(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function ky(t,e,n){let i=Dl(t,e);return i>=0?t[i|1]=n:(i=~i,_2(t,i,e,n)),i}function h_(t,e){let n=Dl(t,e);if(n>=0)return t[n|1]}function Dl(t,e){return y2(t,e,1)}function y2(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var _a={},hn=[],es=new k(""),DC=new k("",-1),TC=new k(""),ph=class{get(e,n=hl){if(n===hl){let i=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw i.name="NullInjectorError",i}return n}},SC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SC||{}),bi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bi||{}),kt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(kt||{});function v2(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function R_(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];w2(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function CC(t){return t===3||t===4||t===6}function w2(t){return t.charCodeAt(0)===64}function fl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?xS(t,n,r,null,e[++i]):xS(t,n,r,null,null))}}return t}function xS(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var AC="ng-template";function b2(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&v2(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Fy(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Fy(t){return t.type===4&&t.value!==AC}function E2(t,e,n){let i=t.type===4&&!n?AC:t.value;return e===i}function I2(t,e,n){let i=4,r=t.attrs,s=r!==null?S2(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Qn(i)&&!Qn(c))return!1;if(o&&Qn(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!E2(t,c,n)||c===""&&e.length===1){if(Qn(i))return!1;o=!0}}else if(i&8){if(r===null||!b2(t,r,c,n)){if(Qn(i))return!1;o=!0}}else{let u=e[++a],d=D2(c,r,Fy(t),n);if(d===-1){if(Qn(i))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=r[d+1].toLowerCase(),i&2&&u!==f){if(Qn(i))return!1;o=!0}}}}return Qn(i)||o}function Qn(t){return(t&1)===0}function D2(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return C2(e,t)}function MC(t,e,n=!1){for(let i=0;i<e.length;i++)if(I2(t,e[i],n))return!0;return!1}function T2(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function S2(t){for(let e=0;e<t.length;e++){let n=t[e];if(CC(n))return e}return t.length}function C2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function A2(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function PS(t,e){return t?":not("+e.trim()+")":e}function M2(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Qn(o)&&(e+=PS(s,r),r=""),i=o,s=s||!Qn(i);n++}return r!==""&&(e+=PS(s,r)),e}function R2(t){return t.map(M2).join(",")}function O2(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!Qn(r))break;r=s}i++}return{attrs:e,classes:n}}function He(t){return El(()=>{let e=kC(t),n=G(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bi.Emulated,styles:t.styles||hn,_:null,schemas:t.schemas||null,tView:null,id:""});FC(n);let i=t.dependencies;return n.directiveDefs=FS(i,!1),n.pipeDefs=FS(i,!0),n.id=P2(n),n})}function N2(t){return rr(t)||OC(t)}function x2(t){return t!==null}function le(t){return El(()=>({type:t.type,bootstrap:t.bootstrap||hn,declarations:t.declarations||hn,imports:t.imports||hn,exports:t.exports||hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kS(t,e){if(t==null)return _a;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=kt.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==kt.None?[i,a]:i,e[s]=o):n[s]=i}return n}function st(t){return El(()=>{let e=kC(t);return FC(e),e})}function RC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function rr(t){return t[XV]||null}function OC(t){return t[e2]||null}function NC(t){return t[t2]||null}function xC(t){let e=rr(t)||OC(t)||NC(t);return e!==null?e.standalone:!1}function PC(t,e){let n=t[n2]||null;if(!n&&e===!0)throw new Error(`Type ${nn(t)} does not have '\u0275mod' property.`);return n}function kC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_a,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||hn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kS(t.inputs,e),outputs:kS(t.outputs),debugInfo:null}}function FC(t){t.features?.forEach(e=>e(t))}function FS(t,e){if(!t)return null;let n=e?NC:N2;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(x2)}function P2(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Qt(t){return{\u0275providers:t}}function k2(...t){return{\u0275providers:LC(!0,t),\u0275fromNgModule:!0}}function LC(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return Py(e,o=>{let a=o;O_(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&VC(r,s),n}function VC(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Ly(r,s=>{e(s,i)})}}function O_(t,e,n,i){if(t=tn(t),!t)return!1;let r=null,s=MS(t),o=!s&&rr(t);if(!s&&!o){let c=t.ngModule;if(s=MS(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)O_(u,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{Py(s.imports,d=>{O_(d,e,n,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&VC(u,e)}if(!a){let u=Ks(r)||(()=>new r);e({provide:r,useFactory:u,deps:hn},r),e({provide:TC,useValue:r,multi:!0},r),e({provide:es,useValue:()=>N(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;Ly(c,d=>{e(d,u)})}}else return!1;return r!==t&&t.providers!==void 0}function Ly(t,e){for(let n of t)wC(n)&&(n=n.\u0275providers),Array.isArray(n)?Ly(n,e):e(n)}var F2=Qe({provide:String,useValue:Qe});function BC(t){return t!==null&&typeof t=="object"&&F2 in t}function L2(t){return!!(t&&t.useExisting)}function V2(t){return!!(t&&t.useFactory)}function ya(t){return typeof t=="function"}function B2(t){return!!t.useClass}var Ph=new k(""),sh={},j2={},f_;function kh(){return f_===void 0&&(f_=new ph),f_}var $t=class{},pl=class extends $t{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,x_(e,o=>this.processProvider(o)),this.records.set(DC,da(void 0,this)),r.has("environment")&&this.records.set($t,da(void 0,this));let s=this.records.get(Ph);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(TC,hn,Te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ke(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Zr(this),i=dn(void 0),r;try{return e()}finally{Zr(n),dn(i)}}get(e,n=hl,i=Te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(OS))return e[OS](this);i=xh(i);let r,s=Zr(this),o=dn(void 0);try{if(!(i&Te.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=z2(e)&&Nh(e);u&&this.injectableDefInScope(u)?c=da(N_(e),sh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Te.Self?kh():this.parent;return n=i&Te.Optional&&n===hl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[hh]=a[hh]||[]).unshift(nn(e)),s)throw a;return h2(a,e,"R3InjectorError",this.source)}else throw a}finally{dn(o),Zr(s)}}resolveInjectorInitializers(){let e=ke(null),n=Zr(this),i=dn(void 0),r;try{let s=this.get(es,hn,Te.Self);for(let o of s)o()}finally{Zr(n),dn(i),ke(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(nn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){e=tn(e);let n=ya(e)?e:tn(e&&e.provide),i=$2(e);if(!ya(e)&&e.multi===!0){let r=this.records.get(n);r||(r=da(void 0,sh,!0),r.factory=()=>M_(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=ke(null);try{return n.value===sh&&(n.value=j2,n.value=n.factory()),typeof n.value=="object"&&n.value&&G2(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ke(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function N_(t){let e=Nh(t),n=e!==null?e.factory:Ks(t);if(n!==null)return n;if(t instanceof k)throw new V(204,!1);if(t instanceof Function)return U2(t);throw new V(204,!1)}function U2(t){if(t.length>0)throw new V(204,!1);let n=JV(t);return n!==null?()=>n.factory(t):()=>new t}function $2(t){if(BC(t))return da(void 0,t.useValue);{let e=jC(t);return da(e,sh)}}function jC(t,e,n){let i;if(ya(t)){let r=tn(t);return Ks(r)||N_(r)}else if(BC(t))i=()=>tn(t.useValue);else if(V2(t))i=()=>t.useFactory(...M_(t.deps||[]));else if(L2(t))i=()=>N(tn(t.useExisting));else{let r=tn(t&&(t.useClass||t.provide));if(H2(t))i=()=>new r(...M_(t.deps));else return Ks(r)||N_(r)}return i}function da(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function H2(t){return!!t.deps}function G2(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function z2(t){return typeof t=="function"||typeof t=="object"&&t instanceof k}function x_(t,e){for(let n of t)Array.isArray(n)?x_(n,e):n&&wC(n)?x_(n.\u0275providers,e):e(n)}function hr(t,e){t instanceof pl&&t.assertNotDestroyed();let n,i=Zr(t),r=dn(void 0);try{return e()}finally{Zr(i),dn(r)}}function UC(){return bC()!==void 0||l2()!=null}function Vy(t){if(!UC())throw new V(-203,!1)}function q2(t){let e=Ut.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function W2(t){return typeof t=="function"}var Ii=0,Ie=1,pe=2,Ht=3,Jn=4,bn=5,ml=6,gl=7,Zn=8,va=9,Xn=10,It=11,_l=12,LS=13,Da=14,ei=15,Tl=16,ha=17,sr=18,Fh=19,$C=20,Xr=21,p_=22,Qs=23,jn=25,By=1;var Ys=7,mh=8,wa=9,wn=10,jy=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(jy||{});function qs(t){return Array.isArray(t)&&typeof t[By]=="object"}function fr(t){return Array.isArray(t)&&t[By]===!0}function Uy(t){return(t.flags&4)!==0}function Lh(t){return t.componentOffset>-1}function Vh(t){return(t.flags&1)===1}function or(t){return!!t.template}function K2(t){return(t[pe]&512)!==0}var P_=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function HC(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Di(){return GC}function GC(t){return t.type.prototype.ngOnChanges&&(t.setInput=Y2),Q2}Di.ngInherit=!0;function Q2(){let t=qC(this),e=t?.current;if(e){let n=t.previous;if(n===_a)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Y2(t,e,n,i,r){let s=this.declaredInputs[i],o=qC(t)||J2(t,{previous:_a,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new P_(u&&u.currentValue,n,c===_a),HC(t,e,r,n)}var zC="__ngSimpleChanges__";function qC(t){return t[zC]||null}function J2(t,e){return t[zC]=e}var VS=null;var vi=function(t,e,n){VS?.(t,e,n)},Z2="svg",X2="math",eB=!1;function tB(){return eB}function Ei(t){for(;Array.isArray(t);)t=t[Ii];return t}function nB(t){for(;Array.isArray(t);){if(typeof t[By]=="object")return t;t=t[Ii]}return null}function WC(t,e){return Ei(e[t])}function Un(t,e){return Ei(e[t.index])}function KC(t,e){return t.data[e]}function iB(t,e){return t[e]}function is(t,e){let n=e[t];return qs(n)?n:n[Ii]}function rB(t){return(t[pe]&4)===4}function $y(t){return(t[pe]&128)===128}function sB(t){return fr(t[Ht])}function ba(t,e){return e==null?null:t[e]}function QC(t){t[ha]=0}function oB(t){t[pe]&1024||(t[pe]|=1024,$y(t)&&yl(t))}function aB(t,e){for(;t>0;)e=e[Da],t--;return e}function Hy(t){return!!(t[pe]&9216||t[Qs]?.dirty)}function k_(t){t[Xn].changeDetectionScheduler?.notify(1),Hy(t)?yl(t):t[pe]&64&&(tB()?(t[pe]|=1024,yl(t)):t[Xn].changeDetectionScheduler?.notify())}function yl(t){t[Xn].changeDetectionScheduler?.notify();let e=vl(t);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!$y(e)));)e=vl(e)}function YC(t,e){if((t[pe]&256)===256)throw new V(911,!1);t[Xr]===null&&(t[Xr]=[]),t[Xr].push(e)}function cB(t,e){if(t[Xr]===null)return;let n=t[Xr].indexOf(e);n!==-1&&t[Xr].splice(n,1)}function vl(t){let e=t[Ht];return fr(e)?e[Ht]:e}var Se={lFrame:o1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lB(){return Se.lFrame.elementDepthCount}function uB(){Se.lFrame.elementDepthCount++}function dB(){Se.lFrame.elementDepthCount--}function JC(){return Se.bindingsEnabled}function ZC(){return Se.skipHydrationRootTNode!==null}function hB(t){return Se.skipHydrationRootTNode===t}function fB(){Se.skipHydrationRootTNode=null}function Ne(){return Se.lFrame.lView}function Ct(){return Se.lFrame.tView}function pn(t){return Se.lFrame.contextLView=t,t[Zn]}function mn(t){return Se.lFrame.contextLView=null,t}function rn(){let t=XC();for(;t!==null&&t.type===64;)t=t.parent;return t}function XC(){return Se.lFrame.currentTNode}function pB(){let t=Se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ro(t,e){let n=Se.lFrame;n.currentTNode=t,n.isParent=e}function Gy(){return Se.lFrame.isParent}function zy(){Se.lFrame.isParent=!1}function e1(){let t=Se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mB(t){return Se.lFrame.bindingIndex=t}function Bh(){return Se.lFrame.bindingIndex++}function t1(t){let e=Se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function gB(){return Se.lFrame.inI18n}function _B(t,e){let n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=t,F_(e)}function yB(){return Se.lFrame.currentDirectiveIndex}function F_(t){Se.lFrame.currentDirectiveIndex=t}function n1(t){let e=Se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function i1(){return Se.lFrame.currentQueryIndex}function qy(t){Se.lFrame.currentQueryIndex=t}function vB(t){let e=t[Ie];return e.type===2?e.declTNode:e.type===1?t[bn]:null}function r1(t,e,n){if(n&Te.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&Te.Host);)if(r=vB(s),r===null||(s=s[Da],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=Se.lFrame=s1();return i.currentTNode=e,i.lView=t,!0}function Wy(t){let e=s1(),n=t[Ie];Se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function s1(){let t=Se.lFrame,e=t===null?null:t.child;return e===null?o1(t):e}function o1(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function a1(){let t=Se.lFrame;return Se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var c1=a1;function Ky(){let t=a1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wB(t){return(Se.lFrame.contextLView=aB(t,Se.lFrame.contextLView))[Zn]}function so(){return Se.lFrame.selectedIndex}function Js(t){Se.lFrame.selectedIndex=t}function Qy(){let t=Se.lFrame;return KC(t.tView,t.selectedIndex)}function bB(){return Se.lFrame.currentNamespace}var l1=!0;function jh(){return l1}function Uh(t){l1=t}function EB(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=GC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function $h(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function oh(t,e,n){u1(t,e,3,n)}function ah(t,e,n,i){(t[pe]&3)===n&&u1(t,e,n,i)}function m_(t,e){let n=t[pe];(n&3)===e&&(n&=16383,n+=1,t[pe]=n)}function u1(t,e,n,i){let r=i!==void 0?t[ha]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[ha]+=65536),(a<s||s==-1)&&(IB(t,n,e,c),t[ha]=(t[ha]&4294901760)+c+2),c++}function BS(t,e){vi(4,t,e);let n=ke(null);try{e.call(t)}finally{ke(n),vi(5,t,e)}}function IB(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[pe]>>14<t[ha]>>16&&(t[pe]&3)===e&&(t[pe]+=16384,BS(a,s)):BS(a,s)}var ga=-1,Zs=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function DB(t){return t instanceof Zs}function TB(t){return(t.flags&8)!==0}function SB(t){return(t.flags&16)!==0}function d1(t){return t!==ga}function gh(t){return t&32767}function CB(t){return t>>16}function _h(t,e){let n=CB(t),i=e;for(;n>0;)i=i[Da],n--;return i}var L_=!0;function yh(t){let e=L_;return L_=t,e}var AB=256,h1=AB-1,f1=5,MB=0,wi={};function RB(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(ul)&&(i=n[ul]),i==null&&(i=n[ul]=MB++);let r=i&h1,s=1<<r;e.data[t+(r>>f1)]|=s}function vh(t,e){let n=p1(t,e);if(n!==-1)return n;let i=e[Ie];i.firstCreatePass&&(t.injectorIndex=e.length,g_(i.data,t),g_(e,null),g_(i.blueprint,null));let r=Yy(t,e),s=t.injectorIndex;if(d1(r)){let o=gh(r),a=_h(r,e),c=a[Ie].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function g_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function p1(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=v1(r),i===null)return ga;if(n++,r=r[Da],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return ga}function V_(t,e,n){RB(t,e,n)}function OB(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(CC(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function m1(t,e,n){if(n&Te.Optional||t!==void 0)return t;Ry(e,"NodeInjector")}function g1(t,e,n,i){if(n&Te.Optional&&i===void 0&&(i=null),!(n&(Te.Self|Te.Host))){let r=t[va],s=dn(void 0);try{return r?r.get(e,i,n&Te.Optional):EC(e,i,n&Te.Optional)}finally{dn(s)}}return m1(i,e,n)}function _1(t,e,n,i=Te.Default,r){if(t!==null){if(e[pe]&2048&&!(i&Te.Self)){let o=kB(t,e,n,i,wi);if(o!==wi)return o}let s=y1(t,e,n,i,wi);if(s!==wi)return s}return g1(e,n,i,r)}function y1(t,e,n,i,r){let s=xB(n);if(typeof s=="function"){if(!r1(e,t,i))return i&Te.Host?m1(r,n,i):g1(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&Te.Optional))Ry(n);else return o}finally{c1()}}else if(typeof s=="number"){let o=null,a=p1(t,e),c=ga,u=i&Te.Host?e[ei][bn]:null;for((a===-1||i&Te.SkipSelf)&&(c=a===-1?Yy(t,e):e[a+8],c===ga||!US(i,!1)?a=-1:(o=e[Ie],a=gh(c),e=_h(c,e)));a!==-1;){let d=e[Ie];if(jS(s,a,d.data)){let f=NB(a,e,n,o,i,u);if(f!==wi)return f}c=e[a+8],c!==ga&&US(i,e[Ie].data[a+8]===u)&&jS(s,a,e)?(o=d,a=gh(c),e=_h(c,e)):a=-1}}return r}function NB(t,e,n,i,r,s){let o=e[Ie],a=o.data[t+8],c=i==null?Lh(a)&&L_:i!=o&&(a.type&3)!==0,u=r&Te.Host&&s===a,d=ch(a,o,n,c,u);return d!==null?Xs(e,o,d,a):wi}function ch(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,f=i?a:a+d,m=r?a+d:u;for(let _=f;_<m;_++){let v=o[_];if(_<c&&n===v||_>=c&&v.type===n)return _}if(r){let _=o[c];if(_&&or(_)&&_.type===n)return c}return null}function Xs(t,e,n,i){let r=t[n],s=e.data;if(DB(r)){let o=r;o.resolving&&r2(i2(s[n]));let a=yh(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?dn(o.injectImpl):null,d=r1(t,i,Te.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&EB(n,s[n],e)}finally{u!==null&&dn(u),yh(a),o.resolving=!1,c1()}}return r}function xB(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ul)?t[ul]:void 0;return typeof e=="number"?e>=0?e&h1:PB:e}function jS(t,e,n){let i=1<<t;return!!(n[e+(t>>f1)]&i)}function US(t,e){return!(t&Te.Self)&&!(t&Te.Host&&e)}var Ws=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return _1(this._tNode,this._lView,e,xh(i),n)}};function PB(){return new Ws(rn(),Ne())}function $n(t){return El(()=>{let e=t.prototype.constructor,n=e[dh]||B_(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[dh]||B_(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function B_(t){return gC(t)?()=>{let e=B_(tn(t));return e&&e()}:Ks(t)}function kB(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[pe]&2048&&!(o[pe]&512);){let a=y1(s,o,n,i|Te.Self,wi);if(a!==wi)return a;let c=s.parent;if(!c){let u=o[$C];if(u){let d=u.get(n,wi,i);if(d!==wi)return d}c=v1(o),o=o[Da]}s=c}return r}function v1(t){let e=t[Ie],n=e.type;return n===2?e.declTNode:n===1?t[bn]:null}function Hh(t){return OB(rn(),t)}function $S(t,e=null,n=null,i){let r=w1(t,e,n,i);return r.resolveInjectorInitializers(),r}function w1(t,e=null,n=null,i,r=new Set){let s=[n||hn,k2(t)];return i=i||(typeof t=="object"?void 0:nn(t)),new pl(s,e||kh(),i||null,r)}var qe=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return $S({name:""},r,i,"");{let s=i.name??"";return $S({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=hl,e.NULL=new ph,e.\u0275prov=L({token:e,providedIn:"any",factory:()=>N(DC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var FB="ngOriginalError";function __(t){return t[FB]}var fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&__(e);for(;n&&__(n);)n=__(n);return n||null}},b1=new k("",{providedIn:"root",factory:()=>P(fn).handleError.bind(void 0)}),oo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LB,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),j_=class extends oo{constructor(e){super(),this._lView=e}onDestroy(e){return YC(this._lView,e),()=>cB(this._lView,e)}};function LB(){return new j_(Ne())}function VB(){return Ta(rn(),Ne())}function Ta(t,e){return new Nt(Un(t,e))}var Nt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=VB;let t=e;return t})();function BB(t){return t instanceof Nt?t.nativeElement:t}var U_=class extends _e{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,UC()&&(this.destroyRef=P(oo,{optional:!0})??void 0)}emit(e){let n=ke(null);try{super.next(e)}finally{ke(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=y_(s),r&&(r=y_(r)),o&&(o=y_(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof wt&&e.add(a),a}};function y_(t){return e=>{setTimeout(t,void 0,e)}}var tt=U_;function jB(){return this._results[Symbol.iterator]()}var $_=class t{get changes(){return this._changes??=new tt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=jB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=m2(e);(this._changesDetected=!p2(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function E1(t){return(t.flags&128)===128}var I1=new Map,UB=0;function $B(){return UB++}function HB(t){I1.set(t[Fh],t)}function GB(t){I1.delete(t[Fh])}var HS="__ngContext__";function ts(t,e){qs(e)?(t[HS]=e[Fh],HB(e)):t[HS]=e}function D1(t){return S1(t[_l])}function T1(t){return S1(t[Jn])}function S1(t){for(;t!==null&&!fr(t);)t=t[Jn];return t}var H_;function C1(t){H_=t}function A1(){if(H_!==void 0)return H_;if(typeof document<"u")return document;throw new V(210,!1)}var Gh=new k("",{providedIn:"root",factory:()=>zB}),zB="ng",Jy=new k(""),ti=new k("",{providedIn:"platform",factory:()=>"unknown"});var Zy=new k(""),Xy=new k("",{providedIn:"root",factory:()=>A1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qB="h",WB="b";var KB=()=>null;function ev(t,e,n=!1){return KB(t,e,n)}var M1=!1,QB=new k("",{providedIn:"root",factory:()=>M1});var Xd;function YB(){if(Xd===void 0&&(Xd=null,Ut.trustedTypes))try{Xd=Ut.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xd}function zh(t){return YB()?.createHTML(t)||t}var eh;function R1(){if(eh===void 0&&(eh=null,Ut.trustedTypes))try{eh=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return eh}function GS(t){return R1()?.createHTML(t)||t}function zS(t){return R1()?.createScriptURL(t)||t}var ar=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mC})`}},G_=class extends ar{getTypeName(){return"HTML"}},z_=class extends ar{getTypeName(){return"Style"}},q_=class extends ar{getTypeName(){return"Script"}},W_=class extends ar{getTypeName(){return"URL"}},K_=class extends ar{getTypeName(){return"ResourceURL"}};function Hn(t){return t instanceof ar?t.changingThisBreaksApplicationSecurity:t}function pr(t,e){let n=JB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mC})`)}return n===e}function JB(t){return t instanceof ar&&t.getTypeName()||null}function O1(t){return new G_(t)}function N1(t){return new z_(t)}function x1(t){return new q_(t)}function P1(t){return new W_(t)}function k1(t){return new K_(t)}function ZB(t){let e=new Y_(t);return XB()?new Q_(e):e}var Q_=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(zh(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Y_=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=zh(e),n}};function XB(){try{return!!new window.DOMParser().parseFromString(zh(""),"text/html")}catch{return!1}}var ej=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qh(t){return t=String(t),t.match(ej)?t:"unsafe:"+t}function mr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Sl(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var F1=mr("area,br,col,hr,img,wbr"),L1=mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),V1=mr("rp,rt"),tj=Sl(V1,L1),nj=Sl(L1,mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ij=Sl(V1,mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qS=Sl(F1,nj,ij,tj),B1=mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rj=mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sj=mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),oj=Sl(B1,rj,sj),aj=mr("script,style,template"),J_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=uj(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=lj(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=WS(e).toLowerCase();if(!qS.hasOwnProperty(n))return this.sanitizedSomething=!0,!aj.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!oj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;B1[a]&&(c=qh(c)),this.buf.push(" ",o,'="',KS(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=WS(e).toLowerCase();qS.hasOwnProperty(n)&&!F1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(KS(e))}};function cj(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function lj(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw j1(e);return e}function uj(t){let e=t.firstChild;if(e&&cj(t,e))throw j1(e);return e}function WS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function j1(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var dj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hj=/([^\#-~ |!])/g;function KS(t){return t.replace(/&/g,"&amp;").replace(dj,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(hj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var th;function tv(t,e){let n=null;try{th=th||ZB(t);let i=e?String(e):"";n=th.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=th.getInertBodyElement(i)}while(i!==s);let a=new J_().sanitizeChildren(QS(n)||n);return zh(a)}finally{if(n){let i=QS(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function QS(t){return"content"in t&&fj(t)?t.content:null}function fj(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var En=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(En||{});function nv(t){let e=sv();return e?GS(e.sanitize(En.HTML,t)||""):pr(t,"HTML")?GS(Hn(t)):tv(A1(),Il(t))}function iv(t){let e=sv();return e?e.sanitize(En.URL,t)||"":pr(t,"URL")?Hn(t):qh(Il(t))}function rv(t){let e=sv();if(e)return zS(e.sanitize(En.RESOURCE_URL,t)||"");if(pr(t,"ResourceURL"))return zS(Hn(t));throw new V(904,!1)}function pj(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rv:iv}function U1(t,e,n){return pj(e,n)(t)}function sv(){let t=Ne();return t&&t[Xn].sanitizer}var mj=/^>|^->|<!--|-->|--!>|<!-$/g,gj=/(<|>)/g,_j="\u200B$1\u200B";function yj(t){return t.replace(mj,e=>e.replace(gj,_j))}function $1(t){return t.ownerDocument.defaultView}function H1(t){return t instanceof Function?t():t}function vj(t){return(t??P(qe)).get(ti)==="browser"}var cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cr||{}),wj;function ov(t,e){return wj(t,e)}function fa(t,e,n,i,r){if(i!=null){let s,o=!1;fr(i)?s=i:qs(i)&&(o=!0,i=i[Ii]);let a=Ei(i);t===0&&n!==null?r==null?Q1(e,n,a):wh(e,n,a,r||null,!0):t===1&&n!==null?wh(e,n,a,r||null,!0):t===2?Fj(e,a,o):t===3&&e.destroyNode(a),s!=null&&Vj(e,t,s,n,r)}}function bj(t,e){return t.createText(e)}function Ej(t,e,n){t.setValue(e,n)}function Ij(t,e){return t.createComment(yj(e))}function G1(t,e,n){return t.createElement(e,n)}function Dj(t,e){z1(t,e),e[Ii]=null,e[bn]=null}function Tj(t,e,n,i,r,s){i[Ii]=r,i[bn]=e,Kh(t,i,n,1,r,s)}function z1(t,e){e[Xn].changeDetectionScheduler?.notify(1),Kh(t,e,e[It],2,null,null)}function Sj(t){let e=t[_l];if(!e)return v_(t[Ie],t);for(;e;){let n=null;if(qs(e))n=e[_l];else{let i=e[wn];i&&(n=i)}if(!n){for(;e&&!e[Jn]&&e!==t;)qs(e)&&v_(e[Ie],e),e=e[Ht];e===null&&(e=t),qs(e)&&v_(e[Ie],e),n=e&&e[Jn]}e=n}}function Cj(t,e,n,i){let r=wn+i,s=n.length;i>0&&(n[r-1][Jn]=e),i<s-wn?(e[Jn]=n[r],IC(n,wn+i,e)):(n.push(e),e[Jn]=null),e[Ht]=n;let o=e[Tl];o!==null&&n!==o&&Aj(o,e);let a=e[sr];a!==null&&a.insertView(t),k_(e),e[pe]|=128}function Aj(t,e){let n=t[wa],r=e[Ht][Ht][ei];e[ei]!==r&&(t[pe]|=jy.HasTransplantedViews),n===null?t[wa]=[e]:n.push(e)}function q1(t,e){let n=t[wa],i=n.indexOf(e);n.splice(i,1)}function Z_(t,e){if(t.length<=wn)return;let n=wn+e,i=t[n];if(i){let r=i[Tl];r!==null&&r!==t&&q1(r,i),e>0&&(t[n-1][Jn]=i[Jn]);let s=fh(t,wn+e);Dj(i[Ie],i);let o=s[sr];o!==null&&o.detachView(s[Ie]),i[Ht]=null,i[Jn]=null,i[pe]&=-129}return i}function W1(t,e){if(!(e[pe]&256)){let n=e[It];n.destroyNode&&Kh(t,e,n,3,null,null),Sj(e)}}function v_(t,e){if(e[pe]&256)return;let n=ke(null);try{e[pe]&=-129,e[pe]|=256,e[Qs]&&KT(e[Qs]),Rj(t,e),Mj(t,e),e[Ie].type===1&&e[It].destroy();let i=e[Tl];if(i!==null&&fr(e[Ht])){i!==e[Ht]&&q1(i,e);let r=e[sr];r!==null&&r.detachView(t)}GB(e)}finally{ke(n)}}function Mj(t,e){let n=t.cleanup,i=e[gl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[gl]=null);let r=e[Xr];if(r!==null){e[Xr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function Rj(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Zs)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];vi(4,a,c);try{c.call(a)}finally{vi(5,a,c)}}else{vi(4,r,s);try{s.call(r)}finally{vi(5,r,s)}}}}}function K1(t,e,n){return Oj(t,e.parent,n)}function Oj(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Ii];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===bi.None||s===bi.Emulated)return null}return Un(i,n)}}function wh(t,e,n,i,r){t.insertBefore(e,n,i,r)}function Q1(t,e,n){t.appendChild(e,n)}function YS(t,e,n,i,r){i!==null?wh(t,e,n,i,r):Q1(t,e,n)}function Nj(t,e,n,i){t.removeChild(e,n,i)}function av(t,e){return t.parentNode(e)}function xj(t,e){return t.nextSibling(e)}function Y1(t,e,n){return kj(t,e,n)}function Pj(t,e,n){return t.type&40?Un(t,n):null}var kj=Pj,JS;function Wh(t,e,n,i){let r=K1(t,i,e),s=e[It],o=i.parent||e[bn],a=Y1(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)YS(s,r,n[c],a,!1);else YS(s,r,n,a,!1);JS!==void 0&&JS(s,i,e,n,r)}function lh(t,e){if(e!==null){let n=e.type;if(n&3)return Un(e,t);if(n&4)return X_(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return lh(t,i);{let r=t[e.index];return fr(r)?X_(-1,r):Ei(r)}}else{if(n&32)return ov(e,t)()||Ei(t[e.index]);{let i=J1(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=vl(t[ei]);return lh(r,i)}else return lh(t,e.next)}}}return null}function J1(t,e){if(e!==null){let i=t[ei][bn],r=e.projection;return i.projection[r]}return null}function X_(t,e){let n=wn+t+1;if(n<e.length){let i=e[n],r=i[Ie].firstChild;if(r!==null)return lh(i,r)}return e[Ys]}function Fj(t,e,n){let i=av(t,e);i&&Nj(t,i,e,n)}function cv(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&ts(Ei(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)cv(t,e,n.child,i,r,s,!1),fa(e,t,r,a,s);else if(c&32){let u=ov(n,i),d;for(;d=u();)fa(e,t,r,d,s);fa(e,t,r,a,s)}else c&16?Z1(t,e,i,n,r,s):fa(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Kh(t,e,n,i,r,s){cv(n,i,t.firstChild,e,r,s,!1)}function Lj(t,e,n){let i=e[It],r=K1(t,n,e),s=n.parent||e[bn],o=Y1(s,n,e);Z1(i,0,e,n,r,o)}function Z1(t,e,n,i,r,s){let o=n[ei],c=o[bn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];fa(e,t,r,d,s)}else{let u=c,d=o[Ht];E1(i)&&(u.flags|=128),cv(t,e,u,d,r,s,!0)}}function Vj(t,e,n,i,r){let s=n[Ys],o=Ei(n);s!==o&&fa(e,t,i,s,r);for(let a=wn;a<n.length;a++){let c=n[a];Kh(c[Ie],c,t,e,i,s)}}function Bj(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:cr.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=cr.Important),t.setStyle(n,i,r,s))}}function jj(t,e,n){t.setAttribute(e,"style",n)}function X1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eA(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&R_(t,e,i),r!==null&&X1(t,e,r),s!==null&&jj(t,e,s)}var gr={};function re(t=1){tA(Ct(),Ne(),so()+t,!1)}function tA(t,e,n,i){if(!i)if((e[pe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&oh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ah(e,s,0,n)}Js(n)}function W(t,e=Te.Default){let n=Ne();if(n===null)return N(t,e);let i=rn();return _1(i,n,tn(t),e)}function nA(){let t="invalid";throw new Error(t)}function iA(t,e,n,i,r,s){let o=ke(null);try{let a=null;r&kt.SignalBased&&(a=e[i][$r]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&kt.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):HC(e,a,i,s)}finally{ke(o)}}function Uj(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Js(~r);else{let s=r,o=n[++i],a=n[++i];_B(o,s);let c=e[s];a(2,c)}}}finally{Js(-1)}}function Qh(t,e,n,i,r,s,o,a,c,u,d){let f=e.blueprint.slice();return f[Ii]=r,f[pe]=i|4|128|8|64,(u!==null||t&&t[pe]&2048)&&(f[pe]|=2048),QC(f),f[Ht]=f[Da]=t,f[Zn]=n,f[Xn]=o||t&&t[Xn],f[It]=a||t&&t[It],f[va]=c||t&&t[va]||null,f[bn]=s,f[Fh]=$B(),f[ml]=d,f[$C]=u,f[ei]=e.type==2?t[ei]:f,f}function Sa(t,e,n,i,r){let s=t.data[e];if(s===null)s=$j(t,e,n,i,r),gB()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=pB();s.injectorIndex=o===null?-1:o.injectorIndex}return ro(s,!0),s}function $j(t,e,n,i,r){let s=XC(),o=Gy(),a=o?s:s&&s.parent,c=t.data[e]=Kj(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function rA(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function sA(t,e,n,i,r){let s=so(),o=i&2;try{Js(-1),o&&e.length>jn&&tA(t,e,jn,!1),vi(o?2:0,r),n(i,r)}finally{Js(s),vi(o?3:1,r)}}function lv(t,e,n){if(Uy(e)){let i=ke(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ke(i)}}}function uv(t,e,n){JC()&&(eU(t,e,n,Un(n,e)),(n.flags&64)===64&&lA(t,e,n))}function dv(t,e,n=Un){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function oA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hv(t,e,n,i,r,s,o,a,c,u,d){let f=jn+i,m=f+r,_=Hj(f,m),v=typeof u=="function"?u():u;return _[Ie]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function Hj(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:gr);return n}function Gj(t,e,n,i){let s=i.get(QB,M1)||n===bi.ShadowDom,o=t.selectRootElement(e,s);return zj(o),o}function zj(t){qj(t)}var qj=()=>null;function Wj(t,e,n,i){let r=hA(e);r.push(n),t.firstCreatePass&&fA(t).push(i,r.length-1)}function Kj(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return ZC()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ZS(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=kt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?XS(i,n,u,a,c):XS(i,n,u,a)}return i}function XS(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function Qj(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=i;d<r;d++){let f=s[d],m=n?n.get(f):null,_=m?m.inputs:null,v=m?m.outputs:null;c=ZS(0,f.inputs,d,c,_),u=ZS(1,f.outputs,d,u,v);let D=c!==null&&o!==null&&!Fy(e)?dU(c,d,o):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function Yj(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aA(t,e,n,i,r,s,o,a){let c=Un(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(pv(t,n,d,i,r),Lh(e)&&Jj(n,e.index)):e.type&3?(i=Yj(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function Jj(t,e){let n=is(e,t);n[pe]&16||(n[pe]|=64)}function fv(t,e,n,i){if(JC()){let r=i===null?null:{"":-1},s=nU(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&cA(t,e,n,o,r,a),r&&iU(n,i,r)}n.mergedAttrs=fl(n.mergedAttrs,n.attrs)}function cA(t,e,n,i,r,s){for(let u=0;u<i.length;u++)V_(vh(n,e),t,i[u].type);sU(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=rA(t,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];n.mergedAttrs=fl(n.mergedAttrs,d.hostAttrs),oU(t,n,e,c,d),rU(c,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}Qj(t,n,s)}function Zj(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Xj(o)!=a&&o.push(a),o.push(n,i,s)}}function Xj(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function eU(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Lh(n)&&aU(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||vh(n,e),ts(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=Xs(e,t,a,n);if(ts(u,e),o!==null&&uU(e,a-r,u,c,n,o),or(c)){let d=is(n.index,e);d[Zn]=Xs(e,t,a,n)}}}function lA(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=yB();try{Js(s);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];F_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tU(c,u)}}finally{Js(-1),F_(o)}}function tU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nU(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(MC(e,o.selectors,!1))if(i||(i=[]),or(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;ey(t,e,c)}else i.unshift(o),ey(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function ey(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iU(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new V(-301,!1);i.push(e[r],s)}}}function rU(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;or(e)&&(n[""]=t)}}function sU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function oU(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Ks(r.type,!0)),o=new Zs(s,or(r),W);t.blueprint[i]=o,n[i]=o,Zj(t,e,i,rA(t,n,r.hostVars,gr),r)}function aU(t,e,n){let i=Un(e,t),r=oA(n),s=t[Xn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Yh(t,Qh(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function cU(t,e,n,i,r,s){let o=Un(t,e);lU(e[It],o,s,t.value,n,i,r)}function lU(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?Il(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function uU(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],f=o[a++];iA(i,n,c,u,d,f)}}function dU(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function uA(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function dA(t,e){let n=t.contentQueries;if(n!==null){let i=ke(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];qy(s),a.contentQueries(2,e[o],o)}}}finally{ke(i)}}}function Yh(t,e){return t[_l]?t[LS][Jn]=e:t[_l]=e,t[LS]=e,e}function ty(t,e,n){qy(0);let i=ke(null);try{e(t,n)}finally{ke(i)}}function hA(t){return t[gl]||(t[gl]=[])}function fA(t){return t.cleanup||(t.cleanup=[])}function hU(t,e,n){return(t===null||or(t))&&(n=nB(n[e.index])),n[It]}function pA(t,e){let n=t[va],i=n?n.get(fn,null):null;i&&i.handleError(e)}function pv(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];iA(d,u,i,a,c,r)}}function fU(t,e,n){let i=WC(e,t);Ej(t[It],i,n)}function pU(t,e){let n=is(e,t),i=n[Ie];mU(i,n);let r=n[Ii];r!==null&&n[ml]===null&&(n[ml]=ev(r,n[va])),mv(i,n,n[Zn])}function mU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mv(t,e,n){Wy(e);try{let i=t.viewQuery;i!==null&&ty(1,i,n);let r=t.template;r!==null&&sA(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[sr]?.finishViewCreation(t),t.staticContentQueries&&dA(t,e),t.staticViewQueries&&ty(2,t.viewQuery,n);let s=t.components;s!==null&&gU(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[pe]&=-5,Ky()}}function gU(t,e){for(let n=0;n<e.length;n++)pU(t,e[n])}function _U(t,e,n,i){let r=ke(null);try{let s=e.tView,a=t[pe]&4096?4096:16,c=Qh(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[Tl]=u;let d=t[sr];return d!==null&&(c[sr]=d.createEmbeddedView(s)),mv(s,c,n),c}finally{ke(r)}}function eC(t,e){return!e||e.firstChild===null||E1(t)}function yU(t,e,n,i=!0){let r=e[Ie];if(Cj(r,e,t,n),i){let o=X_(n,t),a=e[It],c=av(a,t[Ys]);c!==null&&Tj(r,t[bn],a,e,c,o)}let s=e[ml];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function bh(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Ei(s)),fr(s)&&vU(s,i);let o=n.type;if(o&8)bh(t,e,n.child,i);else if(o&32){let a=ov(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=J1(e,n);if(Array.isArray(a))i.push(...a);else{let c=vl(e[ei]);bh(c[Ie],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function vU(t,e){for(let n=wn;n<t.length;n++){let i=t[n],r=i[Ie].firstChild;r!==null&&bh(i[Ie],i,r,e)}t[Ys]!==t[Ii]&&e.push(t[Ys])}var mA=[];function wU(t){return t[Qs]??bU(t)}function bU(t){let e=mA.pop()??Object.create(IU);return e.lView=t,e}function EU(t){t.lView[Qs]!==t&&(t.lView=null,mA.push(t))}var IU=G(R({},Id),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{yl(t.lView)},consumerOnSignalRead(){this.lView[Qs]=this}}),gA=100;function _A(t,e=!0,n=0){let i=t[Xn],r=i.rendererFactory,s=!1;s||r.begin?.();try{DU(t,n)}catch(o){throw e&&pA(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function DU(t,e){ny(t,e);let n=0;for(;Hy(t);){if(n===gA)throw new V(103,!1);n++,ny(t,1)}}function TU(t,e,n,i){let r=e[pe];if((r&256)===256)return;let s=!1;!s&&e[Xn].inlineEffectRunner?.flush(),Wy(e);let o=null,a=null;!s&&SU(t)&&(a=wU(e),o=Lg(a));try{QC(e),mB(t.bindingStartIndex),n!==null&&sA(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&oh(e,f,null)}else{let f=t.preOrderHooks;f!==null&&ah(e,f,0,null),m_(e,0)}if(CU(e),yA(e,0),t.contentQueries!==null&&dA(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&oh(e,f)}else{let f=t.contentHooks;f!==null&&ah(e,f,1),m_(e,1)}Uj(t,e);let u=t.components;u!==null&&wA(e,u,0);let d=t.viewQuery;if(d!==null&&ty(2,d,i),!s)if(c){let f=t.viewCheckHooks;f!==null&&oh(e,f)}else{let f=t.viewHooks;f!==null&&ah(e,f,2),m_(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[p_]){for(let f of e[p_])f();e[p_]=null}s||(e[pe]&=-73)}catch(c){throw yl(e),c}finally{a!==null&&(Vg(a,o),EU(a)),Ky()}}function SU(t){return t.type!==2}function yA(t,e){for(let n=D1(t);n!==null;n=T1(n))for(let i=wn;i<n.length;i++){let r=n[i];vA(r,e)}}function CU(t){for(let e=D1(t);e!==null;e=T1(e)){if(!(e[pe]&jy.HasTransplantedViews))continue;let n=e[wa];for(let i=0;i<n.length;i++){let r=n[i],s=r[Ht];oB(r)}}}function AU(t,e,n){let i=is(e,t);vA(i,n)}function vA(t,e){$y(t)&&ny(t,e)}function ny(t,e){let i=t[Ie],r=t[pe],s=t[Qs],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Bg(s)),s&&(s.dirty=!1),t[pe]&=-9217,o)TU(i,t,i.template,t[Zn]);else if(r&8192){yA(t,1);let a=i.components;a!==null&&wA(t,a,1)}}function wA(t,e,n){for(let i=0;i<e.length;i++)AU(t,e[i],n)}function gv(t){for(t[Xn].changeDetectionScheduler?.notify();t;){t[pe]|=64;let e=vl(t);if(K2(t)&&!e)return t;t=e}return null}var eo=class{get rootNodes(){let e=this._lView,n=e[Ie];return bh(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(e){this._lView[Zn]=e}get destroyed(){return(this._lView[pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ht];if(fr(e)){let n=e[mh],i=n?n.indexOf(this):-1;i>-1&&(Z_(e,i),fh(n,i))}this._attachedToViewContainer=!1}W1(this._lView[Ie],this._lView)}onDestroy(e){YC(this._lView,e)}markForCheck(){gv(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){k_(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,_A(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,z1(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e,k_(this._lView)}},lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OU;let t=e;return t})(),MU=lr,RU=class extends MU{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=_U(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new eo(r)}};function OU(){return _v(rn(),Ne())}function _v(t,e){return t.type&4?new RU(e,t,Ta(t,e)):null}var Use=new RegExp(`^(\\d+)*(${WB}|${qB})*(.*)`);var NU=()=>null;function tC(t,e){return NU(t,e)}var Ea=class{},iy=class{},Eh=class{};function xU(t){let e=Error(`No component factory found for ${nn(t)}.`);return e[PU]=t,e}var PU="ngComponent";var ry=class{resolveComponentFactory(e){throw xU(e)}},Ca=(()=>{let e=class e{};e.NULL=new ry;let t=e;return t})(),to=class{},ni=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>kU();let t=e;return t})();function kU(){let t=Ne(),e=rn(),n=is(e.index,t);return(qs(n)?n:t)[It]}var FU=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),w_={};var nC=new Set;function Aa(t){nC.has(t)||(nC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function iC(...t){}function LU(){let t=typeof Ut.requestAnimationFrame=="function",e=Ut[t?"requestAnimationFrame":"setTimeout"],n=Ut[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var he=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=LU().nativeRequestAnimationFrame,jU(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,VU,iC,iC);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},VU={};function yv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BU(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sy(t),t.isCheckStableRunning=!0,yv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sy(t))}function jU(t){let e=()=>{BU(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(UU(a))return n.invokeTask(r,s,o,a);try{return rC(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sC(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return rC(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),sC(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,sy(t),yv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function sy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function rC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sC(t){t._nesting--,yv(t)}var oy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function UU(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function $U(t="zone.js",e){return t==="noop"?new oy:t==="zone.js"?new he(e):t}var pa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(pa||{}),HU={destroy(){}};function Jh(t,e){!e&&Vy(Jh);let n=e?.injector??P(qe);if(!vj(n))return HU;Aa("NgAfterNextRender");let i=n.get(vv),r=i.handler??=new cy,s=e?.phase??pa.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(oo).onDestroy(o),c=hr(n,()=>new ay(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var ay=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=P(he),this.errorHandler=P(fn,{optional:!0}),P(Ea,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},cy=class{constructor(){this.executingCallbacks=!1,this.buckets={[pa.EarlyRead]:new Set,[pa.Write]:new Set,[pa.MixedReadWrite]:new Set,[pa.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},vv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ih(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=S_(r,a);else if(s==2){let c=a,u=e[++o];i=S_(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Dh=class extends Ca{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=rr(e);return new no(n,this.ngModule)}};function oC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function GU(t){let e=t.toLowerCase();return e==="svg"?Z2:e==="math"?X2:null}var ly=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=xh(i);let r=this.injector.get(e,w_,i);return r!==w_||n===w_?r:this.parentInjector.get(e,n,i)}},no=class extends Eh{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=oC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return oC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=R2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=ke(null);try{r=r||this.ngModule;let o=r instanceof $t?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ly(e,o):e,c=a.get(to,null);if(c===null)throw new V(407,!1);let u=a.get(FU,null),d=a.get(vv,null),f=a.get(Ea,null),m={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},_=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",D=i?Gj(_,i,this.componentDef.encapsulation,a):G1(_,v,GU(v)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let x=null;D!==null&&(x=ev(D,a,!0));let j=hv(0,null,null,1,0,null,null,null,null,null,null),q=Qh(null,j,null,A,null,null,m,_,a,null,x);Wy(q);let B,oe;try{let H=this.componentDef,I,y=null;H.findHostDirectiveDefs?(I=[],y=new Map,H.findHostDirectiveDefs(H,I,y),I.push(H)):I=[H];let w=zU(q,D),T=qU(w,D,H,I,q,m,_);oe=KC(j,jn),D&&QU(_,H,D,i),n!==void 0&&YU(oe,this.ngContentSelectors,n),B=KU(T,H,I,y,q,[JU]),mv(j,q,null)}finally{Ky()}return new uy(this.componentType,B,Ta(oe,q),q,oe)}finally{ke(s)}}},uy=class extends iy{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new eo(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;pv(s[Ie],s,r,e,n),this.previousInputValues.set(e,n);let o=is(this._tNode.index,s);gv(o)}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function zU(t,e){let n=t[Ie],i=jn;return t[i]=e,Sa(n,i,2,"#host",null)}function qU(t,e,n,i,r,s,o){let a=r[Ie];WU(i,t,e,o);let c=null;e!==null&&(c=ev(e,r[va]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Qh(r,oA(n),null,d,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&ey(a,t,i.length-1),Yh(r,f),r[t.index]=f}function WU(t,e,n,i){for(let r of t)e.mergedAttrs=fl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Ih(e,e.mergedAttrs,!0),n!==null&&eA(i,n,e))}function KU(t,e,n,i,r,s){let o=rn(),a=r[Ie],c=Un(o,r);cA(a,r,o,n,null,i);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,m=Xs(r,a,f,o);ts(m,r)}lA(a,r,o),c&&ts(c,r);let u=Xs(r,a,o.directiveStart+o.componentOffset,o);if(t[Zn]=r[Zn]=u,s!==null)for(let d of s)d(u,e);return lv(a,o,r),u}function QU(t,e,n,i){if(i)R_(t,n,["ng-version","17.3.11"]);else{let{attrs:r,classes:s}=O2(e.selectors[0]);r&&R_(t,n,r),s&&s.length>0&&X1(t,n,s.join(" "))}}function YU(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function JU(){let t=rn();$h(Ne()[Ie],t)}var _r=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZU;let t=e;return t})();function ZU(){let t=rn();return EA(t,Ne())}var XU=_r,bA=class extends XU{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Ta(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yy(this._hostTNode,this._hostLView);if(d1(e)){let n=_h(e,this._hostLView),i=gh(e),r=n[Ie].data[i+8];return new Ws(r,n)}else return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=aC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-wn}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=tC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,eC(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!W2(e),a;if(o)a=n;else{let v=n||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let c=o?e:new no(rr(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let D=(o?u:this.parentInjector).get($t,null);D&&(s=D)}let d=rr(c.componentType??{}),f=tC(this._lContainer,d?.id??null),m=f?.firstChild??null,_=c.create(u,r,m,s);return this.insertImpl(_.hostView,a,eC(this._hostTNode,f)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(sB(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Ht],u=new bA(c,c[bn],c[Ht]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return yU(o,r,s,i),e.attachToViewContainerRef(),IC(b_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=aC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Z_(this._lContainer,n);i&&(fh(b_(this._lContainer),n),W1(i[Ie],i))}detach(e){let n=this._adjustIndex(e,-1),i=Z_(this._lContainer,n);return i&&fh(b_(this._lContainer),n)!=null?new eo(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function aC(t){return t[mh]}function b_(t){return t[mh]||(t[mh]=[])}function EA(t,e){let n,i=e[t.index];return fr(i)?n=i:(n=uA(i,e,null,t),e[t.index]=n,Yh(e,n)),t$(n,e,t,i),new bA(n,t,e)}function e$(t,e){let n=t[It],i=n.createComment(""),r=Un(e,t),s=av(n,r);return wh(n,s,i,xj(n,r),!1),i}var t$=r$,n$=()=>!1;function i$(t,e,n){return n$(t,e,n)}function r$(t,e,n,i){if(t[Ys])return;let r;n.type&8?r=Ei(i):r=e$(e,n),t[Ys]=r}var dy=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},hy=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)wv(e,n).matches!==null&&this.queries[n].setDirty()}},Th=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=h$(e):this.predicate=e}},fy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},py=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,s$(n,s)),this.matchTNodeWithReadOption(e,n,ch(n,e,s,!1,!1))}else i===lr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ch(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Nt||r===_r||r===lr&&n.type&4)this.addMatch(n.index,-2);else{let s=ch(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function s$(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function o$(t,e){return t.type&11?Ta(t,e):t.type&4?_v(t,e):null}function a$(t,e,n,i){return n===-1?o$(e,t):n===-2?c$(t,e,i):Xs(t,t[Ie],n,e)}function c$(t,e,n){if(n===Nt)return Ta(e,t);if(n===lr)return _v(e,t);if(n===_r)return EA(e,t)}function IA(t,e,n,i){let r=e[sr].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(a$(e,d,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function my(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=IA(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let f=wn;f<d.length;f++){let m=d[f];m[Tl]===m[Ht]&&my(m[Ie],m,u,i)}if(d[wa]!==null){let f=d[wa];for(let m=0;m<f.length;m++){let _=f[m];my(_[Ie],_,u,i)}}}}}return i}function l$(t,e){return t[sr].queries[e].queryList}function DA(t,e,n){let i=new $_((n&4)===4);return Wj(t,e,i,i.destroy),(e[sr]??=new hy).queries.push(new dy(i))-1}function u$(t,e,n){let i=Ct();return i.firstCreatePass&&(TA(i,new Th(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),DA(i,Ne(),e)}function d$(t,e,n,i){let r=Ct();if(r.firstCreatePass){let s=rn();TA(r,new Th(e,n,i),s.index),f$(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return DA(r,Ne(),n)}function h$(t){return t.split(",").map(e=>e.trim())}function TA(t,e,n){t.queries===null&&(t.queries=new fy),t.queries.track(new py(e,n))}function f$(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function wv(t,e){return t.queries.getByIndex(e)}function p$(t,e){let n=t[Ie],i=wv(n,e);return i.crossesNgTemplate?my(n,t,e,[]):IA(n,t,i,e)}function rs(t,e){Aa("NgSignals");let n=tS(t),i=n[$r];return e?.equal&&(i.equal=e.equal),n.set=r=>jg(i,r),n.update=r=>nS(i,r),n.asReadonly=m$.bind(n),n}function m$(){let t=this[$r];if(t.readonlyFn===void 0){let e=()=>this();e[$r]=t,t.readonlyFn=e}return t.readonlyFn}function g$(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(w$))}return s}return Sh.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((f,m)=>{a.push(""),o.push(i(f).then(_=>{a[u+m]=_,d.splice(d.indexOf(f),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>b$(s));e.push(c)}),y$(),Promise.all(e).then(()=>{})}var Sh=new Map,_$=new Set;function y$(){let t=Sh;return Sh=new Map,t}function v$(){return Sh.size===0}function w$(t){return typeof t=="string"?t:t.text()}function b$(t){_$.delete(t)}function E$(t){return Object.getPrototypeOf(t.prototype).constructor}function ii(t){let e=E$(t.type),n=!0,i=[t];for(;e;){let r;if(or(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=nh(t.inputs),o.inputTransforms=nh(t.inputTransforms),o.declaredInputs=nh(t.declaredInputs),o.outputs=nh(t.outputs);let a=r.hostBindings;a&&C$(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&T$(t,c),u&&S$(t,u),I$(t,r),QV(t.outputs,r.outputs),or(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===ii&&(n=!1)}}e=Object.getPrototypeOf(e)}D$(i)}function I$(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function D$(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=fl(r.hostAttrs,n=fl(n,r.hostAttrs))}}function nh(t){return t===_a?{}:t===hn?[]:t}function T$(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function S$(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function C$(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function bv(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var ns=class{},wl=class{};var Ch=class extends ns{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dh(this);let r=PC(e);this._bootstrapComponents=H1(r.bootstrap),this._r3Injector=w1(e,n,[{provide:ns,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver},...i],nn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ah=class extends wl{constructor(e){super(),this.moduleType=e}create(e){return new Ch(this.moduleType,e,[])}};function A$(t,e,n){return new Ch(t,e,n)}var gy=class extends ns{constructor(e){super(),this.componentFactoryResolver=new Dh(this),this.instance=null;let n=new pl([...e.providers,{provide:ns,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],e.parent||kh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zh(t,e,n=null){return new gy({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Xh=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SA(t){return R$(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function M$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function R$(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function O$(t,e,n){return t[e]=n}function ao(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function N$(t){return(t.flags&32)===32}function x$(t,e,n,i,r,s,o,a,c){let u=e.consts,d=Sa(e,t,4,o||null,ba(u,a));fv(e,n,d,ba(u,c)),$h(e,d);let f=d.tView=hv(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function ft(t,e,n,i,r,s,o,a){let c=Ne(),u=Ct(),d=t+jn,f=u.firstCreatePass?x$(d,u,c,e,n,i,r,s,o):u.data[d];ro(f,!1);let m=P$(u,c,f,t);jh()&&Wh(u,c,m,f),ts(m,c);let _=uA(m,c,m,f);return c[d]=_,Yh(c,_),i$(_,f,c),Vh(f)&&uv(u,c,f),o!=null&&dv(c,f,a),ft}var P$=k$;function k$(t,e,n,i){return Uh(!0),e[It].createComment("")}function ri(t,e,n,i){let r=Ne(),s=Bh();if(ao(r,s,e)){let o=Ct(),a=Qy();cU(a,r,t,e,n,i)}return ri}function F$(t,e,n,i){return ao(t,Bh(),n)?e+Il(n)+i:gr}function ih(t,e){return t<<17|e<<2}function io(t){return t>>17&32767}function L$(t){return(t&2)==2}function V$(t,e){return t&131071|e<<17}function _y(t){return t|2}function Ia(t){return(t&131068)>>2}function E_(t,e){return t&-131069|e<<2}function B$(t){return(t&1)===1}function yy(t){return t|1}function j$(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=io(o),c=Ia(o);t[i]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Dl(f,d)>0)&&(u=!0)}else d=n;if(r)if(c!==0){let m=io(t[a+1]);t[i+1]=ih(m,a),m!==0&&(t[m+1]=E_(t[m+1],i)),t[a+1]=V$(t[a+1],i)}else t[i+1]=ih(a,0),a!==0&&(t[a+1]=E_(t[a+1],i)),a=i;else t[i+1]=ih(c,0),a===0?a=i:t[c+1]=E_(t[c+1],i),c=i;u&&(t[i+1]=_y(t[i+1])),cC(t,d,i,!0),cC(t,d,i,!1),U$(e,d,t,i,s),o=ih(a,c),s?e.classBindings=o:e.styleBindings=o}function U$(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Dl(s,e)>=0&&(n[i+1]=yy(n[i+1]))}function cC(t,e,n,i){let r=t[n+1],s=e===null,o=i?io(r):Ia(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];$$(c,e)&&(a=!0,t[o+1]=i?yy(u):_y(u)),o=i?io(u):Ia(u)}a&&(t[n+1]=i?_y(r):yy(r))}function $$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Dl(t,e)>=0:!1}var Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function H$(t){return t.substring(Yn.key,Yn.keyEnd)}function G$(t){return z$(t),CA(t,AA(t,0,Yn.textEnd))}function CA(t,e){let n=Yn.textEnd;return n===e?-1:(e=Yn.keyEnd=q$(t,Yn.key=e,n),AA(t,e,n))}function z$(t){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=t.length}function AA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function q$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function fe(t,e,n){let i=Ne(),r=Bh();if(ao(i,r,e)){let s=Ct(),o=Qy();aA(s,o,i,t,e,i[It],n,!1)}return fe}function vy(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";pv(t,n,s[o],o,i)}function Ti(t,e,n){return MA(t,e,n,!1),Ti}function co(t,e){return MA(t,e,null,!0),co}function In(t){K$(eH,W$,t,!0)}function W$(t,e){for(let n=G$(e);n>=0;n=CA(e,n))ky(t,H$(e),!0)}function MA(t,e,n,i){let r=Ne(),s=Ct(),o=t1(2);if(s.firstUpdatePass&&OA(s,t,o,i),e!==gr&&ao(r,o,e)){let a=s.data[so()];NA(s,a,r,r[It],t,r[o+1]=nH(e,n),i,o)}}function K$(t,e,n,i){let r=Ct(),s=t1(2);r.firstUpdatePass&&OA(r,null,s,i);let o=Ne();if(n!==gr&&ao(o,s,n)){let a=r.data[so()];if(xA(a,i)&&!RA(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=S_(c,n||"")),vy(r,a,o,n,i)}else tH(r,a,o,o[It],o[s+1],o[s+1]=X$(t,e,n),i,s)}}function RA(t,e){return e>=t.expandoStartIndex}function OA(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[so()],o=RA(t,n);xA(s,i)&&e===null&&!o&&(e=!1),e=Q$(r,s,e,i),j$(r,s,e,n,o,i)}}function Q$(t,e,n,i){let r=n1(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=I_(null,t,e,n,i),n=bl(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=I_(r,t,e,n,i),s===null){let c=Y$(t,e,i);c!==void 0&&Array.isArray(c)&&(c=I_(null,t,e,c[1],i),c=bl(c,e.attrs,i),J$(t,e,i,c))}else s=Z$(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function Y$(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Ia(i)!==0)return t[io(i)]}function J$(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[io(r)]=i}function Z$(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=bl(i,o,n)}return bl(i,e.attrs,n)}function I_(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=bl(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function bl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ky(t,o,n?!0:e[++s]))}return t===void 0?null:t}function X$(t,e,n){if(n==null||n==="")return hn;let i=[],r=Hn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function eH(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&ky(t,i,n)}function tH(t,e,n,i,r,s,o,a){r===gr&&(r=hn);let c=0,u=0,d=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=c<r.length?r[c+1]:void 0,_=u<s.length?s[u+1]:void 0,v=null,D;d===f?(c+=2,u+=2,m!==_&&(v=f,D=_)):f===null||d!==null&&d<f?(c+=2,v=d):(u+=2,v=f,D=_),v!==null&&NA(t,e,n,i,v,D,o,a),d=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function NA(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=B$(u)?lC(c,e,n,r,Ia(u),o):void 0;if(!Mh(d)){Mh(s)||L$(u)&&(s=lC(c,null,n,r,a,o));let f=WC(so(),n);Bj(i,o,f,r,s)}}function lC(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=n[r+1];m===gr&&(m=f?hn:void 0);let _=f?h_(m,i):d===i?m:void 0;if(u&&!Mh(_)&&(_=h_(c,i)),Mh(_)&&(a=_,o))return a;let v=t[r+1];r=o?io(v):Ia(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=h_(c,i))}return a}function Mh(t){return t!==void 0}function nH(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nn(Hn(t)))),t}function xA(t,e){return(t.flags&(e?8:16))!==0}function iH(t,e,n,i,r,s){let o=e.consts,a=ba(o,r),c=Sa(e,t,2,i,a);return fv(e,n,c,ba(o,s)),c.attrs!==null&&Ih(c,c.attrs,!1),c.mergedAttrs!==null&&Ih(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function U(t,e,n,i){let r=Ne(),s=Ct(),o=jn+t,a=r[It],c=s.firstCreatePass?iH(o,s,r,e,n,i):s.data[o],u=rH(s,r,c,a,e,t);r[o]=u;let d=Vh(c);return ro(c,!0),eA(a,u,c),!N$(c)&&jh()&&Wh(s,r,u,c),lB()===0&&ts(u,r),uB(),d&&(uv(s,r,c),lv(s,c,r)),i!==null&&dv(r,c),U}function Q(){let t=rn();Gy()?zy():(t=t.parent,ro(t,!1));let e=t;hB(e)&&fB(),dB();let n=Ct();return n.firstCreatePass&&($h(n,t),Uy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&TB(e)&&vy(n,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SB(e)&&vy(n,e,Ne(),e.stylesWithoutHost,!1),Q}function Fe(t,e,n,i){return U(t,e,n,i),Q(),Fe}var rH=(t,e,n,i,r,s)=>(Uh(!0),G1(i,r,bB()));function sH(t,e,n,i,r){let s=e.consts,o=ba(s,i),a=Sa(e,t,8,"ng-container",o);o!==null&&Ih(a,o,!0);let c=ba(s,r);return fv(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Dn(t,e,n){let i=Ne(),r=Ct(),s=t+jn,o=r.firstCreatePass?sH(s,r,i,e,n):r.data[s];ro(o,!0);let a=oH(r,i,o,t);return i[s]=a,jh()&&Wh(r,i,a,o),ts(a,i),Vh(o)&&(uv(r,i,o),lv(r,o,i)),n!=null&&dv(i,o),Dn}function Tn(){let t=rn(),e=Ct();return Gy()?zy():(t=t.parent,ro(t,!1)),e.firstCreatePass&&($h(e,t),Uy(t)&&e.queries.elementEnd(t)),Tn}var oH=(t,e,n,i)=>(Uh(!0),Ij(e[It],""));function Sn(){return Ne()}function Ev(t,e,n){let i=Ne(),r=Bh();if(ao(i,r,e)){let s=Ct(),o=Qy(),a=n1(s.data),c=hU(a,o,i);aA(s,o,i,t,e,c,n,!0)}return Ev}var Rh="en-US";var aH=Rh;function cH(t){typeof t=="string"&&(aH=t.toLowerCase().replace(/_/g,"-"))}function Be(t,e,n,i){let r=Ne(),s=Ct(),o=rn();return uH(s,r,r[It],o,t,e,i),Be}function lH(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[gl],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function uH(t,e,n,i,r,s,o){let a=Vh(i),u=t.firstCreatePass&&fA(t),d=e[Zn],f=hA(e),m=!0;if(i.type&3||o){let D=Un(i,e),A=o?o(D):D,x=f.length,j=o?B=>o(Ei(B[i.index])):i.index,q=null;if(!o&&a&&(q=lH(t,e,r,i.index)),q!==null){let B=q.__ngLastListenerFn__||q;B.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=dC(i,e,d,s,!1);let B=n.listen(A,r,s);f.push(s,B),u&&u.push(r,j,x,x+1)}}else s=dC(i,e,d,s,!1);let _=i.outputs,v;if(m&&_!==null&&(v=_[r])){let D=v.length;if(D)for(let A=0;A<D;A+=2){let x=v[A],j=v[A+1],oe=e[x][j].subscribe(s),H=f.length;f.push(s,oe),u&&u.push(r,i.index,H,-(H+1))}}}function uC(t,e,n,i){let r=ke(null);try{return vi(6,e,n),n(i)!==!1}catch(s){return pA(t,s),!1}finally{vi(7,e,n),ke(r)}}function dC(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?is(t.index,e):e;gv(a);let c=uC(e,n,i,o),u=s.__ngNextListenerFn__;for(;u;)c=uC(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function je(t=1){return wB(t)}function dH(t,e){let n=null,i=T2(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?MC(t,s,!0):A2(i,s))return r}return n}function PA(t){let e=Ne()[ei][bn];if(!e.projection){let n=t?t.length:1,i=e.projection=g2(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?dH(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function kA(t,e=0,n){let i=Ne(),r=Ct(),s=Sa(r,jn+t,16,null,n||null);s.projection===null&&(s.projection=e),zy(),(!i[ml]||ZC())&&(s.flags&32)!==32&&Lj(r,i,s)}function Iv(t,e,n,i){d$(t,e,n,i)}function FA(t,e,n){u$(t,e,n)}function ef(t){let e=Ne(),n=Ct(),i=i1();qy(i+1);let r=wv(n,i);if(t.dirty&&rB(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=p$(e,i);t.reset(s,BB),t.notifyOnChanges()}return!0}return!1}function tf(){return l$(Ne(),i1())}function hH(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function ee(t,e=""){let n=Ne(),i=Ct(),r=t+jn,s=i.firstCreatePass?Sa(i,r,1,e,null):i.data[r],o=fH(i,n,s,e,t);n[r]=o,jh()&&Wh(i,n,o,s),ro(s,!1)}var fH=(t,e,n,i,r)=>(Uh(!0),bj(e[It],i));function Yt(t){return gn("",t,""),Yt}function gn(t,e,n){let i=Ne(),r=F$(i,t,e,n);return r!==gr&&fU(i,so(),r),gn}function pH(t,e,n){let i=Ct();if(i.firstCreatePass){let r=or(t);wy(n,i.data,i.blueprint,r,!0),wy(e,i.data,i.blueprint,r,!1)}}function wy(t,e,n,i,r){if(t=tn(t),Array.isArray(t))for(let s=0;s<t.length;s++)wy(t[s],e,n,i,r);else{let s=Ct(),o=Ne(),a=rn(),c=ya(t)?t:tn(t.provide),u=jC(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(ya(t)||!t.multi){let _=new Zs(u,r,W),v=T_(c,e,r?d:d+m,f);v===-1?(V_(vh(a,o),s,c),D_(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(_),o.push(_)):(n[v]=_,o[v]=_)}else{let _=T_(c,e,d+m,f),v=T_(c,e,d,d+m),D=_>=0&&n[_],A=v>=0&&n[v];if(r&&!A||!r&&!D){V_(vh(a,o),s,c);let x=_H(r?gH:mH,n.length,r,i,u);!r&&A&&(n[v].providerFactory=x),D_(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(x),o.push(x)}else{let x=LA(n[r?v:_],u,!r&&i);D_(s,t,_>-1?_:v,x)}!r&&i&&A&&n[v].componentProviders++}}}function D_(t,e,n,i){let r=ya(e),s=B2(e);if(r||s){let c=(s?tn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[i,c]):u[d+1].push(i,c)}else u.push(n,c)}}}function LA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function T_(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function mH(t,e,n,i){return by(this.multi,[])}function gH(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Xs(n,n[Ie],this.providerFactory.index,i);s=a.slice(0,o),by(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],by(r,s);return s}function by(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function _H(t,e,n,i,r){let s=new Zs(t,n,W);return s.multi=[],s.index=e,s.componentProviders=0,LA(s,r,i&&!n),s}function lo(t,e=[]){return n=>{n.providersResolver=(i,r)=>pH(i,r?r(t):t,e)}}var yH=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=LC(!1,i.type),s=r.length>0?Zh([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(N($t))});let t=e;return t})();function ss(t){Aa("NgStandalone"),t.getStandaloneInjector=e=>e.get(yH).getOrCreateStandaloneInjector(t)}function Dv(t,e,n,i){return VA(Ne(),e1(),t,e,n,i)}function vH(t,e){let n=t[e];return n===gr?void 0:n}function VA(t,e,n,i,r,s){let o=e+n;return ao(t,o,r)?O$(t,o+1,s?i.call(s,r):i(r)):vH(t,o+1)}function si(t,e){let n=Ct(),i,r=t+jn;n.firstCreatePass?(i=wH(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=Ks(i.type,!0)),o,a=dn(W);try{let c=yh(!1),u=s();return yh(c),hH(n,Ne(),r,u),u}finally{dn(a)}}function wH(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function oi(t,e,n){let i=t+jn,r=Ne(),s=iB(r,i);return bH(r,i)?VA(r,e1(),e,s.transform,n,s):s.transform(n)}function bH(t,e){return t[Ie].data[e].pure}var rh=null;function EH(t){rh!==null&&(t.defaultEncapsulation!==rh.defaultEncapsulation||t.preserveWhitespaces!==rh.preserveWhitespaces)||(rh=t)}var ur=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},BA=new ur("17.3.11"),nf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Tv=new k(""),Cl=new k(""),rf=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Sv||(IH(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(N(he),N(sf),N(Cl))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),sf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Sv?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function IH(t){Sv=t}var Sv;function os(t){return!!t&&typeof t.then=="function"}function Cv(t){return!!t&&typeof t.subscribe=="function"}var of=new k(""),jA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=P(of,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(os(o))i.push(o);else if(Cv(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Av=new k("");function DH(){eS(()=>{throw new V(600,!1)})}function TH(t){return t.isBoundToModule}function SH(t,e,n){try{let i=n();return os(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function UA(t,e){return Array.isArray(e)?e.reduce(UA,t):R(R({},t),e)}var Gn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(b1),this.afterRenderEffectManager=P(vv),this.externalTestViews=new Set,this.beforeRender=new _e,this.afterTick=new _e,this.componentTypes=[],this.components=[],this.isStable=P(Xh).hasPendingTasks.pipe(K(i=>!i)),this._injector=P($t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Eh;if(!this._injector.get(jA).done){let _=!s&&xC(i),v=!1;throw new V(405,v)}let a;s?a=i:a=this._injector.get(Ca).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=TH(a)?void 0:this._injector.get(ns),u=r||a.selector,d=a.create(qe.NULL,[],u,c),f=d.location.nativeElement,m=d.injector.get(Tv,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),uh(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new V(101,!1);let r=ke(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ke(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===gA)throw new V(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)CH(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ey(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ey(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;uh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Av,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>uh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new V(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CH(t,e,n){!e&&!Ey(t)||AH(t,n,e)}function Ey(t){return Hy(t)}function AH(t,e,n){let i;n?(i=0,t[pe]|=1024):t[pe]&64?i=0:i=1,_A(t,e,i)}var Iy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},af=(()=>{let e=class e{compileModuleSync(i){return new Ah(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=PC(i),o=H1(s.declarations).reduce((a,c)=>{let u=rr(c);return u&&a.push(new no(u)),a},[]);return new Iy(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MH=new k("");function RH(t,e,n){let i=new Ah(n);return Promise.resolve(i)}function hC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var OH=(()=>{let e=class e{constructor(){this.zone=P(he),this.applicationRef=P(Gn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NH(t){return[{provide:he,useFactory:t},{provide:es,multi:!0,useFactory:()=>{let e=P(OH,{optional:!0});return()=>e.initialize()}},{provide:es,multi:!0,useFactory:()=>{let e=P(kH);return()=>{e.initialize()}}},{provide:b1,useFactory:xH}]}function xH(){let t=P(he),e=P(fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function PH(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kH=(()=>{let e=class e{constructor(){this.subscription=new wt,this.initialized=!1,this.zone=P(he),this.pendingTasks=P(Xh)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FH(){return typeof $localize<"u"&&$localize.locale||Rh}var cf=new k("",{providedIn:"root",factory:()=>P(cf,Te.Optional|Te.SkipSelf)||FH()});var $A=new k(""),HA=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=$U(r?.ngZone,PH({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=A$(i.moduleType,this.injector,NH(()=>s)),a=o.injector.get(fn,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{uh(this._modules,o),c.unsubscribe()})}),SH(a,s,()=>{let c=o.injector.get(jA);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(cf,Rh);return cH(u||Rh),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=UA({},r);return RH(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(Gn);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new V(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get($A,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(N(qe))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),dl=null,GA=new k("");function LH(t){if(dl&&!dl.get(GA,!1))throw new V(400,!1);DH(),dl=t;let e=t.get(HA);return jH(t),e}function Mv(t,e,n=[]){let i=`Platform: ${e}`,r=new k(i);return(s=[])=>{let o=zA();if(!o||o.injector.get(GA,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):LH(VH(a,i))}return BH(r)}}function VH(t=[],e){return qe.create({name:e,providers:[{provide:Ph,useValue:"platform"},{provide:$A,useValue:new Set([()=>dl=null])},...t]})}function BH(t){let e=zA();if(!e)throw new V(401,!1);return e}function zA(){return dl?.get(HA)??null}function jH(t){t.get(Jy,null)?.forEach(n=>n())}function Al(){return!1}var Si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UH;let t=e;return t})();function UH(t){return $H(rn(),Ne(),(t&16)===16)}function $H(t,e,n){if(Lh(t)&&!n){let i=is(t.index,e);return new eo(i,i)}else if(t.type&47){let i=e[ei];return new eo(i,e)}return null}var Dy=class{constructor(){}supports(e){return SA(e)}create(e){return new Ty(e)}},HH=(t,e)=>e,Ty=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||HH}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<fC(i,r,s)?n:i,a=fC(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,d=c-r;if(u!=d){for(let m=0;m<u;m++){let _=m<s.length?s[m]:s[m]=0,v=_+m;d<=v&&v<u&&(s[m]=_+1)}let f=o.previousIndex;s[f]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!SA(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,M$(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Sy(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Oh),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Oh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sy=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Cy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Oh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Cy,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fC(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function pC(){return new Rv([new Dy])}var Rv=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||pC()),deps:[[e,new xy,new Dt]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new V(901,!1)}};e.\u0275prov=L({token:e,providedIn:"root",factory:pC});let t=e;return t})();var qA=Mv(null,"core",[]),WA=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(N(Gn))},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();function Ma(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function lf(t,e){Aa("NgSignals");let n=JT(t);return e?.equal&&(n[$r].equal=e.equal),n}function uf(t){let e=ke(null);try{return t()}finally{ke(e)}}function df(t,e){let n=rr(t),i=e.elementInjector||kh();return new no(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function KA(t){let e=rr(t);if(!e)return null;let n=new no(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var eM=null;function Ci(){return eM}function tM(t){eM??=t}var hf=class{};var nt=new k(""),Vv=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>P(GH),providedIn:"platform"});let t=e;return t})(),nM=new k(""),GH=(()=>{let e=class e extends Vv{constructor(){super(),this._doc=P(nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ci().getBaseHref(this._doc)}onPopState(i){let r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Bv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function QA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function yr(t){return t&&t[0]!=="?"?"?"+t:t}var vr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>P(jv),providedIn:"root"});let t=e;return t})(),iM=new k(""),jv=(()=>{let e=class e extends vr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Bv(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+yr(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+yr(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+yr(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(N(Vv),N(iM,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rM=(()=>{let e=class e extends vr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=Bv(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+yr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+yr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(N(Vv),N(iM,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Ra=(()=>{let e=class e{constructor(i){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=WH(QA(YA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+yr(r))}normalize(i){return e.stripTrailingSlash(qH(this._basePath,YA(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+yr(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+yr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=yr,e.joinWithSlash=Bv,e.stripTrailingSlash=QA,e.\u0275fac=function(r){return new(r||e)(N(vr))},e.\u0275prov=L({token:e,factory:()=>zH(),providedIn:"root"});let t=e;return t})();function zH(){return new Ra(N(vr))}function qH(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function YA(t){return t.replace(/\/index.html$/,"")}function WH(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function sM(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Ov=/\s+/,JA=[],oM=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=JA,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Ov):JA}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Ov):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(Ov).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(W(Nt),W(ni))},e.\u0275dir=st({type:e,selectors:[["","ngClass",""]],inputs:{klass:[kt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Nv=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},as=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Nv(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),ZA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);ZA(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(W(_r),W(lr),W(Rv))},e.\u0275dir=st({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function ZA(t,e){t.context.$implicit=e.item}var Cn=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new xv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){XA("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){XA("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(W(_r),W(lr))},e.\u0275dir=st({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),xv=class{constructor(){this.$implicit=null,this.ngIf=null}};function XA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nn(e)}'.`)}function KH(t,e){return new V(2100,!1)}var Pv=class{createSubscription(e,n){return uf(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){uf(()=>e.unsubscribe())}},kv=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},QH=new kv,YH=new Pv,Ai=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(os(i))return QH;if(Cv(i))return YH;throw KH(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(W(Si,16))},e.\u0275pipe=RC({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Oa=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),Uv="browser",JH="server";function aM(t){return t===Uv}function $v(t){return t===JH}var cM=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>aM(P(ti))?new Fv(P(nt),window):new Lv});let t=e;return t})(),Fv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=ZH(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function ZH(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var Lv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ff=class{};var zv=class extends hf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qv=class t extends zv{static makeCurrent(){tM(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=XH();return n==null?null:e3(n)}resetBaseElement(){Ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sM(document.cookie,e)}},Ml=null;function XH(){return Ml=Ml||document.querySelector("base"),Ml?Ml.getAttribute("href"):null}function e3(t){return new URL(t,document.baseURI).pathname}var Wv=class{addToWindow(e){Ut.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new V(5103,!1);return s},Ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ut.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Ut.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Ci().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},t3=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Kv=new k(""),dM=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(N(Kv),N(he))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),pf=class{constructor(e){this._doc=e}},Hv="ng-app-id",hM=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$v(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Hv}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Hv),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Hv,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(N(nt),N(Gh),N(Xy,8),N(ti))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Gv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yv=/%COMP%/g,fM="%COMP%",n3=`_nghost-${fM}`,i3=`_ngcontent-${fM}`,r3=!0,s3=new k("",{providedIn:"root",factory:()=>r3});function o3(t){return i3.replace(Yv,t)}function a3(t){return n3.replace(Yv,t)}function pM(t,e){return e.map(n=>n.replace(Yv,t))}var mf=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=$v(c),this.defaultRenderer=new Rl(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bi.ShadowDom&&(r=G(R({},r),{encapsulation:bi.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof gf?s.applyToHost(i):s instanceof Ol&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case bi.Emulated:o=new gf(u,d,r,this.appId,f,a,c,m);break;case bi.ShadowDom:return new Qv(u,d,i,r,a,c,this.nonce,m);default:o=new Ol(u,d,r,f,a,c,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(N(dM),N(hM),N(Gh),N(s3),N(nt),N(ti),N(he),N(Xy))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Rl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Gv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lM(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(lM(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new V(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Gv[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Gv[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(cr.DashCase|cr.Important)?e.style.setProperty(n,i,r&cr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&cr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Ci().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qv=class extends Rl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=pM(r.id,r.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ol=class extends Rl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?pM(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gf=class extends Ol{constructor(e,n,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,n,i,s,o,a,c,u),this.contentAttr=o3(u),this.hostAttr=a3(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},c3=(()=>{let e=class e extends pf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(N(nt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),uM=["alt","control","meta","shift"],l3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},d3=(()=>{let e=class e extends pf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ci().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),uM.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=l3[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),uM.forEach(a=>{if(a!==s){let c=u3[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(N(nt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function h3(){qv.makeCurrent()}function f3(){return new fn}function p3(){return C1(document),document}var m3=[{provide:ti,useValue:Uv},{provide:Jy,useValue:h3,multi:!0},{provide:nt,useFactory:p3,deps:[]}],Doe=Mv(qA,"browser",m3),g3=new k(""),_3=[{provide:Cl,useClass:Wv,deps:[]},{provide:Tv,useClass:rf,deps:[he,sf,Cl]},{provide:rf,useClass:rf,deps:[he,sf,Cl]}],y3=[{provide:Ph,useValue:"root"},{provide:fn,useFactory:f3,deps:[]},{provide:Kv,useClass:c3,multi:!0,deps:[nt,he,ti]},{provide:Kv,useClass:d3,multi:!0,deps:[nt]},mf,hM,dM,{provide:to,useExisting:mf},{provide:ff,useClass:t3,deps:[]},[]],_f=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Gh,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(N(g3,12))},e.\u0275mod=le({type:e}),e.\u0275inj=ce({providers:[...y3,..._3],imports:[Oa,WA]});let t=e;return t})();var mM=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(N(nt))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=N(v3),s},providedIn:"root"});let t=e;return t})(),v3=(()=>{let e=class e extends Nl{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case En.NONE:return r;case En.HTML:return pr(r,"HTML")?Hn(r):tv(this._doc,String(r)).toString();case En.STYLE:return pr(r,"Style")?Hn(r):r;case En.SCRIPT:if(pr(r,"Script"))return Hn(r);throw new V(5200,!1);case En.URL:return pr(r,"URL")?Hn(r):qh(String(r));case En.RESOURCE_URL:if(pr(r,"ResourceURL"))return Hn(r);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(i){return O1(i)}bypassSecurityTrustStyle(i){return N1(i)}bypassSecurityTrustScript(i){return x1(i)}bypassSecurityTrustUrl(i){return P1(i)}bypassSecurityTrustResourceUrl(i){return k1(i)}};e.\u0275fac=function(r){return new(r||e)(N(nt))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ee="primary",Wl=Symbol("RouteTitle"),n0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function La(t){return new n0(t)}function w3(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function b3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mi(t[n],e[n]))return!1;return!0}function Mi(t,e){let n=t?i0(t):void 0,i=e?i0(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!DM(t[r],e[r]))return!1;return!0}function i0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function TM(t){return t.length>0?t[t.length-1]:null}function ds(t){return Zg(t)?t:os(t)?De(Promise.resolve(t)):Y(t)}var E3={exact:CM,subset:AM},SM={exact:I3,subset:D3,ignored:()=>!0};function gM(t,e,n){return E3[n.paths](t.root,e.root,n.matrixParams)&&SM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function I3(t,e){return Mi(t,e)}function CM(t,e,n){if(!ho(t.segments,e.segments)||!wf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!CM(t.children[i],e.children[i],n))return!1;return!0}function D3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DM(t[n],e[n]))}function AM(t,e,n){return MM(t,e,e.segments,n)}function MM(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!ho(r,n)||e.hasChildren()||!wf(r,n,i))}else if(t.segments.length===n.length){if(!ho(t.segments,n)||!wf(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!AM(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ho(t.segments,r)||!wf(t.segments,r,i)||!t.children[Ee]?!1:MM(t.children[Ee],e,s,i)}}function wf(t,e,n){return e.every((i,r)=>SM[n](t[r].parameters,i.parameters))}var cs=class{constructor(e=new Ge([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=La(this.queryParams),this._queryParamMap}toString(){return C3.serialize(this)}},Ge=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bf(this)}},uo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=La(this.parameters),this._parameterMap}toString(){return OM(this)}};function T3(t,e){return ho(t,e)&&t.every((n,i)=>Mi(n.parameters,e[i].parameters))}function ho(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function S3(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ee&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ee&&(n=n.concat(e(r,i)))}),n}var Kl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>new Bl,providedIn:"root"});let t=e;return t})(),Bl=class{parse(e){let n=new s0(e);return new cs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${xl(e.root,!0)}`,i=R3(e.queryParams),r=typeof e.fragment=="string"?`#${A3(e.fragment)}`:"";return`${n}${i}${r}`}},C3=new Bl;function bf(t){return t.segments.map(e=>OM(e)).join("/")}function xl(t,e){if(!t.hasChildren())return bf(t);if(e){let n=t.children[Ee]?xl(t.children[Ee],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Ee&&i.push(`${r}:${xl(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=S3(t,(i,r)=>r===Ee?[xl(t.children[Ee],!1)]:[`${r}:${xl(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ee]!=null?`${bf(t)}/${n[0]}`:`${bf(t)}/(${n.join("//")})`}}function RM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yf(t){return RM(t).replace(/%3B/gi,";")}function A3(t){return encodeURI(t)}function r0(t){return RM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ef(t){return decodeURIComponent(t)}function _M(t){return Ef(t.replace(/\+/g,"%20"))}function OM(t){return`${r0(t.path)}${M3(t.parameters)}`}function M3(t){return Object.entries(t).map(([e,n])=>`;${r0(e)}=${r0(n)}`).join("")}function R3(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${yf(n)}=${yf(r)}`).join("&"):`${yf(n)}=${yf(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var O3=/^[^\/()?;#]+/;function Zv(t){let e=t.match(O3);return e?e[0]:""}var N3=/^[^\/()?;=#]+/;function x3(t){let e=t.match(N3);return e?e[0]:""}var P3=/^[^=?&#]+/;function k3(t){let e=t.match(P3);return e?e[0]:""}var F3=/^[^&#]+/;function L3(t){let e=t.match(F3);return e?e[0]:""}var s0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ee]=new Ge(e,n)),i}parseSegment(){let e=Zv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new uo(Ef(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=x3(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Zv(this.remaining);r&&(i=r,this.capture(i))}e[Ef(n)]=Ef(i)}parseQueryParam(e){let n=k3(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=L3(this.remaining);o&&(i=o,this.capture(i))}let r=_M(n),s=_M(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Zv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new V(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Ee]:new Ge([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function NM(t){return t.segments.length>0?new Ge([],{[Ee]:t}):t}function xM(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=xM(r);if(i===Ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Ge(t.segments,e);return V3(n)}function V3(t){if(t.numberOfChildren===1&&t.children[Ee]){let e=t.children[Ee];return new Ge(t.segments.concat(e.segments),e.children)}return t}function Va(t){return t instanceof cs}function B3(t,e,n=null,i=null){let r=PM(t);return kM(r,e,n,i)}function PM(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Ge(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=NM(i);return e??r}function kM(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Xv(r,r,r,n,i);let s=j3(e);if(s.toRoot())return Xv(r,r,new Ge([],{}),n,i);let o=U3(s,r,t),a=o.processChildren?Fl(o.segmentGroup,o.index,s.commands):LM(o.segmentGroup,o.index,s.commands);return Xv(r,o.segmentGroup,a,n,i)}function If(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function jl(t){return typeof t=="object"&&t!=null&&t.outlets}function Xv(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=FM(t,e,n);let a=NM(xM(o));return new cs(a,s,r)}function FM(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=FM(s,e,n)}),new Ge(t.segments,i)}var Df=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&If(i[0]))throw new V(4003,!1);let r=i.find(jl);if(r&&r!==TM(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j3(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Df(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Df(n,e,i)}var ka=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function U3(t,e,n){if(t.isAbsolute)return new ka(e,!0,0);if(!n)return new ka(e,!1,NaN);if(n.parent===null)return new ka(n,!0,0);let i=If(t.commands[0])?0:1,r=n.segments.length-1+i;return $3(n,r,t.numberOfDoubleDots)}function $3(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new ka(i,!1,r-s)}function H3(t){return jl(t[0])?t[0].outlets:{[Ee]:t}}function LM(t,e,n){if(t??=new Ge([],{}),t.segments.length===0&&t.hasChildren())return Fl(t,e,n);let i=G3(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Ge(t.segments.slice(0,i.pathIndex),{});return s.children[Ee]=new Ge(t.segments.slice(i.pathIndex),t.children),Fl(s,0,r)}else return i.match&&r.length===0?new Ge(t.segments,{}):i.match&&!t.hasChildren()?o0(t,e,n):i.match?Fl(t,0,r):o0(t,e,n)}function Fl(t,e,n){if(n.length===0)return new Ge(t.segments,{});{let i=H3(n),r={};if(Object.keys(i).some(s=>s!==Ee)&&t.children[Ee]&&t.numberOfChildren===1&&t.children[Ee].segments.length===0){let s=Fl(t.children[Ee],e,n);return new Ge(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=LM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Ge(t.segments,r)}}function G3(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(jl(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!vM(c,u,o))return s;i+=2}else{if(!vM(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function o0(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(jl(s)){let c=z3(s.outlets);return new Ge(i,c)}if(r===0&&If(n[0])){let c=t.segments[e];i.push(new uo(c.path,yM(n[0]))),r++;continue}let o=jl(s)?s.outlets[Ee]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&If(a)?(i.push(new uo(o,yM(a))),r+=2):(i.push(new uo(o,{})),r++)}return new Ge(i,{})}function z3(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=o0(new Ge([],{}),0,i))}),e}function yM(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function vM(t,e,n){return t==n.path&&Mi(e,n.parameters)}var Ll="imperative",Ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ft||{}),zn=class{constructor(e,n){this.id=e,this.url=n}},Ba=class extends zn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Ft.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ai=class extends zn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mn||{}),Tf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Tf||{}),ls=class extends zn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},us=class extends zn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ft.NavigationSkipped}},Ul=class extends zn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sf=class extends zn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a0=class extends zn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c0=class extends zn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},l0=class extends zn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u0=class extends zn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},d0=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},h0=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},f0=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p0=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},m0=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},g0=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cf=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},$l=class{},Hl=class{constructor(e){this.url=e}};var _0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ql,this.attachRef=null}},Ql=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new _0,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Af=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=y0(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=y0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=v0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return v0(e,this._root).map(n=>n.value)}};function y0(t,e){if(t===e.value)return e;for(let n of e.children){let i=y0(t,n);if(i)return i}return null}function v0(t,e){if(t===e.value)return[e];for(let n of e.children){let i=v0(t,n);if(i.length)return i.unshift(e),i}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Pa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mf=class extends Af{constructor(e,n){super(e),this.snapshot=n,M0(this,e)}toString(){return this.snapshot.toString()}};function VM(t){let e=q3(t),n=new ht([new uo("",{})]),i=new ht({}),r=new ht({}),s=new ht({}),o=new ht(""),a=new fo(n,i,s,o,r,Ee,t,e.root);return a.snapshot=e.root,new Mf(new An(a,[]),e)}function q3(t){let e={},n={},i={},r="",s=new Gl([],e,i,r,n,Ee,t,null,{});return new Rf("",new An(s,[]))}var fo=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(u=>u[Wl]))??Y(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>La(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>La(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function A0(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),r?.data),t._resolvedData)}:i={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},r&&jM(r)&&(i.resolve[Wl]=r.title),i}var Gl=class{get title(){return this.data?.[Wl]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=La(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=La(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Rf=class extends Af{constructor(e,n){super(n),this.url=e,M0(this,n)}toString(){return BM(this._root)}};function M0(t,e){e.value._routerState=t,e.children.forEach(n=>M0(t,n))}function BM(t){let e=t.children.length>0?` { ${t.children.map(BM).join(", ")} } `:"";return`${t.value}${e}`}function e0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mi(e.params,n.params)||t.paramsSubject.next(n.params),b3(e.url,n.url)||t.urlSubject.next(n.url),Mi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function w0(t,e){let n=Mi(t.params,e.params)&&T3(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||w0(t.parent,e.parent))}function jM(t){return typeof t.title=="string"||t.title===null}var Yl=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=P(Ql),this.location=P(_r),this.changeDetector=P(Si),this.environmentInjector=P($t),this.inputBinder=P(Ff,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new b0(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=st({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Di]});let t=e;return t})(),b0=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===fo?this.route:e===Ql?this.childContexts:this.parent.get(e,n)}},Ff=new k(""),wM=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=un([r.queryParams,r.params,r.data]).pipe(Et(([o,a,c],u)=>(c=R(R(R({},o),a),c),u===0?Y(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=KA(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function W3(t,e,n){let i=zl(t,e._root,n?n._root:void 0);return new Mf(i,e)}function zl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=K3(t,e,n);return new An(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zl(t,a)),o}}let i=Q3(e.value),r=e.children.map(s=>zl(t,s));return new An(i,r)}}function K3(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return zl(t,i,r);return zl(t,i)})}function Q3(t){return new fo(new ht(t.url),new ht(t.params),new ht(t.queryParams),new ht(t.fragment),new ht(t.data),t.outlet,t.component,t)}var UM="ngNavigationCancelingError";function $M(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Va(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=HM(!1,Mn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function HM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UM]=!0,n.cancellationCode=e,n}function Y3(t){return GM(t)&&Va(t.url)}function GM(t){return!!t&&t[UM]}var J3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["ng-component"]],standalone:!0,features:[ss],decls:1,vars:0,template:function(r,s){r&1&&Fe(0,"router-outlet")},dependencies:[Yl],encapsulation:2});let t=e;return t})();function Z3(t,e){return t.providers&&!t._injector&&(t._injector=Zh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function R0(t){let e=t.children&&t.children.map(R0),n=e?G(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ee&&(n.component=J3),n}function Ri(t){return t.outlet||Ee}function X3(t,e){let n=t.filter(i=>Ri(i)===e);return n.push(...t.filter(i=>Ri(i)!==e)),n}function Jl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var eG=(t,e,n,i)=>K(r=>(new E0(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),E0=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),e0(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Pa(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Pa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Pa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Pa(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new g0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new p0(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(e0(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),e0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Jl(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Of=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fa=class{constructor(e,n){this.component=e,this.route=n}};function tG(t,e,n){let i=t._root,r=e?e._root:null;return Pl(i,r,n,[i.value])}function nG(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ua(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!_C(t)?t:e.get(t):i}function Pl(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Pa(e);return t.children.forEach(o=>{iG(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Vl(a,n.getContext(o),r)),r}function iG(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=rG(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Of(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Pl(t,e,a?a.children:null,i,r):Pl(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fa(a.outlet.component,o))}else o&&Vl(e,a,r),r.canActivateChecks.push(new Of(i)),s.component?Pl(t,null,a?a.children:null,i,r):Pl(t,null,n,i,r);return r}function rG(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ho(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(t.url,e.url)||!Mi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w0(t,e)||!Mi(t.queryParams,e.queryParams);case"paramsChange":default:return!w0(t,e)}}function Vl(t,e,n){let i=Pa(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Vl(o,e.children.getContext(s),n):Vl(o,null,n):Vl(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fa(e.outlet.component,r)):n.canDeactivateChecks.push(new Fa(null,r)):n.canDeactivateChecks.push(new Fa(null,r))}function Zl(t){return typeof t=="function"}function sG(t){return typeof t=="boolean"}function oG(t){return t&&Zl(t.canLoad)}function aG(t){return t&&Zl(t.canActivate)}function cG(t){return t&&Zl(t.canActivateChild)}function lG(t){return t&&Zl(t.canDeactivate)}function uG(t){return t&&Zl(t.canMatch)}function zM(t){return t instanceof ir||t?.name==="EmptyError"}var vf=Symbol("INITIAL_VALUE");function ja(){return Et(t=>un(t.map(e=>e.pipe(bt(1),ll(vf)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===vf)return vf;if(n===!1||n instanceof cs)return n}return!0}),$e(e=>e!==vf),bt(1)))}function dG(t,e){return Ve(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Y(G(R({},n),{guardsResult:!0})):hG(o,i,r,t).pipe(Ve(a=>a&&sG(a)?fG(i,s,t,e):Y(a)),K(a=>G(R({},n),{guardsResult:a})))})}function hG(t,e,n,i){return De(t).pipe(Ve(r=>yG(r.component,r.route,n,e,i)),yi(r=>r!==!0,!0))}function fG(t,e,n,i){return De(e).pipe(_i(r=>gi(mG(r.route.parent,i),pG(r.route,i),_G(t,r.path,n),gG(t,r.route,n))),yi(r=>r!==!0,!0))}function pG(t,e){return t!==null&&e&&e(new m0(t)),Y(!0)}function mG(t,e){return t!==null&&e&&e(new f0(t)),Y(!0)}function gG(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Y(!0);let r=i.map(s=>il(()=>{let o=Jl(e)??n,a=Ua(s,o),c=aG(a)?a.canActivate(e,t):hr(o,()=>a(e,t));return ds(c).pipe(yi())}));return Y(r).pipe(ja())}function _G(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>nG(o)).filter(o=>o!==null).map(o=>il(()=>{let a=o.guards.map(c=>{let u=Jl(o.node)??n,d=Ua(c,u),f=cG(d)?d.canActivateChild(i,t):hr(u,()=>d(i,t));return ds(f).pipe(yi())});return Y(a).pipe(ja())}));return Y(s).pipe(ja())}function yG(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(a=>{let c=Jl(e)??r,u=Ua(a,c),d=lG(u)?u.canDeactivate(t,e,n,i):hr(c,()=>u(t,e,n,i));return ds(d).pipe(yi())});return Y(o).pipe(ja())}function vG(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Y(!0);let s=r.map(o=>{let a=Ua(o,t),c=oG(a)?a.canLoad(e,n):hr(t,()=>a(e,n));return ds(c)});return Y(s).pipe(ja(),qM(i))}function qM(t){return Md(Oe(e=>{if(Va(e))throw $M(t,e)}),K(e=>e===!0))}function wG(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Y(!0);let s=r.map(o=>{let a=Ua(o,t),c=uG(a)?a.canMatch(e,n):hr(t,()=>a(e,n));return ds(c)});return Y(s).pipe(ja(),qM(i))}var ql=class{constructor(e){this.segmentGroup=e||null}},Nf=class extends Error{constructor(e){super(),this.urlTree=e}};function xa(t){return qr(new ql(t))}function bG(t){return qr(new V(4e3,!1))}function EG(t){return qr(HM(!1,Mn.GuardRejected))}var I0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Y(i);if(r.numberOfChildren>1||!r.children[Ee])return bG(e.redirectTo);r=r.children[Ee]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Nf(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new cs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new Ge(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new V(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},D0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IG(t,e,n,i,r){let s=O0(t,e,n);return s.matched?(i=Z3(e,i),wG(i,e,n,r).pipe(K(o=>o===!0?s:R({},D0)))):Y(s)}function O0(t,e,n){if(e.path==="**")return DG(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},D0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||w3)(n,t,e);if(!r)return R({},D0);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?R(R({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function DG(t){return{matched:!0,parameters:t.length>0?TM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bM(t,e,n,i){return n.length>0&&CG(t,n,i)?{segmentGroup:new Ge(e,SG(i,new Ge(n,t.children))),slicedSegments:[]}:n.length===0&&AG(t,n,i)?{segmentGroup:new Ge(t.segments,TG(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ge(t.segments,t.children),slicedSegments:n}}function TG(t,e,n,i){let r={};for(let s of n)if(Lf(t,e,s)&&!i[Ri(s)]){let o=new Ge([],{});r[Ri(s)]=o}return R(R({},i),r)}function SG(t,e){let n={};n[Ee]=e;for(let i of t)if(i.path===""&&Ri(i)!==Ee){let r=new Ge([],{});n[Ri(i)]=r}return n}function CG(t,e,n){return n.some(i=>Lf(t,e,i)&&Ri(i)!==Ee)}function AG(t,e,n){return n.some(i=>Lf(t,e,i))}function Lf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function MG(t,e,n,i){return Ri(t)!==i&&(i===Ee||!Lf(e,n,t))?!1:O0(e,t,n).matched}function RG(t,e,n){return e.length===0&&!t.children[n]}var T0=class{};function OG(t,e,n,i,r,s,o="emptyOnly"){return new S0(t,e,n,i,r,o,s).recognize()}var NG=31,S0=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new I0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=bM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(n=>{let i=new Gl([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),r=new An(i,n),s=new Rf("",r),o=B3(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ee).pipe(et(i=>{if(i instanceof Nf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ql?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=A0(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(K(s=>s instanceof An?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return De(r).pipe(_i(s=>{let o=i.children[s],a=X3(n,s);return this.processSegmentGroup(e,a,o,s)}),Yr((s,o)=>(s.push(...o),s)),Qr(null),a_(),Ve(s=>{if(s===null)return xa(i);let o=WM(s);return xG(o),Y(o)}))}processSegment(e,n,i,r,s,o){return De(n).pipe(_i(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(et(c=>{if(c instanceof ql)return Y(null);throw c}))),yi(a=>!!a),et(a=>{if(zM(a))return RG(i,r,s)?Y(new T0):xa(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return MG(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):xa(r):xa(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:d}=O0(n,r,s);if(!a)return xa(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NG&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(Ve(m=>this.processSegment(e,i,n,m.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=IG(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Et(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Et(({routes:c})=>{let u=i._loadedInjector??e,{consumedSegments:d,remainingSegments:f,parameters:m}=a,_=new Gl(d,m,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,kG(i),Ri(i),i.component??i._loadedComponent??null,i,FG(i)),{segmentGroup:v,slicedSegments:D}=bM(n,d,f,c);if(D.length===0&&v.hasChildren())return this.processChildren(u,c,v).pipe(K(x=>x===null?null:new An(_,x)));if(c.length===0&&D.length===0)return Y(new An(_,[]));let A=Ri(i)===s;return this.processSegment(u,c,v,D,A?Ee:s,!0).pipe(K(x=>new An(_,x instanceof An?[x]:[])))}))):xa(n)))}getChildConfig(e,n,i){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):vG(e,n,i,this.urlSerializer).pipe(Ve(r=>r?this.configLoader.loadChildren(e,n).pipe(Oe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):EG(n))):Y({routes:[],injector:e})}};function xG(t){t.sort((e,n)=>e.value.outlet===Ee?-1:n.value.outlet===Ee?1:e.value.outlet.localeCompare(n.value.outlet))}function PG(t){let e=t.value.routeConfig;return e&&e.path===""}function WM(t){let e=[],n=new Set;for(let i of t){if(!PG(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=WM(i.children);e.push(new An(i.value,r))}return e.filter(i=>!n.has(i))}function kG(t){return t.data||{}}function FG(t){return t.resolve||{}}function LG(t,e,n,i,r,s){return Ve(o=>OG(t,e,n,i,o.extractedUrl,r,s).pipe(K(({state:a,tree:c})=>G(R({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function VG(t,e){return Ve(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Y(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of KM(c))o.add(u);let a=0;return De(o).pipe(_i(c=>s.has(c)?BG(c,i,t,e):(c.data=A0(c,c.parent,t).resolve,Y(void 0))),Oe(()=>a++),ua(1),Ve(c=>a===o.size?Y(n):rt))})}function KM(t){let e=t.children.map(n=>KM(n)).flat();return[t,...e]}function BG(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!jM(r)&&(s[Wl]=r.title),jG(s,t,e,i).pipe(K(o=>(t._resolvedData=o,t.data=A0(t,t.parent,n).resolve,null)))}function jG(t,e,n,i){let r=i0(t);if(r.length===0)return Y({});let s={};return De(r).pipe(Ve(o=>UG(t[o],e,n,i).pipe(yi(),Oe(a=>{s[o]=a}))),ua(1),al(s),et(o=>zM(o)?rt:qr(o)))}function UG(t,e,n,i){let r=Jl(e)??i,s=Ua(t,r),o=s.resolve?s.resolve(e,n):hr(r,()=>s(e,n));return ds(o)}function t0(t){return Et(e=>{let n=t(e);return n?De(n).pipe(K(()=>e)):Y(e)})}var QM=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===Ee);return r}getResolvedTitleForRoute(i){return i.data[Wl]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>P($G),providedIn:"root"});let t=e;return t})(),$G=(()=>{let e=class e extends QM{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(N(mM))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xl=new k("",{providedIn:"root",factory:()=>({})}),xf=new k(""),N0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(af)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Y(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ds(i.loadComponent()).pipe(K(YM),Oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),zs(()=>{this.componentLoaders.delete(i)})),s=new ra(r,()=>new _e).pipe(ia());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=HG(r,this.compiler,i,this.onLoadEndListener).pipe(zs(()=>{this.childrenLoaders.delete(r)})),a=new ra(o,()=>new _e).pipe(ia());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HG(t,e,n,i){return ds(t.loadChildren()).pipe(K(YM),Ve(r=>r instanceof wl||Array.isArray(r)?Y(r):De(e.compileModuleAsync(r))),K(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(xf,[],{optional:!0,self:!0}).flat()),{routes:o.map(R0),injector:s}}))}function GG(t){return t&&typeof t=="object"&&"default"in t}function YM(t){return GG(t)?t.default:t}var x0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>P(zG),providedIn:"root"});let t=e;return t})(),zG=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JM=new k(""),ZM=new k("");function qG(t,e,n){let i=t.get(ZM),r=t.get(nt);return t.get(he).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),WG(t))),{onViewTransitionCreated:c}=i;return c&&hr(t,()=>c({transition:a,from:e,to:n})),o})}function WG(t){return new Promise(e=>{Jh(e,{injector:t})})}var P0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e,this.transitionAbortSubject=new _e,this.configLoader=P(N0),this.environmentInjector=P($t),this.urlSerializer=P(Kl),this.rootContexts=P(Ql),this.location=P(Ra),this.inputBindingEnabled=P(Ff,{optional:!0})!==null,this.titleStrategy=P(QM),this.options=P(Xl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(x0),this.createViewTransition=P(JM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let i=s=>this.events.next(new d0(s)),r=s=>this.events.next(new h0(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(G(R(R({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new ht({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ll,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($e(o=>o.id!==0),K(o=>G(R({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Et(o=>{let a=!1,c=!1;return Y(o).pipe(Et(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Mn.SupersededByNewNavigation),rt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?G(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new us(u.id,this.urlSerializer.serialize(u.rawUrl),m,Tf.IgnoredSameUrlNavigation)),u.resolve(null),rt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(Et(m=>{let _=this.transitions?.getValue();return this.events.next(new Ba(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?rt:Promise.resolve(m)}),LG(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Oe(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=G(R({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new Sf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:_,source:v,restoredState:D,extras:A}=u,x=new Ba(m,this.urlSerializer.serialize(_),v,D);this.events.next(x);let j=VM(this.rootComponentType).snapshot;return this.currentTransition=o=G(R({},u),{targetSnapshot:j,urlAfterRedirects:_,extras:G(R({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Y(o)}else{let m="";return this.events.next(new us(u.id,this.urlSerializer.serialize(u.extractedUrl),m,Tf.IgnoredByUrlHandlingStrategy)),u.resolve(null),rt}}),Oe(u=>{let d=new a0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),K(u=>(this.currentTransition=o=G(R({},u),{guards:tG(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),dG(this.environmentInjector,u=>this.events.next(u)),Oe(u=>{if(o.guardsResult=u.guardsResult,Va(u.guardsResult))throw $M(this.urlSerializer,u.guardsResult);let d=new c0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),$e(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Mn.GuardRejected),!1)),t0(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(Oe(d=>{let f=new l0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Et(d=>{let f=!1;return Y(d).pipe(VG(this.paramsInheritanceStrategy,this.environmentInjector),Oe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Mn.NoDataFromResolver)}}))}),Oe(d=>{let f=new u0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),t0(u=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Oe(_=>{f.component=_}),K(()=>{})));for(let _ of f.children)m.push(...d(_));return m};return un(d(u.targetSnapshot.root)).pipe(Qr(null),bt(1))}),t0(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?De(f).pipe(K(()=>o)):Y(o)}),K(u=>{let d=W3(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=G(R({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Oe(()=>{this.events.next(new $l)}),eG(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),bt(1),Oe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),St(this.transitionAbortSubject.pipe(Oe(u=>{throw u}))),zs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Mn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),et(u=>{if(c=!0,GM(u))this.events.next(new ls(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Y3(u)?this.events.next(new Hl(u.url)):o.resolve(!1);else{this.events.next(new Ul(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return rt}))}))}cancelNavigationTransition(i,r,s){let o=new ls(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KG(t){return t!==Ll}var QG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>P(YG),providedIn:"root"});let t=e;return t})(),C0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},YG=(()=>{let e=class e extends C0{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=$n(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:()=>P(JG),providedIn:"root"});let t=e;return t})(),JG=(()=>{let e=class e extends XM{constructor(){super(...arguments),this.location=P(Ra),this.urlSerializer=P(Kl),this.options=P(Xl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(x0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new cs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ba)this.stateMemento=this.createStateMemento();else if(i instanceof us)this.rawUrlTree=r.initialUrl;else if(i instanceof Sf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof $l?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof ls&&(i.code===Mn.GuardRejected||i.code===Mn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Ul?this.restoreHistory(r,!0):i instanceof ai&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=R(R({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=R(R({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=$n(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(kl||{});function eR(t,e){t.events.pipe($e(n=>n instanceof ai||n instanceof ls||n instanceof Ul||n instanceof us),K(n=>n instanceof ai||n instanceof us?kl.COMPLETE:(n instanceof ls?n.code===Mn.Redirect||n.code===Mn.SupersededByNewNavigation:!1)?kl.REDIRECTING:kl.FAILED),$e(n=>n!==kl.REDIRECTING),bt(1)).subscribe(()=>{e()})}function ZG(t){throw t}var XG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=P(nf),this.stateManager=P(XM),this.options=P(Xl,{optional:!0})||{},this.pendingTasks=P(Xh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(P0),this.urlSerializer=P(Kl),this.location=P(Ra),this.urlHandlingStrategy=P(x0),this._events=new _e,this.errorHandler=this.options.errorHandler||ZG,this.navigated=!1,this.routeReuseStrategy=P(QG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(xf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(Ff,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=P(he)instanceof he&&he.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ls&&r.code!==Mn.Redirect&&r.code!==Mn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ai)this.navigated=!0;else if(r instanceof Hl){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||KG(s.source)};this.scheduleNavigation(a,Ll,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}nz(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ll,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=R({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(R0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let _=s?s.snapshot:this.routerState.snapshot.root;m=PM(_)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),m=this.currentUrlTree.root}return kM(m,i,f,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Va(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ll,null,r)}navigate(i,r={skipLocationChange:!1}){return tz(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=R({},XG):r===!1?s=R({},ez):s=r,Va(i))return gM(this.currentUrlTree,i,s);let o=this.parseUrl(i);return gM(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,_)=>{c=m,u=_});let f=this.pendingTasks.add();return eR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}function nz(t){return!(t instanceof $l)&&!(t instanceof Hl)}var Pf=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new _e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof ai&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:U1(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(W(sn),W(fo),Hh("tabindex"),W(ni),W(Nt),W(vr))},e.\u0275dir=st({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Be("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ri("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[kt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ma],skipLocationChange:[kt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ma],replaceUrl:[kt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ma],routerLink:"routerLink"},standalone:!0,features:[bv,Di]});let t=e;return t})(),tR=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new tt,this.routerEventsSubscription=i.events.subscribe(c=>{c instanceof ai&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(mi()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=De(i).pipe(mi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=iz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(W(sn),W(Nt),W(ni),W(Si),W(Pf,8))},e.\u0275dir=st({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Iv(o,Pf,5),r&2){let a;ef(a=tf())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Di]});let t=e;return t})();function iz(t){return!!t.paths}var kf=class{};var rz=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe($e(i=>i instanceof ai),_i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Zh(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return De(s).pipe(mi())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=Y(null);let o=s.pipe(Ve(a=>a===null?Y(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return De([o,a]).pipe(mi())}else return o})}};e.\u0275fac=function(r){return new(r||e)(N(sn),N(af),N($t),N(kf),N(N0))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nR=new k(""),sz=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=P($t),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ba?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ai?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof us&&i.code===Tf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Cf&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Jh(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Cf(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){nA()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function oz(t){return t.routerState.root}function eu(t,e){return{\u0275kind:t,\u0275providers:e}}function az(){let t=P(qe);return e=>{let n=t.get(Gn);if(e!==n.components[0])return;let i=t.get(sn),r=t.get(iR);t.get(k0)===1&&i.initialNavigation(),t.get(rR,null,Te.Optional)?.setUpPreloading(),t.get(nR,null,Te.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var iR=new k("",{factory:()=>new _e}),k0=new k("",{providedIn:"root",factory:()=>1});function cz(){return eu(2,[{provide:k0,useValue:0},{provide:of,multi:!0,deps:[qe],useFactory:e=>{let n=e.get(nM,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(sn),s=e.get(iR);eR(r,()=>{i(!0)}),e.get(P0).afterPreactivation=()=>(i(!0),s.closed?Y(void 0):s),r.initialNavigation()}))}}])}function lz(){return eu(3,[{provide:of,multi:!0,useFactory:()=>{let e=P(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:k0,useValue:2}])}var rR=new k("");function uz(t){return eu(0,[{provide:rR,useExisting:rz},{provide:kf,useExisting:t}])}function dz(){return eu(8,[wM,{provide:Ff,useExisting:wM}])}function hz(t){let e=[{provide:JM,useValue:qG},{provide:ZM,useValue:R({skipNextTransition:!!t?.skipInitialTransition},t)}];return eu(9,e)}var EM=new k("ROUTER_FORROOT_GUARD"),fz=[Ra,{provide:Kl,useClass:Bl},sn,Ql,{provide:fo,useFactory:oz,deps:[sn]},N0,[]],$a=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[fz,[],{provide:xf,multi:!0,useValue:i},{provide:EM,useFactory:_z,deps:[[sn,new Dt,new xy]]},{provide:Xl,useValue:r||{}},r?.useHash?mz():gz(),pz(),r?.preloadingStrategy?uz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yz(r):[],r?.bindToComponentInputs?dz().\u0275providers:[],r?.enableViewTransitions?hz().\u0275providers:[],vz()]}}static forChild(i){return{ngModule:e,providers:[{provide:xf,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(N(EM,8))},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();function pz(){return{provide:nR,useFactory:()=>{let t=P(cM),e=P(he),n=P(Xl),i=P(P0),r=P(Kl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new sz(r,i,t,e,n)}}}function mz(){return{provide:vr,useClass:rM}}function gz(){return{provide:vr,useClass:jv}}function _z(t){return"guarded"}function yz(t){return[t.initialNavigation==="disabled"?lz().\u0275providers:[],t.initialNavigation==="enabledBlocking"?cz().\u0275providers:[]]}var IM=new k("");function vz(){return[{provide:IM,useFactory:az},{provide:Av,multi:!0,useExisting:IM}]}function nu(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&Vy(nu);let i=n?e?.injector?.get(oo)??P(oo):null,r;e?.requireSync?r=rs({kind:0}):r=rs({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return i?.onDestroy(s.unsubscribe.bind(s)),lf(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new V(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var B0={};function H0(t,e){if(B0[t]=(B0[t]||0)+1,typeof e=="function")return F0(t,(...i)=>G(R({},e(...i)),{type:t}));switch(e?e._as:"empty"){case"empty":return F0(t,()=>({type:t}));case"props":return F0(t,i=>G(R({},i),{type:t}));default:throw new Error("Unexpected config.")}}function pt(){return{_as:"props",_p:void 0}}function F0(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}function G0(t){return t.charAt(0).toUpperCase()+t.substring(1)}function wz(t){return t.charAt(0).toLowerCase()+t.substring(1)}function za(t){let{source:e,events:n}=t;return Object.keys(n).reduce((i,r)=>G(R({},i),{[bz(r)]:H0(Ez(e,r),n[r])}),{})}function Rn(){return pt()}function bz(t){return t.trim().split(" ").map((e,n)=>n===0?wz(e):G0(e)).join("")}function Ez(t,e){return`[${t}] ${e}`}var ru="@ngrx/store/init",Oi=(()=>{let e=class e extends ht{constructor(){super({type:ru})}next(i){if(typeof i=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof i>"u")throw new TypeError("Actions must be objects");if(typeof i.type>"u")throw new TypeError("Actions must have a type property");super.next(i)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Iz=[Oi],wR=new k("@ngrx/store Internal Root Guard"),sR=new k("@ngrx/store Internal Initial State"),su=new k("@ngrx/store Initial State"),bR=new k("@ngrx/store Reducer Factory"),oR=new k("@ngrx/store Internal Reducer Factory Provider"),ER=new k("@ngrx/store Initial Reducers"),L0=new k("@ngrx/store Internal Initial Reducers"),aR=new k("@ngrx/store Store Features"),cR=new k("@ngrx/store Internal Store Reducers"),V0=new k("@ngrx/store Internal Feature Reducers"),lR=new k("@ngrx/store Internal Feature Configs"),IR=new k("@ngrx/store Internal Store Features"),uR=new k("@ngrx/store Internal Feature Reducers Token"),DR=new k("@ngrx/store Feature Reducers"),dR=new k("@ngrx/store User Provided Meta Reducers"),Vf=new k("@ngrx/store Meta Reducers"),hR=new k("@ngrx/store Internal Resolved Meta Reducers"),fR=new k("@ngrx/store User Runtime Checks Config"),pR=new k("@ngrx/store Internal User Runtime Checks Config"),iu=new k("@ngrx/store Internal Runtime Checks"),z0=new k("@ngrx/store Check if Action types are unique"),Dz=new k("@ngrx/store Root Store Provider"),Tz=new k("@ngrx/store Feature State Provider");function q0(t,e={}){let n=Object.keys(t),i={};for(let s=0;s<n.length;s++){let o=n[s];typeof t[o]=="function"&&(i[o]=t[o])}let r=Object.keys(i);return function(o,a){o=o===void 0?e:o;let c=!1,u={};for(let d=0;d<r.length;d++){let f=r[d],m=i[f],_=o[f],v=m(_,a);u[f]=v,c=c||v!==_}return c?u:o}}function Sz(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,i)=>Object.assign(n,{[i]:t[i]}),{})}function TR(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),n(e))}}function SR(t,e){return Array.isArray(e)&&e.length>0&&(t=TR.apply(null,[...e,t])),(n,i)=>{let r=t(n);return(s,o)=>(s=s===void 0?i:s,r(s,o))}}function Cz(t){let e=Array.isArray(t)&&t.length>0?TR(...t):n=>n;return(n,i)=>(n=e(n),(r,s)=>(r=r===void 0?i:r,n(r,s)))}var po=class extends ie{},Ha=class extends Oi{},jf="@ngrx/store/update-reducers",Bf=(()=>{let e=class e extends ht{get currentReducers(){return this.reducers}constructor(i,r,s,o){super(o(s,r)),this.dispatcher=i,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(i){this.addFeatures([i])}addFeatures(i){let r=i.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:u,key:d})=>{let f=typeof o=="function"?Cz(c)(o,u):SR(a,c)(o,u);return s[d]=f,s},{});this.addReducers(r)}removeFeature(i){this.removeFeatures([i])}removeFeatures(i){this.removeReducers(i.map(r=>r.key))}addReducer(i,r){this.addReducers({[i]:r})}addReducers(i){this.reducers=R(R({},this.reducers),i),this.updateReducers(Object.keys(i))}removeReducer(i){this.removeReducers([i])}removeReducers(i){i.forEach(r=>{this.reducers=Sz(this.reducers,r)}),this.updateReducers(i)}updateReducers(i){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:jf,features:i})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(N(Ha),N(su),N(ER),N(bR))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Az=[Bf,{provide:po,useExisting:Bf},{provide:Ha,useExisting:Oi}],mo=(()=>{let e=class e extends _e{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=$n(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Mz=[mo],Ga=class extends ie{},mR=(()=>{let e=class e extends ht{constructor(i,r,s,o){super(o);let c=i.pipe(Vn(Hs)).pipe(Jr(r)),u={state:o},d=c.pipe(Yr(Rz,u));this.stateSubscription=d.subscribe(({state:f,action:m})=>{this.next(f),s.next(m)}),this.state=nu(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=ru,e.\u0275fac=function(r){return new(r||e)(N(Oi),N(po),N(mo),N(su))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function Rz(t={state:void 0},[e,n]){let{state:i}=t;return{state:n(i,e),action:e}}var Oz=[mR,{provide:Ga,useExisting:mR}],ot=(()=>{let e=class e extends ie{constructor(i,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=i,this.state=i.state}select(i,...r){return xz.call(null,i,...r)(this)}selectSignal(i,r){return lf(()=>i(this.state()),r)}lift(i){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=i,r}dispatch(i){this.actionsObserver.next(i)}next(i){this.actionsObserver.next(i)}error(i){this.actionsObserver.error(i)}complete(){this.actionsObserver.complete()}addReducer(i,r){this.reducerManager.addReducer(i,r)}removeReducer(i){this.reducerManager.removeReducer(i)}};e.\u0275fac=function(r){return new(r||e)(N(Ga),N(Oi),N(Bf))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Nz=[ot];function xz(t,e,...n){return function(r){let s;if(typeof t=="string"){let o=[e,...n].filter(Boolean);s=r.pipe(l_(t,...o))}else if(typeof t=="function")s=r.pipe(K(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(cl())}}var W0="https://ngrx.io/guide/store/configuration/runtime-checks";function gR(t){return t===void 0}function _R(t){return t===null}function CR(t){return Array.isArray(t)}function Pz(t){return typeof t=="string"}function kz(t){return typeof t=="boolean"}function Fz(t){return typeof t=="number"}function AR(t){return typeof t=="object"&&t!==null}function Lz(t){return AR(t)&&!CR(t)}function MR(t){if(!Lz(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function j0(t){return typeof t=="function"}function Vz(t){return j0(t)&&t.hasOwnProperty("\u0275cmp")}function Bz(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var jz=!1;function Uz(){return jz}function yR(t,e){return t===e}function $z(t,e,n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function RR(t,e=yR,n=yR){let i=null,r=null,s;function o(){i=null,r=null}function a(d=void 0){s={result:d}}function c(){s=void 0}function u(){if(s!==void 0)return s.result;if(!i)return r=t.apply(null,arguments),i=arguments,r;if(!$z(arguments,i,e))return r;let d=t.apply(null,arguments);return i=arguments,n(r,d)?r:(r=d,d)}return{memoized:u,reset:o,setResult:a,clearResult:c}}function OR(...t){return Gz(RR)(...t)}function Hz(t,e,n,i){if(n===void 0){let s=e.map(o=>o(t));return i.memoized.apply(null,s)}let r=e.map(s=>s(t,n));return i.memoized.apply(null,[...r,n])}function Gz(t,e={stateFn:Hz}){return function(...n){let i=n;if(Array.isArray(i[0])){let[d,...f]=i;i=[...d,...f]}else i.length===1&&qz(i[0])&&(i=Wz(i[0]));let r=i.slice(0,i.length-1),s=i[i.length-1],o=r.filter(d=>d.release&&typeof d.release=="function"),a=t(function(...d){return s.apply(null,d)}),c=RR(function(d,f){return e.stateFn.apply(null,[d,r,f,a])});function u(){c.reset(),a.reset(),o.forEach(d=>d.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function zz(t){return OR(e=>{let n=e[t];return!Uz()&&Al()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},e=>e)}function qz(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function Wz(t){let e=Object.values(t),n=Object.keys(t),i=(...r)=>n.reduce((s,o,a)=>G(R({},s),{[o]:r[a]}),{});return[...e,i]}function qa(t){let{name:e,reducer:n,extraSelectors:i}=t,r=zz(e),s=Kz(r,n),o=R({[`select${G0(e)}State`]:r},s),a=i?i(o):{};return R(R({name:e,reducer:n},o),a)}function Kz(t,e){let n=Qz(e);return(MR(n)?Object.keys(n):[]).reduce((r,s)=>G(R({},r),{[`select${G0(s)}`]:OR(t,o=>o?.[s])}),{})}function Qz(t){return t(void 0,{type:"@ngrx/feature/init"})}function Yz(t){return t instanceof k?P(t):t}function Jz(t,e){return e.map((n,i)=>{if(t[i]instanceof k){let r=P(t[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:q0,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Zz(t){return t.map(e=>e instanceof k?P(e):e)}function NR(t){return typeof t=="function"?t():t}function Xz(t,e){return t.concat(e)}function eq(){if(P(ot,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function tq(t,e){return function(n,i){let r=e.action(i)?U0(i):i,s=t(n,r);return e.state()?U0(s):s}}function U0(t){Object.freeze(t);let e=j0(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&Bz(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let i=t[n];(AR(i)||j0(i))&&!Object.isFrozen(i)&&U0(i)}}),t}function nq(t,e){return function(n,i){if(e.action(i)){let s=$0(i);vR(s,"action")}let r=t(n,i);if(e.state()){let s=$0(r);vR(s,"state")}return r}}function $0(t,e=[]){return(gR(t)||_R(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((i,r)=>{if(i)return i;let s=t[r];return Vz(s)?i:gR(s)||_R(s)||Fz(s)||kz(s)||Pz(s)||CR(s)?!1:MR(s)?$0(s,[...e,r]):{path:[...e,r],value:s}},!1)}function vR(t,e){if(t===!1)return;let n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${W0}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function iq(t,e){return function(n,i){if(e.action(i)&&!he.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${W0}#strictactionwithinngzone`);return t(n,i)}}function rq(t){return Al()?R({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function sq({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?nq(n,{action:i=>t&&!K0(i),state:()=>e}):n}function oq({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?tq(n,{action:i=>t&&!K0(i),state:()=>e}):n}function K0(t){return t.type.startsWith("@ngrx")}function aq({strictActionWithinNgZone:t}){return e=>t?iq(e,{action:n=>t&&!K0(n)}):e}function cq(t){return[{provide:pR,useValue:t},{provide:fR,useFactory:lq,deps:[pR]},{provide:iu,deps:[fR],useFactory:rq},{provide:Vf,multi:!0,deps:[iu],useFactory:oq},{provide:Vf,multi:!0,deps:[iu],useFactory:sq},{provide:Vf,multi:!0,deps:[iu],useFactory:aq}]}function xR(){return[{provide:z0,multi:!0,deps:[iu],useFactory:uq}]}function lq(t){return t}function uq(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(B0).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${W0}#strictactiontypeuniqueness`)}function dq(t={},e={}){return[{provide:wR,useFactory:eq},{provide:sR,useValue:e.initialState},{provide:su,useFactory:NR,deps:[sR]},{provide:L0,useValue:t},{provide:cR,useExisting:t instanceof k?t:L0},{provide:ER,deps:[L0,[new Ny(cR)]],useFactory:Yz},{provide:dR,useValue:e.metaReducers?e.metaReducers:[]},{provide:hR,deps:[Vf,dR],useFactory:Xz},{provide:oR,useValue:e.reducerFactory?e.reducerFactory:q0},{provide:bR,deps:[oR,hR],useFactory:SR},Iz,Az,Mz,Oz,Nz,cq(e.runtimeChecks),xR()]}function hq(t,e,n={}){return[{provide:lR,multi:!0,useValue:t instanceof Object?{}:n},{provide:aR,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(n instanceof k)&&n.reducerFactory?n.reducerFactory:q0,metaReducers:!(n instanceof k)&&n.metaReducers?n.metaReducers:[],initialState:!(n instanceof k)&&n.initialState?n.initialState:void 0}},{provide:IR,deps:[lR,aR],useFactory:Jz},{provide:V0,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:uR,multi:!0,useExisting:e instanceof k?e:V0},{provide:DR,multi:!0,deps:[V0,[new Ny(uR)]],useFactory:Zz},xR()]}var ou=(()=>{let e=class e{constructor(i,r,s,o,a,c){}};e.\u0275fac=function(r){return new(r||e)(N(Oi),N(po),N(mo),N(ot),N(wR,8),N(z0,8))},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),Uf=(()=>{let e=class e{constructor(i,r,s,o,a){this.features=i,this.featureReducers=r,this.reducerManager=s;let c=i.map((u,d)=>{let m=r.shift()[d];return G(R({},u),{reducers:m,initialState:NR(u.initialState)})});s.addFeatures(c)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};e.\u0275fac=function(r){return new(r||e)(N(IR),N(DR),N(Bf),N(ou),N(z0,8))},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),Wa=(()=>{let e=class e{static forRoot(i,r){return{ngModule:ou,providers:[...dq(i,r)]}}static forFeature(i,r,s={}){return{ngModule:Uf,providers:[...hq(i,r,s)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();function ze(...t){let e=t.pop(),n=t.map(i=>i.type);return{reducer:e,types:n}}function Ka(t,...e){let n=new Map;for(let i of e)for(let r of i.types){let s=n.get(r);if(s){let o=(a,c)=>i.reducer(s(a,c),c);n.set(r,o)}else n.set(r,i.reducer)}return function(i=t,r){let s=n.get(r.type);return s?s(i,r):i}}var We=za({source:"auth",events:{Login:pt(),"Login Success":pt(),"Login Failed":pt(),"Get Current User":Rn(),"Sign Out":Rn(),"Sign Success":Rn(),"Sign Failed":Rn()}});var Q0=(()=>{let e=class e{constructor(i,r){this.store=i,this.router=r}click(){this.store.dispatch(We.signOut())}};e.\u0275fac=function(r){return new(r||e)(W(ot),W(sn))},e.\u0275cmp=He({type:e,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[3,"click"]],template:function(r,s){r&1&&(U(0,"p"),ee(1,"dashboard works!"),Q(),U(2,"button",0),Be("click",function(){return s.click()}),ee(3,"Logout"),Q())}});let t=e;return t})();var PR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["app-users"]],decls:2,vars:0,template:function(r,s){r&1&&(U(0,"p"),ee(1,"users works!"),Q())}});let t=e;return t})();var kR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["app-student-report"]],decls:2,vars:0,template:function(r,s){r&1&&(U(0,"p"),ee(1,"student-report works!"),Q())}});let t=e;return t})();var FR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["app-logs"]],decls:2,vars:0,template:function(r,s){r&1&&(U(0,"p"),ee(1,"logs works!"),Q())}});let t=e;return t})();var Ae=za({source:"section",events:{"Get All Sections":Rn(),"Get Sections Success":pt(),"Get Sections Failure":pt(),"Create Section":pt(),"Creation Success":pt(),"Creation Failure":pt(),"Delete Section":pt(),"Delete Success":Rn(),"Delete Failure":pt(),"Get All Teachers":Rn(),"Get All Teachers Success":pt(),"Get All Teachers Failure":pt()}});var fq={isLoading:!1,sections:[],error:null,teachers:[]},pq=qa({name:"section",reducer:Ka(fq,ze(Ae.getAllSections,t=>G(R({},t),{isLoading:!0})),ze(Ae.getSectionsSuccess,(t,e)=>G(R({},t),{isLoading:!1,sections:e.sections})),ze(Ae.getSectionsFailure,(t,e)=>G(R({},t),{isLoading:!1,error:e.message})),ze(Ae.creationSuccess,t=>G(R({},t),{isLoading:!1})),ze(Ae.creationFailure,(t,e)=>G(R({},t),{isLoading:!1,error:e.message})),ze(Ae.deleteSection,t=>G(R({},t),{isLoading:!0})),ze(Ae.deleteSuccess,t=>G(R({},t),{isLoading:!1})),ze(Ae.deleteFailure,(t,e)=>G(R({},t),{isLoading:!1,error:e.message})),ze(Ae.getAllTeachers,t=>G(R({},t),{isLoading:!0})),ze(Ae.getAllTeachersSuccess,(t,e)=>G(R({},t),{isLoading:!1,teachers:e.data})),ze(Ae.getAllTeachersFailure,(t,e)=>G(R({},t),{isLoading:!1,error:e.message})))}),{name:LR,reducer:VR,selectIsLoading:$f,selectSections:BR,selectError:Hf,selectTeachers:jR}=pq;var YR=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(W(ni),W(Nt))},e.\u0275dir=st({type:e});let t=e;return t})(),X0=(()=>{let e=class e extends YR{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=$n(e)))(s||e)}})(),e.\u0275dir=st({type:e,features:[ii]});let t=e;return t})(),Zf=new k("");var mq={provide:Zf,useExisting:dr(()=>fs),multi:!0};function gq(){let t=Ci()?Ci().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _q=new k(""),fs=(()=>{let e=class e extends YR{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gq())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(W(ni),W(Nt),W(_q,8))},e.\u0275dir=st({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Be("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[lo([mq]),ii]});let t=e;return t})();function hs(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function JR(t){return t!=null&&typeof t.length=="number"}var ZR=new k(""),XR=new k(""),yq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,On=class{static min(e){return vq(e)}static max(e){return wq(e)}static required(e){return bq(e)}static requiredTrue(e){return Eq(e)}static email(e){return Iq(e)}static minLength(e){return Dq(e)}static maxLength(e){return Tq(e)}static pattern(e){return Sq(e)}static nullValidator(e){return eO(e)}static compose(e){return oO(e)}static composeAsync(e){return cO(e)}};function vq(t){return e=>{if(hs(e.value)||hs(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function wq(t){return e=>{if(hs(e.value)||hs(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function bq(t){return hs(t.value)?{required:!0}:null}function Eq(t){return t.value===!0?null:{required:!0}}function Iq(t){return hs(t.value)||yq.test(t.value)?null:{email:!0}}function Dq(t){return e=>hs(e.value)||!JR(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Tq(t){return e=>JR(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Sq(t){if(!t)return eO;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(hs(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function eO(t){return null}function tO(t){return t!=null}function nO(t){return os(t)?De(t):t}function iO(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function rO(t,e){return e.map(n=>n(t))}function Cq(t){return!t.validate}function sO(t){return t.map(e=>Cq(e)?e:n=>e.validate(n))}function oO(t){if(!t)return null;let e=t.filter(tO);return e.length==0?null:function(n){return iO(rO(n,e))}}function aO(t){return t!=null?oO(sO(t)):null}function cO(t){if(!t)return null;let e=t.filter(tO);return e.length==0?null:function(n){let i=rO(n,e).map(nO);return e_(i).pipe(K(iO))}}function lO(t){return t!=null?cO(sO(t)):null}function UR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function uO(t){return t._rawValidators}function dO(t){return t._rawAsyncValidators}function Y0(t){return t?Array.isArray(t)?t:[t]:[]}function qf(t,e){return Array.isArray(t)?t.includes(e):t===e}function $R(t,e){let n=Y0(e);return Y0(t).forEach(r=>{qf(n,r)||n.push(r)}),n}function HR(t,e){return Y0(e).filter(n=>!qf(t,n))}var Wf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ya=class extends Wf{get formDirective(){return null}get path(){return null}},lu=class extends Wf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Aq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Rae=G(R({},Aq),{"[class.ng-submitted]":"isSubmitted"}),Za=(()=>{let e=class e extends Kf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(W(lu,2))},e.\u0275dir=st({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&co("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[ii]});let t=e;return t})(),Xa=(()=>{let e=class e extends Kf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(W(Ya,10))},e.\u0275dir=st({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&co("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[ii]});let t=e;return t})();var au="VALID",Gf="INVALID",Qa="PENDING",cu="DISABLED";function ew(t){return(Xf(t)?t.validators:t)||null}function Mq(t){return Array.isArray(t)?aO(t):t||null}function tw(t,e){return(Xf(e)?e.asyncValidators:t)||null}function Rq(t){return Array.isArray(t)?lO(t):t||null}function Xf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hO(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new V(1e3,"");if(!i[n])throw new V(1001,"")}function fO(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new V(1002,"")})}var Ja=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===au}get invalid(){return this.status===Gf}get pending(){return this.status==Qa}get disabled(){return this.status===cu}get enabled(){return this.status!==cu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($R(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($R(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HR(e,this._rawAsyncValidators))}hasValidator(e){return qf(this._rawValidators,e)}hasAsyncValidator(e){return qf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qa,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cu,this.errors=null,this._forEachChild(i=>{i.disable(G(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=au,this._forEachChild(i=>{i.enable(G(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===au||this.status===Qa)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cu:au}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qa,this._hasOwnPendingAsyncValidator=!0;let n=nO(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?cu:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qa)?Qa:this._anyControlsHaveStatus(Gf)?Gf:au}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Mq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Rq(this._rawAsyncValidators)}},Qf=class extends Ja{constructor(e,n,i){super(ew(n),tw(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){fO(this,!0,e),Object.keys(e).forEach(i=>{hO(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var J0=class extends Qf{};var pO=new k("CallSetDisabledState",{providedIn:"root",factory:()=>nw}),nw="always";function Oq(t,e){return[...e.path,t]}function GR(t,e,n=nw){iw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),xq(t,e),kq(t,e),Pq(t,e),Nq(t,e)}function zR(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Jf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Yf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Nq(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function iw(t,e){let n=uO(t);e.validator!==null?t.setValidators(UR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=dO(t);e.asyncValidator!==null?t.setAsyncValidators(UR(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Yf(e._rawValidators,r),Yf(e._rawAsyncValidators,r)}function Jf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=uO(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=dO(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Yf(e._rawValidators,i),Yf(e._rawAsyncValidators,i),n}function xq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mO(t,e)})}function Pq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mO(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function mO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function kq(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Fq(t,e){t==null,iw(t,e)}function Lq(t,e){return Jf(t,e)}function Vq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Bq(t){return Object.getPrototypeOf(t.constructor)===X0}function jq(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Uq(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===fs?n=s:Bq(s)?i=s:r=s}),r||i||n||null}function $q(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var zf=class extends Ja{constructor(e=null,n,i){super(ew(n),tw(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hq=t=>t instanceof zf;var ec=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=st({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var gO=new k("");var Gq={provide:Ya,useExisting:dr(()=>go)},go=(()=>{let e=class e extends Ya{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tt,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return GR(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){zR(i.control||null,i,!1),$q(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,jq(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(zR(r||null,i),Hq(s)&&(GR(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Fq(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Lq(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iw(this.form,this),this._oldForm&&Jf(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(W(ZR,10),W(XR,10),W(pO,8))},e.\u0275dir=st({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Be("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[kt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lo([Gq]),ii,Di]});let t=e;return t})();var zq={provide:lu,useExisting:dr(()=>_o)},_o=(()=>{let e=class e extends lu{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new tt,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Uq(this,o)}ngOnChanges(i){this._added||this._setUpControl(),Vq(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Oq(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(W(Ya,13),W(ZR,10),W(XR,10),W(Zf,10),W(gO,8))},e.\u0275dir=st({type:e,selectors:[["","formControlName",""]],inputs:{name:[kt.None,"formControlName","name"],isDisabled:[kt.None,"disabled","isDisabled"],model:[kt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[lo([zq]),ii,Di]});let t=e;return t})(),qq={provide:Zf,useExisting:dr(()=>ep),multi:!0};function _O(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Wq(t){return t.split(":")[0]}var ep=(()=>{let e=class e extends X0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=_O(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Wq(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=$n(e)))(s||e)}})(),e.\u0275dir=st({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&Be("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[lo([qq]),ii]});let t=e;return t})(),yO=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(_O(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(W(Nt),W(ni),W(ep,9))},e.\u0275dir=st({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Kq={provide:Zf,useExisting:dr(()=>vO),multi:!0};function KR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Qq(t){return t.split(":")[0]}var vO=(()=>{let e=class e extends X0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],d=this._getOptionValue(u.value);s.push(d)}}else{let a=r.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=Qq(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=$n(e)))(s||e)}})(),e.\u0275dir=st({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&Be("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[lo([Kq]),ii]});let t=e;return t})(),wO=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(KR(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(KR(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(W(Nt),W(ni),W(vO,9))},e.\u0275dir=st({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Yq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),Z0=class extends Ja{constructor(e,n,i){super(ew(n),tw(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){fO(this,!1,e),e.forEach((i,r)=>{hO(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function QR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var tc=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return QR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Qf(s,o)}record(i,r=null){let s=this._reduceControls(i);return new J0(s,r)}control(i,r,s){let o={};return this.useNonNullable?(QR(r)?o=r:(o.validators=r,o.asyncValidators=s),new zf(i,G(R({},o),{nonNullable:!0}))):new zf(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new Z0(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof zf)return i;if(i instanceof Ja)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tp=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:gO,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:pO,useValue:i.callSetDisabledState??nw}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({imports:[Yq]});let t=e;return t})();var Jq=["*"];var Zq=["dialog"];var bO={animation:!0,transitionTimerDelayMs:5},Xq=(()=>{let e=class e{constructor(){this.animation=bO.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function e4(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function EO(t){return typeof t=="string"}function sw(t){return t!=null}function t4(t){return t&&t.then}function IO(t){return(t||document.body).getBoundingClientRect()}function n4(t){return e=>new ie(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}var i4=()=>{},{transitionTimerDelayMs:r4}=bO,np=new Map,yo=(t,e,n,i)=>{let r=i.context||{},s=np.get(e);if(s)switch(i.runningTransition){case"continue":return rt;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),np.delete(e)}let o=n(e,i.animation,r)||i4;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),Y(void 0).pipe(n4(t));let a=new _e,c=new _e,u=a.pipe(o_(!0));np.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let d=e4(e);return t.runOutsideAngular(()=>{let f=Bn(e,"transitionend").pipe(St(u),$e(({target:_})=>_===e)),m=rl(d+r4).pipe(St(u));t_(m,f,c).pipe(St(u)).subscribe(()=>{np.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var DO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var TO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var SO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),CO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var cw=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(cw||{});var wce=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var s4=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AO(t){let e=Array.from(t.querySelectorAll(s4)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var o4=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=Bn(e,"focusin").pipe(St(n),K(s=>s.target));Bn(e,"keydown").pipe(St(n),$e(s=>s.which===cw.Tab),Jr(r)).subscribe(([s,o])=>{let[a,c]=AO(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Bn(e,"click").pipe(St(n),Jr(r),K(s=>s[1])).subscribe(s=>s.focus())})};var bce=new Date(1882,10,12),Ece=new Date(2174,10,25);var Ice=1e3*60*60*24;var lw=1080,a4=24*lw,c4=12*lw+793,Dce=29*a4+c4,Tce=11*lw+204;var MO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var RO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),l4=(()=>{let e=class e{constructor(){this._ngbConfig=P(Xq),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nc=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var u4=(()=>{let e=class e{constructor(){this._document=P(nt)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let c=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${c+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d4=(()=>{let e=class e{constructor(){this._nativeElement=P(Nt).nativeElement,this._zone=P(he)}ngOnInit(){this._zone.onStable.asObservable().pipe(bt(1)).subscribe(()=>{yo(this._zone,this._nativeElement,(i,r)=>{r&&IO(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return yo(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(In("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),co("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ss],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),ps=class{update(e){}close(e){}dismiss(e){}},h4=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],f4=["animation","backdropClass"],ow=class{_applyWindowOptions(e,n){h4.forEach(i=>{sw(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){f4.forEach(i=>{sw(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(St(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(St(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new _e,this._dismissed=new _e,this._hidden=new _e,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();t4(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Y(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),sl(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},aw=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(aw||{}),p4=(()=>{let e=class e{constructor(){this._document=P(nt),this._elRef=P(Nt),this._zone=P(he),this._closed$=new _e,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new tt,this.shown=new _e,this.hidden=new _e}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":EO(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(bt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=yo(this._zone,i,()=>i.classList.remove("show"),r),o=yo(this._zone,this._dialogEl.nativeElement,()=>{},r),a=sl(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=yo(this._zone,this._elRef.nativeElement,(o,a)=>{a&&IO(o),o.classList.add("show")},i),s=yo(this._zone,this._dialogEl.nativeElement,()=>{},i);sl(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Bn(i,"keydown").pipe(St(this._closed$),$e(s=>s.which===cw.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(aw.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;Bn(this._dialogEl.nativeElement,"mousedown").pipe(St(this._closed$),Oe(()=>r=!1),Et(()=>Bn(i,"mouseup").pipe(St(this._closed$),bt(1))),$e(({target:s})=>i===s)).subscribe(()=>{r=!0}),Bn(i,"click").pipe(St(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(aw.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=AO(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&yo(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&FA(Zq,7),r&2){let o;ef(o=tf())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(ri("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),In("modal d-block"+(s.windowClass?" "+s.windowClass:"")),co("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ss],ngContentSelectors:Jq,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(PA(),U(0,"div",1,0)(2,"div",2),kA(3),Q()()),r&2&&In("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),m4=(()=>{let e=class e{constructor(){this._applicationRef=P(Gn),this._injector=P(qe),this._environmentInjector=P($t),this._document=P(nt),this._scrollBar=P(u4),this._activeWindowCmptHasChanged=new _e,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new tt;let i=P(he);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];o4(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:sw(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new ps;i=s.injector||i;let c=i.get($t,null)||this._environmentInjector,u=this._getContentRef(i,c,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,u.nodes),m=new ow(f,u,d,s.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(bt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=df(d4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=df(p4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof lr?this._createFromTemplateRef(s,o):EO(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new nc([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new nc([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new nc([[r]])}_createFromComponent(i,r,s,o,a){let c=qe.create({providers:[{provide:ps,useValue:o}],parent:i}),u=df(s,{environmentInjector:r,elementInjector:c}),d=u.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new nc([[d]],u.hostView,u)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uu=(()=>{let e=class e{constructor(){this._injector=P(qe),this._modalStack=P(m4),this._config=P(l4)}open(i,r={}){let s=R(G(R({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({providers:[uu]});let t=e;return t})();var NO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var xO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var PO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var kO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var FO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var LO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var VO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var BO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var jO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var Sce=new k("live announcer delay",{providedIn:"root",factory:()=>100});var UO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var $O=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),g4=[DO,TO,SO,CO,MO,RO,OO,NO,$O,xO,PO,kO,FO,LO,VO,BO,jO,UO],HO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({imports:[g4,DO,TO,SO,CO,MO,RO,OO,NO,$O,xO,PO,kO,FO,LO,VO,BO,jO,UO]});let t=e;return t})();var we=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(we||{}),xi="*";function GO(t,e){return{type:we.Trigger,name:t,definitions:e,options:{}}}function uw(t,e=null){return{type:we.Animate,styles:e,timings:t}}function zO(t,e=null){return{type:we.Sequence,steps:t,options:e}}function vo(t){return{type:we.Style,styles:t,offset:null}}function ip(t,e,n){return{type:we.State,name:t,styles:e,options:n}}function dw(t,e,n=null){return{type:we.Transition,expr:t,animation:e,options:n}}var ms=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},du=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},rp="!";function qO(t){return new V(3e3,!1)}function _4(){return new V(3100,!1)}function y4(){return new V(3101,!1)}function v4(t){return new V(3001,!1)}function w4(t){return new V(3003,!1)}function b4(t){return new V(3004,!1)}function E4(t,e){return new V(3005,!1)}function I4(){return new V(3006,!1)}function D4(){return new V(3007,!1)}function T4(t,e){return new V(3008,!1)}function S4(t){return new V(3002,!1)}function C4(t,e,n,i,r){return new V(3010,!1)}function A4(){return new V(3011,!1)}function M4(){return new V(3012,!1)}function R4(){return new V(3200,!1)}function O4(){return new V(3202,!1)}function N4(){return new V(3013,!1)}function x4(t){return new V(3014,!1)}function P4(t){return new V(3015,!1)}function k4(t){return new V(3016,!1)}function F4(t,e){return new V(3404,!1)}function L4(t){return new V(3502,!1)}function V4(t){return new V(3503,!1)}function B4(){return new V(3300,!1)}function j4(t){return new V(3504,!1)}function U4(t){return new V(3301,!1)}function $4(t,e){return new V(3302,!1)}function H4(t){return new V(3303,!1)}function G4(t,e){return new V(3400,!1)}function z4(t){return new V(3401,!1)}function q4(t){return new V(3402,!1)}function W4(t,e){return new V(3505,!1)}function gs(t){switch(t.length){case 0:return new ms;case 1:return t[0];default:return new du(t)}}function oN(t,e,n=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==o,f=d&&a||new Map;c.forEach((m,_)=>{let v=_,D=m;if(_!=="offset")switch(v=t.normalizePropertyName(v,r),D){case rp:D=n.get(_);break;case xi:D=i.get(_);break;default:D=t.normalizeStyleValue(_,v,D,r);break}f.set(v,D)}),d||s.push(f),a=f,o=u}),r.length)throw L4(r);return s}function Pw(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&hw(n,"start",t)));break;case"done":t.onDone(()=>i(n&&hw(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&hw(n,"destroy",t)));break}}function hw(t,e,n){let i=n.totalTime,r=!!n.disabled,s=kw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),o=t._data;return o!=null&&(s._data=o),s}function kw(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function xn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function WO(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var K4=typeof document>"u"?null:document.documentElement;function Fw(t){let e=t.parentNode||t.host||null;return e===K4?null:e}function Q4(t){return t.substring(1,6)=="ebkit"}var wo=null,KO=!1;function Y4(t){wo||(wo=J4()||{},KO=wo.style?"WebkitAppearance"in wo.style:!1);let e=!0;return wo.style&&!Q4(t)&&(e=t in wo.style,!e&&KO&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in wo.style)),e}function J4(){return typeof document<"u"?document.body:null}function aN(t,e){for(;e;){if(e===t)return!0;e=Fw(e)}return!1}function cN(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var Lw=(()=>{let e=class e{validateStyleProperty(i){return Y4(i)}matchesElement(i,r){return!1}containsElement(i,r){return aN(i,r)}getParentElement(i){return Fw(i)}query(i,r,s){return cN(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,c=[],u){return new ms(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Uw=class Uw{};Uw.NOOP=new Lw;var Io=Uw,Do=class{};var Z4=1e3,lN="{{",X4="}}",uN="ng-enter",yw="ng-leave",sp="ng-trigger",up=".ng-trigger",QO="ng-animating",vw=".ng-animating";function wr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ww(parseFloat(e[1]),e[2])}function ww(t,e){switch(e){case"s":return t*Z4;default:return t}}function dp(t,e,n){return t.hasOwnProperty("duration")?t:eW(t,e,n)}function eW(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(qO(t)),{duration:0,delay:0,easing:""};r=ww(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=ww(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(_4()),a=!0),s<0&&(e.push(y4()),a=!0),a&&e.splice(c,0,qO(t))}return{duration:r,delay:s,easing:o}}function tW(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Pi(t,e,n){e.forEach((i,r)=>{let s=Vw(r);n&&!n.has(r)&&n.set(r,t.style[s]),t.style[s]=i})}function Eo(t,e){e.forEach((n,i)=>{let r=Vw(i);t.style[r]=""})}function hu(t){return Array.isArray(t)?t.length==1?t[0]:zO(t):t}function nW(t,e,n){let i=e.params||{},r=dN(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(v4(s))})}var bw=new RegExp(`${lN}\\s*(.+?)\\s*${X4}`,"g");function dN(t){let e=[];if(typeof t=="string"){let n;for(;n=bw.exec(t);)e.push(n[1]);bw.lastIndex=0}return e}function pu(t,e,n){let i=`${t}`,r=i.replace(bw,(s,o)=>{let a=e[o];return a==null&&(n.push(w4(o)),a=""),a.toString()});return r==i?t:r}var iW=/-+([a-z0-9])/g;function Vw(t){return t.replace(iW,(...e)=>e[1].toUpperCase())}function rW(t,e){return t===0||e===0}function sW(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,Bw(t,a)))}}return e}function Nn(t,e,n){switch(e.type){case we.Trigger:return t.visitTrigger(e,n);case we.State:return t.visitState(e,n);case we.Transition:return t.visitTransition(e,n);case we.Sequence:return t.visitSequence(e,n);case we.Group:return t.visitGroup(e,n);case we.Animate:return t.visitAnimate(e,n);case we.Keyframes:return t.visitKeyframes(e,n);case we.Style:return t.visitStyle(e,n);case we.Reference:return t.visitReference(e,n);case we.AnimateChild:return t.visitAnimateChild(e,n);case we.AnimateRef:return t.visitAnimateRef(e,n);case we.Query:return t.visitQuery(e,n);case we.Stagger:return t.visitStagger(e,n);default:throw b4(e.type)}}function Bw(t,e){return window.getComputedStyle(t)[e]}var oW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),hp=class extends Do{normalizePropertyName(e,n){return Vw(e)}normalizeStyleValue(e,n,i,r){let s="",o=i.toString().trim();if(oW.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(E4(e,i))}return o+s}};var fp="*";function aW(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>cW(i,n,e)):n.push(t),n}function cW(t,e,n){if(t[0]==":"){let c=lW(t,n);if(typeof c=="function"){e.push(c);return}t=c}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(P4(t)),e;let r=i[1],s=i[2],o=i[3];e.push(YO(r,o));let a=r==fp&&o==fp;s[0]=="<"&&!a&&e.push(YO(o,r))}function lW(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(k4(t)),"* => *"}}var op=new Set(["true","1"]),ap=new Set(["false","0"]);function YO(t,e){let n=op.has(t)||ap.has(t),i=op.has(e)||ap.has(e);return(r,s)=>{let o=t==fp||t==r,a=e==fp||e==s;return!o&&n&&typeof r=="boolean"&&(o=r?op.has(t):ap.has(t)),!a&&i&&typeof s=="boolean"&&(a=s?op.has(e):ap.has(e)),o&&a}}var hN=":self",uW=new RegExp(`s*${hN}s*,?`,"g");function fN(t,e,n,i){return new Ew(t).build(e,n,i)}var JO="",Ew=class{constructor(e){this._driver=e}build(e,n,i){let r=new Iw(n);return this._resetContextStyleTimingState(r),Nn(this,hu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=JO,e.collectedStyles=new Map,e.collectedStyles.set(JO,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(I4()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==we.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,s.push(this.visitState(c,n))}),c.name=u}else if(a.type==we.Transition){let c=this.visitTransition(a,n);i+=c.queryCount,r+=c.depCount,o.push(c)}else n.errors.push(D4())}),{type:we.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{dN(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&n.errors.push(T4(e.name,[...s.values()]))}return{type:we.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Nn(this,hu(e.animation),n),r=aW(e.expr,n.errors);return{type:we.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:bo(e.options)}}visitSequence(e,n){return{type:we.Sequence,steps:e.steps.map(i=>Nn(this,i,n)),options:bo(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,s=e.steps.map(o=>{n.currentTime=i;let a=Nn(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:we.Group,steps:s,options:bo(e.options)}}visitAnimate(e,n){let i=pW(e.timings,n.errors);n.currentAnimateTimings=i;let r,s=e.styles?e.styles:vo({});if(s.type==we.Keyframes)r=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};i.easing&&(u.easing=i.easing),o=vo(u)}n.currentTime+=i.duration+i.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:we.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===xi?i.push(a):n.errors.push(S4(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(lN)>=0){s=!0;break}}}),{type:we.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),d=u.get(c),f=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(n.errors.push(C4(c,d.startTime,d.endTime,s,r)),f=!1),s=d.startTime),f&&u.set(c,{startTime:s,endTime:r}),n.options&&nW(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:we.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(A4()),i;let r=1,s=0,o=[],a=!1,c=!1,u=0,d=e.steps.map(x=>{let j=this._makeStyleAst(x,n),q=j.offset!=null?j.offset:fW(j.styles),B=0;return q!=null&&(s++,B=j.offset=q),c=c||B<0||B>1,a=a||B<u,u=B,o.push(B),j});c&&n.errors.push(M4()),a&&n.errors.push(R4());let f=e.steps.length,m=0;s>0&&s<f?n.errors.push(O4()):s==0&&(m=r/(f-1));let _=f-1,v=n.currentTime,D=n.currentAnimateTimings,A=D.duration;return d.forEach((x,j)=>{let q=m>0?j==_?1:m*j:o[j],B=q*A;n.currentTime=v+D.delay+B,D.duration=B,this._validateStyleAst(x,n),x.offset=q,i.styles.push(x)}),i}visitReference(e,n){return{type:we.Reference,animation:Nn(this,hu(e.animation),n),options:bo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:we.AnimateChild,options:bo(e.options)}}visitAnimateRef(e,n){return{type:we.AnimateRef,animation:this.visitReference(e.animation,n),options:bo(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=dW(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,xn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Nn(this,hu(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:we.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:bo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(N4());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:dp(e.timings,n.errors,!0);return{type:we.Stagger,animation:Nn(this,hu(e.animation),n),timings:i,options:null}}};function dW(t){let e=!!t.split(/\s*,\s*/).find(n=>n==hN);return e&&(t=t.replace(uW,"")),t=t.replace(/@\*/g,up).replace(/@\w+/g,n=>up+"-"+n.slice(1)).replace(/:animating/g,vw),[t,e]}function hW(t){return t?R({},t):null}var Iw=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function fW(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function pW(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=dp(t,e).duration;return fw(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=fw(0,0,"");return s.dynamic=!0,s.strValue=n,s}let r=dp(n,e);return fw(r.duration,r.delay,r.easing)}function bo(t){return t?(t=R({},t),t.params&&(t.params=hW(t.params))):t={},t}function fw(t,e,n){return{duration:t,delay:e,easing:n}}function jw(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var mu=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},mW=1,gW=":enter",_W=new RegExp(gW,"g"),yW=":leave",vW=new RegExp(yW,"g");function pN(t,e,n,i,r,s=new Map,o=new Map,a,c,u=[]){return new Dw().buildKeyframes(t,e,n,i,r,s,o,a,c,u)}var Dw=class{buildKeyframes(e,n,i,r,s,o,a,c,u,d=[]){u=u||new mu;let f=new Tw(e,n,u,r,s,d,[]);f.options=c;let m=c.delay?wr(c.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([o],null,f.errors,c),Nn(this,i,f);let _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let D=_.length-1;D>=0;D--){let A=_[D];if(A.element===n){v=A;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,c)}return _.length?_.map(v=>v.buildKeyframes()):[jw(n,[],[],[],0,m,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:wr(pu(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?wr(i.duration):null,a=i.delay!=null?wr(i.delay):null;return o!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Nn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,s=e.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==we.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pp);let o=wr(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Nn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,s=e.options&&e.options.delay?wr(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Nn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?pu(i,n.params,n.errors):i;return dp(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==we.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},s=r.delay?wr(r.delay):0;s&&(n.previousNode.type===we.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=pp);let o=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{n.currentQueryIndex=d;let f=n.createSubContext(e.options,u);s&&f.delayNextStep(s),u===n.element&&(c=f.currentTimeline),Nn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;o=Math.max(o,m)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let d=n.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;Nn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},pp={},Tw=class t{constructor(e,n,i,r,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new mp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=wr(i.duration)),i.delay!=null&&(r.delay=wr(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=pu(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,s=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=pp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Sw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(_W,"."+this._enterClassName),e=e.replace(vW,"."+this._leaveClassName);let c=i!=1,u=this._driver.query(this.element,e,c);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&a.length==0&&o.push(x4(n)),a}},mp=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=mW,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||xi),this._currentKeyframe.set(n,xi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=wW(e,this._globalTimelineStyles);for(let[a,c]of o){let u=pu(c,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??xi),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===rp?e.add(f):d===xi&&n.add(f)}),i||u.set("offset",c/this.duration),r.push(u)});let s=[...e.values()],o=[...n.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return jw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Sw=class extends mp{constructor(e,n,i,r,s,o,a=!1){super(e,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let u=new Map(e[0]);u.set("offset",ZO(a)),s.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),_=m.get("offset"),v=n+_*i;m.set("offset",ZO(v/o)),s.push(m)}i=o,n=0,r="",e=s}return jw(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function ZO(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function wW(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)n.set(s,xi)}else for(let[s,o]of r)n.set(s,o)}),n}function XO(t,e,n,i,r,s,o,a,c,u,d,f,m){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:m}}var pw={},gp=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return bW(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,s,o,a,c,u,d){let f=[],m=this.ast.options&&this.ast.options.params||pw,_=a&&a.params||pw,v=this.buildStyles(i,_,f),D=c&&c.params||pw,A=this.buildStyles(r,D,f),x=new Set,j=new Map,q=new Map,B=r==="void",oe={params:mN(D,m),delay:this.ast.options?.delay},H=d?[]:pN(e,n,this.ast.animation,s,o,v,A,oe,u,f),I=0;return H.forEach(y=>{I=Math.max(y.duration+y.delay,I)}),f.length?XO(n,this._triggerName,i,r,B,v,A,[],[],j,q,I,f):(H.forEach(y=>{let w=y.element,T=xn(j,w,new Set);y.preStyleProps.forEach(M=>T.add(M));let S=xn(q,w,new Set);y.postStyleProps.forEach(M=>S.add(M)),w!==n&&x.add(w)}),XO(n,this._triggerName,i,r,B,v,A,H,[...x.values()],j,q,I))}};function bW(t,e,n,i,r){return t.some(s=>s(e,n,i,r))}function mN(t,e){let n=R({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var Cw=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=mN(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=pu(o,r,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),i.set(a,o)})}),i}};function EW(t,e,n){return new Aw(t,e,n)}var Aw=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Cw(r.style,s,i))}),eN(this.states,"true","1"),eN(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new gp(e,r,this.states))}),this.fallbackTransition=IW(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(o=>o.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function IW(t,e,n){let i=[(o,a)=>!0],r={type:we.Sequence,steps:[],options:null},s={type:we.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new gp(t,s,e)}function eN(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var DW=new mu,Mw=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],s=fN(this._driver,n,i,r);if(i.length)throw V4(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,i){let r=e.element,s=oN(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=pN(this._driver,n,s,uN,yw,new Map,new Map,i,DW,r),o.forEach(d=>{let f=xn(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(B4()),o=[]),r.length)throw j4(r);a.forEach((d,f)=>{d.forEach((m,_)=>{d.set(_,this._driver.computeStyle(f,_,xi))})});let c=o.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=gs(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw U4(e);return n}listen(e,n,i,r){let s=kw(n,"","","");return Pw(this._getPlayer(e),i,s,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},tN="ng-animate-queued",TW=".ng-animate-queued",mw="ng-animate-disabled",SW=".ng-animate-disabled",CW="ng-star-inserted",AW=".ng-star-inserted",MW=[],gN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ci="__ng_removed",gu=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=NW(r),i){let s=e,{value:o}=s,a=HT(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},fu="void",gw=new gu(fu),Rw=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qn(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw $4(i,n);if(i==null||i.length==0)throw H4(n);if(!xW(i))throw G4(i,n);let s=xn(this._elementListeners,e,[]),o={name:n,phase:i,callback:r};s.push(o);let a=xn(this._engine.statesByElement,e,new Map);return a.has(n)||(qn(e,sp),qn(e,sp+"-"+n),a.set(n,gw)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw z4(e);return n}trigger(e,n,i,r=!0){let s=this._getTrigger(n),o=new _u(this.id,n,e),a=this._engine.statesByElement.get(e);a||(qn(e,sp),qn(e,sp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new gu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=gw),!(u.value===fu)&&c.value===u.value){if(!FW(c.params,u.params)){let D=[],A=s.matchStyles(c.value,c.params,D),x=s.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Eo(e,A),Pi(e,x)})}return}let m=xn(this._engine.playersByElement,e,[]);m.forEach(D=>{D.namespaceId==this.id&&D.triggerName==n&&D.queued&&D.destroy()});let _=s.matchTransition(c.value,u.value,e,u.params),v=!1;if(!_){if(!r)return;_=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:u,player:o,isFallbackTransition:v}),v||(qn(e,tN),o.onStart(()=>{ic(e,tN)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);let A=this._engine.playersByElement.get(e);if(A){let x=A.indexOf(o);x>=0&&A.splice(x,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,up,!0);i.forEach(r=>{if(r[ci])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,fu,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),i&&gs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let c=this._triggers.get(o).fallbackTransition,u=i.get(o)||gw,d=new gu(fu),f=new _u(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let s=e[ci];(!s||s===gN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){qn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let c=kw(s,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Pw(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ow=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new Rw(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let u=i.indexOf(c);i.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}}return n}trigger(e,n,i,r){if(cp(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!cp(n))return;let s=n[ci];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qn(e,mw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ic(e,mw))}removeNode(e,n,i){if(cp(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,s){this.collectedLeaveElements.push(n),n[ci]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,r,s){return cp(n)?this._fetchNamespace(e).listen(n,i,r,s):()=>{}}_buildInstruction(e,n,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,up,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,vw,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gs(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ci];if(n&&n.setForRemoval){if(e[ci]=gN,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(mw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,SW,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];qn(r,CW)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?gs(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw q4(e)}_flushAnimations(e,n){let i=new mu,r=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Z=>{d.add(Z);let ne=this.driver.query(Z,TW,!0);for(let ae=0;ae<ne.length;ae++)d.add(ne[ae])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=rN(m,this.collectedEnterElements),v=new Map,D=0;_.forEach((Z,ne)=>{let ae=uN+D++;v.set(ne,ae),Z.forEach(Ce=>qn(Ce,ae))});let A=[],x=new Set,j=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){let ne=this.collectedLeaveElements[Z],ae=ne[ci];ae&&ae.setForRemoval&&(A.push(ne),x.add(ne),ae.hasAnimation?this.driver.query(ne,AW,!0).forEach(Ce=>x.add(Ce)):j.add(ne))}let q=new Map,B=rN(m,Array.from(x));B.forEach((Z,ne)=>{let ae=yw+D++;q.set(ne,ae),Z.forEach(Ce=>qn(Ce,ae))}),e.push(()=>{_.forEach((Z,ne)=>{let ae=v.get(ne);Z.forEach(Ce=>ic(Ce,ae))}),B.forEach((Z,ne)=>{let ae=q.get(ne);Z.forEach(Ce=>ic(Ce,ae))}),A.forEach(Z=>{this.processLeaveNode(Z)})});let oe=[],H=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(n).forEach(ae=>{let Ce=ae.player,vt=ae.element;if(oe.push(Ce),this.collectedEnterElements.length){let ut=vt[ci];if(ut&&ut.setForMove){if(ut.previousTriggersValues&&ut.previousTriggersValues.has(ae.triggerName)){let Ji=ut.previousTriggersValues.get(ae.triggerName),ln=this.statesByElement.get(ae.element);if(ln&&ln.has(ae.triggerName)){let Zi=ln.get(ae.triggerName);Zi.value=Ji,ln.set(ae.triggerName,Zi)}}Ce.destroy();return}}let Ln=!f||!this.driver.containsElement(f,vt),lt=q.get(vt),Je=v.get(vt),Ze=this._buildInstruction(ae,i,Je,lt,Ln);if(Ze.errors&&Ze.errors.length){H.push(Ze);return}if(Ln){Ce.onStart(()=>Eo(vt,Ze.fromStyles)),Ce.onDestroy(()=>Pi(vt,Ze.toStyles)),r.push(Ce);return}if(ae.isFallbackTransition){Ce.onStart(()=>Eo(vt,Ze.fromStyles)),Ce.onDestroy(()=>Pi(vt,Ze.toStyles)),r.push(Ce);return}let Fr=[];Ze.timelines.forEach(ut=>{ut.stretchStartingKeyframe=!0,this.disabledNodes.has(ut.element)||Fr.push(ut)}),Ze.timelines=Fr,i.append(vt,Ze.timelines);let lg={instruction:Ze,player:Ce,element:vt};o.push(lg),Ze.queriedElements.forEach(ut=>xn(a,ut,[]).push(Ce)),Ze.preStyleProps.forEach((ut,Ji)=>{if(ut.size){let ln=c.get(Ji);ln||c.set(Ji,ln=new Set),ut.forEach((Zi,Lr)=>ln.add(Lr))}}),Ze.postStyleProps.forEach((ut,Ji)=>{let ln=u.get(Ji);ln||u.set(Ji,ln=new Set),ut.forEach((Zi,Lr)=>ln.add(Lr))})});if(H.length){let Z=[];H.forEach(ne=>{Z.push(W4(ne.triggerName,ne.errors))}),oe.forEach(ne=>ne.destroy()),this.reportError(Z)}let I=new Map,y=new Map;o.forEach(Z=>{let ne=Z.element;i.has(ne)&&(y.set(ne,ne),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,I))}),r.forEach(Z=>{let ne=Z.element;this._getPreviousPlayers(ne,!1,Z.namespaceId,Z.triggerName,null).forEach(Ce=>{xn(I,ne,[]).push(Ce),Ce.destroy()})});let w=A.filter(Z=>sN(Z,c,u)),T=new Map;iN(T,this.driver,j,u,xi).forEach(Z=>{sN(Z,c,u)&&w.push(Z)});let M=new Map;_.forEach((Z,ne)=>{iN(M,this.driver,new Set(Z),c,rp)}),w.forEach(Z=>{let ne=T.get(Z),ae=M.get(Z);T.set(Z,new Map([...ne?.entries()??[],...ae?.entries()??[]]))});let b=[],Fn=[],kr={};o.forEach(Z=>{let{element:ne,player:ae,instruction:Ce}=Z;if(i.has(ne)){if(d.has(ne)){ae.onDestroy(()=>Pi(ne,Ce.toStyles)),ae.disabled=!0,ae.overrideTotalTime(Ce.totalTime),r.push(ae);return}let vt=kr;if(y.size>1){let lt=ne,Je=[];for(;lt=lt.parentNode;){let Ze=y.get(lt);if(Ze){vt=Ze;break}Je.push(lt)}Je.forEach(Ze=>y.set(Ze,vt))}let Ln=this._buildAnimation(ae.namespaceId,Ce,I,s,M,T);if(ae.setRealPlayer(Ln),vt===kr)b.push(ae);else{let lt=this.playersByElement.get(vt);lt&&lt.length&&(ae.parentPlayer=gs(lt)),r.push(ae)}}else Eo(ne,Ce.fromStyles),ae.onDestroy(()=>Pi(ne,Ce.toStyles)),Fn.push(ae),d.has(ne)&&r.push(ae)}),Fn.forEach(Z=>{let ne=s.get(Z.element);if(ne&&ne.length){let ae=gs(ne);Z.setRealPlayer(ae)}}),r.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<A.length;Z++){let ne=A[Z],ae=ne[ci];if(ic(ne,yw),ae&&ae.hasAnimation)continue;let Ce=[];if(a.size){let Ln=a.get(ne);Ln&&Ln.length&&Ce.push(...Ln);let lt=this.driver.query(ne,vw,!0);for(let Je=0;Je<lt.length;Je++){let Ze=a.get(lt[Je]);Ze&&Ze.length&&Ce.push(...Ze)}}let vt=Ce.filter(Ln=>!Ln.destroyed);vt.length?PW(this,ne,vt):this.processLeaveNode(ne)}return A.length=0,b.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();let ne=this.players.indexOf(Z);this.players.splice(ne,1)}),Z.play()}),b}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==fu;a.forEach(u=>{u.queued||!c&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let u=c.element,d=u!==s,f=xn(i,u,[]);this._getPreviousPlayers(u,d,o,a,n.toState).forEach(_=>{let v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}Eo(s,n.fromStyles)}_buildAnimation(e,n,i,r,s,o){let a=n.triggerName,c=n.element,u=[],d=new Set,f=new Set,m=n.timelines.map(v=>{let D=v.element;d.add(D);let A=D[ci];if(A&&A.removedBeforeQueried)return new ms(v.duration,v.delay);let x=D!==c,j=kW((i.get(D)||MW).map(I=>I.getRealPlayer())).filter(I=>{let y=I;return y.element?y.element===D:!1}),q=s.get(D),B=o.get(D),oe=oN(this._normalizer,v.keyframes,q,B),H=this._buildPlayer(v,oe,j);if(v.subTimeline&&r&&f.add(D),x){let I=new _u(e,a,D);I.setRealPlayer(H),u.push(I)}return H});u.forEach(v=>{xn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>OW(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>qn(v,QO));let _=gs(m);return _.onDestroy(()=>{d.forEach(v=>ic(v,QO)),Pi(c,n.toStyles)}),f.forEach(v=>{xn(r,v,[]).push(_)}),_}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new ms(e.duration,e.delay)}},_u=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new ms,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>Pw(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){xn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function OW(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function NW(t){return t??null}function cp(t){return t&&t.nodeType===1}function xW(t){return t=="start"||t=="done"}function nN(t,e){let n=t.style.display;return t.style.display=e??"none",n}function iN(t,e,n,i,r){let s=[];n.forEach(c=>s.push(nN(c)));let o=[];i.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let m=e.computeStyle(u,f,r);d.set(f,m),(!m||m.length==0)&&(u[ci]=RW,o.push(u))}),t.set(u,d)});let a=0;return n.forEach(c=>nN(c,s[a++])),o}function rN(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let c=s.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:r.has(u)?c=i:c=o(u),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==i&&n.get(c).push(a)}),n}function qn(t,e){t.classList?.add(e)}function ic(t,e){t.classList?.remove(e)}function PW(t,e,n){gs(n).onDone(()=>t.processLeaveNode(e))}function kW(t){let e=[];return _N(t,e),e}function _N(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof du?_N(i.players,e):e.push(i)}}function FW(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function sN(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(s=>r.add(s)):e.set(t,i),n.delete(t),!0}var sc=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new Ow(e.body,n,i,r),this._timelineEngine=new Mw(e.body,n,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let c=[],u=[],d=fN(this._driver,s,c,u);if(c.length)throw F4(r,c);u.length&&void 0,a=EW(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[s,o]=WO(i),a=r;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=WO(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function LW(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=_w(e[0]),e.length>1&&(i=_w(e[e.length-1]))):e instanceof Map&&(n=_w(e)),n||i?new Nw(t,n,i):null}var rc=class rc{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=rc.initialStylesByElement.get(e);r||rc.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Pi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pi(this._element,this._initialStyles),this._endStyles&&(Pi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rc.initialStylesByElement.delete(this._element),this._startStyles&&(Eo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eo(this._element,this._endStyles),this._endStyles=null),Pi(this._element,this._initialStyles),this._state=3)}};rc.initialStylesByElement=new WeakMap;var Nw=rc;function _w(t){let e=null;return t.forEach((n,i)=>{VW(i)&&(e=e||new Map,e.set(i,n))}),e}function VW(t){return t==="display"||t==="position"}var _p=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Bw(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},yp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return aN(e,n)}getParentElement(e){return Fw(e)}query(e,n,i){return cN(e,n,i)}computeStyle(e,n,i){return Bw(e,n)}animate(e,n,i,r,s,o=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};s&&(c.easing=s);let u=new Map,d=o.filter(_=>_ instanceof _p);rW(i,r)&&d.forEach(_=>{_.currentSnapshot.forEach((v,D)=>u.set(D,v))});let f=tW(n).map(_=>new Map(_));f=sW(e,f,u);let m=LW(e,f);return new _p(e,f,c,m)}};var lp="@",yN="@.disabled",vp=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==lp&&n==yN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},xw=class extends vp{constructor(e,n,i,r,s){super(n,i,r,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==lp?n.charAt(1)=="."&&n==yN?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==lp){let r=BW(e),s=n.slice(1),o="";return s.charAt(0)!=lp&&([s,o]=jW(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,n,i)}};function BW(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function jW(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var wp=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,d=u.get(r);if(!d){let f=()=>u.delete(r);d=new vp(i,r,this.engine,f),u.set(r,d)}return d}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new xw(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var $W=(()=>{let e=class e extends sc{constructor(i,r,s){super(i,r,s,P(Ea,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(N(nt),N(Io),N(Do))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function HW(){return new hp}function GW(t,e,n){return new wp(t,e,n)}var wN=[{provide:Do,useFactory:HW},{provide:sc,useClass:$W},{provide:to,useFactory:GW,deps:[mf,sc,he]}],vN=[{provide:Io,useFactory:()=>new yp},{provide:Zy,useValue:"BrowserAnimations"},...wN],zW=[{provide:Io,useClass:Lw},{provide:Zy,useValue:"NoopAnimations"},...wN],bN=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?zW:vN}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({providers:vN,imports:[_f]});let t=e;return t})();var qW={isLoading:!1,admin:void 0,error:null},WW=qa({name:"login",reducer:Ka(qW,ze(We.login,t=>G(R({},t),{isLoading:!0})),ze(We.loginSuccess,(t,e)=>G(R({},t),{isLoading:!1,admin:e.currentUser})),ze(We.loginFailed,(t,e)=>G(R({},t),{isLoading:!1,errors:e.message})),ze(We.signOut,t=>G(R({},t),{isLoading:!0})),ze(We.signSuccess,t=>G(R({},t),{isLoading:!1,admin:void 0})),ze(We.signFailed,t=>G(R({},t),{isLoading:!1})))}),{name:EN,reducer:IN,selectIsLoading:DN,selectAdmin:bp,selectError:TN}=WW;function KW(t,e){if(t&1){let n=Sn();Dn(0),U(1,"div",1)(2,"div",2),Fe(3,"img",3),U(4,"h3",4),ee(5,"Welcome to Isaom"),Q(),U(6,"form",5),Be("submit",function(){pn(n);let r=je();return mn(r.login())}),U(7,"div",6),Fe(8,"input",7),U(9,"label",8),ee(10,"Email"),Q()(),U(11,"div",6),Fe(12,"input",9),U(13,"label",10),ee(14,"Password"),Q()(),U(15,"button",11),ee(16," Forgot Password? "),Q(),U(17,"button",12),Fe(18,"span",13),U(19,"span",14),ee(20),Q()()()()(),Tn()}if(t&2){let n=e.ngIf,i=je();re(2),Ti("width","300px"),re(4),fe("formGroup",i.loginForm$),re(11),fe("disabled",n.isLoading),re(),fe("hidden",!n.isLoading),re(2),Yt(n.isLoading?"Logging in...":"Login")}}var SN=(()=>{let e=class e{constructor(i,r,s){this.store=i,this.router=r,this.fb=s,this.loginState$=un({isLoading:this.store.select(DN),admin:this.store.select(bp),errors:this.store.select(TN)}),this.loginForm$=s.nonNullable.group({email:["",[On.required,On.email]],password:["",On.required]})}ngOnDestroy(){}ngOnInit(){}login(){this.loginForm$.valid&&this.store.dispatch(We.login(this.loginForm$.getRawValue()))}forgotPassword(i){}};e.\u0275fac=function(r){return new(r||e)(W(ot),W(sn),W(tc))},e.\u0275cmp=He({type:e,selectors:[["app-login"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","vh-100",2,"background-color","var(--primary)"],[1,"d-flex","flex-column","align-items-center","justify-content-center","gap-3","mw-50"],["src","../../../../assets/images/logo.png","alt","logo",1,"img-fluid","mb-3",2,"max-height","80px"],[1,"text-primary","text-center"],[1,"w-100","gap-3",3,"submit","formGroup"],[1,"form-floating","mb-3","w-100"],["formControlName","email","id","email","type","email","placeholder","Email",1,"form-control"],["for","email"],["formControlName","password","id","password","type","password","placeholder","Password",1,"form-control"],["for","password"],["type","button",1,"btn","text-primary","mb-3","align-self-end","p-0"],["type","submit",1,"btn","btn-primary","btn-lg","rounded-pill","w-100",3,"disabled"],["aria-hidden","true",1,"spinner-grow","spinner-grow-sm","me-3",3,"hidden"],["role","status"]],template:function(r,s){r&1&&(ft(0,KW,21,6,"ng-container",0),si(1,"async")),r&2&&fe("ngIf",oi(1,1,s.loginState$))},dependencies:[Cn,ec,fs,Za,Xa,go,_o,Ai]});let t=e;return t})();var QW=t=>({collapsed:t});function YW(t,e){if(t&1&&(U(0,"li",14)(1,"a"),Fe(2,"i",15),ee(3),Q()()),t&2){let n=e.$implicit;fe("routerLink",n.route),re(2),fe("ngClass",n.selectedIcon),re(),gn(" ",n.name,"")}}function JW(t,e){if(t&1){let n=Sn();Dn(0),U(1,"div",1)(2,"div",2),Fe(3,"img",3),U(4,"div",4)(5,"ul"),ft(6,YW,4,3,"li",5),Q()()(),U(7,"div",6)(8,"div",7)(9,"button",8),Be("click",function(){pn(n);let r=je();return mn(r.expand())}),Fe(10,"i",9),Q(),U(11,"div",10),Fe(12,"img",11),U(13,"h6",12),ee(14),Q()()(),U(15,"div",13),Fe(16,"router-outlet"),Q()()(),Tn()}if(t&2){let n=e.ngIf,i=je();re(2),fe("ngClass",Dv(4,QW,i.isExpanded$)),re(4),fe("ngForOf",i.menuItems$),re(6),fe("src",n.profile!==""?n.profile:"../../../../assets/images/profile.jpg",iv),re(2),Yt(n.name)}}var CN=(()=>{let e=class e{ngOnInit(){this.store.dispatch(Ae.getAllSections()),this.menuItems$.push(),this.detectScreenSizes()}expand(){this.isExpanded$=!this.isExpanded$}detectScreenSizes(){let i=window.matchMedia("(min-width: 992px)").matches;this.isExpanded$=!i}onResize(i){this.detectScreenSizes()}constructor(i){this.store=i,this.isExpanded$=!1,this.menuItems$=[{name:"Dashboard",route:"dashboard",selectedIcon:"fa-solid fa-house",unselectedIcon:"fa-regular fa-house"},{name:"Section",route:"section",selectedIcon:"fa-solid fa-layer-group",unselectedIcon:"fa-regular fa-layer-group"},{name:"Users",route:"users",selectedIcon:"fa-solid fa-users",unselectedIcon:"fa-regular fa-users"},{name:"Student Report",route:"student-report",selectedIcon:"fa-solid fa-book",unselectedIcon:"fa-regular fa-book"},{name:"Lessons",route:"lessons",selectedIcon:"fa-solid fa-book",unselectedIcon:"fa-regular fa-book"},{name:"Logs",route:"logs",selectedIcon:"fa-solid fa-clipboard-list",unselectedIcon:"fa-solid fa-clipboard-list"}],this.admin$=this.store.select(bp)}};e.\u0275fac=function(r){return new(r||e)(W(ot))},e.\u0275cmp=He({type:e,selectors:[["app-main"]],hostBindings:function(r,s){r&1&&Be("resize",function(a){return s.onResize(a)},!1,$1)},decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","align-items-stretch","vh-100",2,"background-color","var(--primary)"],[1,"align-self-stretch","overflow-auto","sidebar","d-flex","flex-column","align-items-center","gap-3",3,"ngClass"],["src","../../../../assets/images/logo.png","alt","logo","width","80px","height","80px","routerLink","dashboard"],[1,"navigation"],["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],[1,"flex-grow-1","overflow-hidden","d-flex","flex-column",2,"background-color","var(--background)"],[1,"d-flex","align-items-center","justify-content-between","p-2","bg-white","shadow-sm"],[1,"btn","btn-light","btn-lg",3,"click"],[1,"fa-solid","fa-bars"],[1,"d-flex","gap-3","align-items-center","justify-content-center"],["width","40px","height","40px","alt","profile",1,"rounded-circle",3,"src"],[1,"text-muted","fw-normal"],[1,"flex-grow-1","overflow-y-auto"],["routerLinkActive","active",3,"routerLink"],[1,"me-3",3,"ngClass"]],template:function(r,s){r&1&&(ft(0,JW,17,6,"ng-container",0),si(1,"async")),r&2&&fe("ngIf",oi(1,1,s.admin$))},dependencies:[oM,as,Cn,Yl,Pf,tR,Ai],styles:[".sidebar[_ngcontent-%COMP%]{width:300px;transition:width .3s ease-in-out;padding:1rem}.sidebar.collapsed[_ngcontent-%COMP%]{padding:0;width:0;overflow:hidden}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:space-between}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;padding:0px 1rem}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:0;padding:0}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#d3d3d3;font-size:medium;font-weight:400;cursor:pointer;padding:10px 1rem;text-decoration:none;transition:background-color .2s ease}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#000;border-radius:10px}.navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary)}"]});let t=e;return t})();var ZW=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:SN},{path:"main",component:CN,loadChildren:()=>import("./chunk-OLXPTY6U.js").then(t=>t.MainRoutingModule)}],AN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({imports:[$a.forRoot(ZW),$a]});let t=e;return t})();var MN=(()=>{let e=class e{constructor(i){this.store=i,this.title="isaom-web"}ngOnInit(){this.store.dispatch(We.getCurrentUser())}};e.\u0275fac=function(r){return new(r||e)(W(ot))},e.\u0275cmp=He({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&Fe(0,"router-outlet")},dependencies:[Yl],styles:[".col-fixed[_ngcontent-%COMP%]{width:60px;transition:width .3s ease}"]});let t=e;return t})();var ON=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},XW=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),i.push(n[d],n[f],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ON(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||f==null)throw new Hw;let m=s<<2|a>>4;if(i.push(m),u!==64){let _=a<<4&240|u>>2;if(i.push(_),f!==64){let v=u<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Hw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},e5=function(t){let e=ON(t);return NN.encodeByteArray(e,!0)},yu=function(t){return e5(t).replace(/\./g,"")},zw=function(t){try{return NN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var n5=()=>t5().__FIREBASE_DEFAULTS__,i5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&zw(t[1]);return e&&JSON.parse(e)},Ip=()=>{try{return n5()||i5()||r5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qw=t=>{var e,n;return(n=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Dp=t=>{let e=qw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ww=()=>{var t;return(t=Ip())===null||t===void 0?void 0:t.config},Kw=t=>{var e;return(e=Ip())===null||e===void 0?void 0:e[`_${t}`]};var Ep=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Tp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yu(JSON.stringify(n)),yu(JSON.stringify(o)),""].join(".")}function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function s5(){var t;let e=(t=Ip())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PN(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){let t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LN(){return!s5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qw(){try{return typeof indexedDB=="object"}catch{return!1}}function VN(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var o5="FirebaseError",on=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=o5,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}},br=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?a5(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new on(r,a,i)}};function a5(t,e){return t.replace(c5,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var c5=/\{\$([^}]+)}/g;function BN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function To(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(RN(s)&&RN(o)){if(!To(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function RN(t){return t!==null&&typeof t=="object"}function vu(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function oc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ac(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jN(t,e){let n=new Gw(t,e);return n.subscribe.bind(n)}var Gw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");l5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=$w),r.error===void 0&&(r.error=$w),r.complete===void 0&&(r.complete=$w);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function l5(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $w(){}var ole=4*60*60*1e3;function At(t){return t&&t._delegate?t._delegate:t}var _n=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var So="[DEFAULT]";var Yw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Ep;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d5(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function u5(t){return t===So?void 0:t}function d5(t){return t.instantiationMode==="EAGER"}var Sp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Yw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var h5=[],Me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Me||{}),f5={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},p5=Me.INFO,m5={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},g5=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=m5[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_s=class{constructor(e){this.name=e,this._logLevel=p5,this._logHandler=g5,this._userLogHandler=null,h5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var _5=(t,e)=>e.some(n=>t instanceof n),UN,$N;function y5(){return UN||(UN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v5(){return $N||($N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var HN=new WeakMap,Zw=new WeakMap,GN=new WeakMap,Jw=new WeakMap,eb=new WeakMap;function w5(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ki(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HN.set(n,t)}).catch(()=>{}),eb.set(e,t),e}function b5(t){if(Zw.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zw.set(t,e)}var Xw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zN(t){Xw=t(Xw)}function E5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(Cp(this),e,...n);return GN.set(i,e.sort?e.sort():[e]),ki(i)}:v5().includes(t)?function(...e){return t.apply(Cp(this),e),ki(HN.get(this))}:function(...e){return ki(t.apply(Cp(this),e))}}function I5(t){return typeof t=="function"?E5(t):(t instanceof IDBTransaction&&b5(t),_5(t,y5())?new Proxy(t,Xw):t)}function ki(t){if(t instanceof IDBRequest)return w5(t);if(Jw.has(t))return Jw.get(t);let e=I5(t);return e!==t&&(Jw.set(t,e),eb.set(e,t)),e}var Cp=t=>eb.get(t);function WN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=ki(o);return i&&o.addEventListener("upgradeneeded",c=>{i(ki(o.result),c.oldVersion,c.newVersion,ki(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var D5=["get","getKey","getAll","getAllKeys","count"],T5=["put","add","delete","clear"],tb=new Map;function qN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tb.get(e))return tb.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=T5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||D5.includes(n)))return;let s=function(o,...a){return E(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return tb.set(e,s),s}zN(t=>G(R({},t),{get:(e,n,i)=>qN(e,n)||t.get(e,n,i),has:(e,n)=>!!qN(e,n)||t.has(e,n)}));var ib=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S5(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function S5(t){let e=t.getComponent();return e?.type==="VERSION"}var rb="@firebase/app",KN="0.10.6";var Co=new _s("@firebase/app"),C5="@firebase/app-compat",A5="@firebase/analytics-compat",M5="@firebase/analytics",R5="@firebase/app-check-compat",O5="@firebase/app-check",N5="@firebase/auth",x5="@firebase/auth-compat",P5="@firebase/database",k5="@firebase/database-compat",F5="@firebase/functions",L5="@firebase/functions-compat",V5="@firebase/installations",B5="@firebase/installations-compat",j5="@firebase/messaging",U5="@firebase/messaging-compat",$5="@firebase/performance",H5="@firebase/performance-compat",G5="@firebase/remote-config",z5="@firebase/remote-config-compat",q5="@firebase/storage",W5="@firebase/storage-compat",K5="@firebase/firestore",Q5="@firebase/vertexai-preview",Y5="@firebase/firestore-compat",J5="firebase",Z5="10.12.3";var sb="[DEFAULT]",X5={[rb]:"fire-core",[C5]:"fire-core-compat",[M5]:"fire-analytics",[A5]:"fire-analytics-compat",[O5]:"fire-app-check",[R5]:"fire-app-check-compat",[N5]:"fire-auth",[x5]:"fire-auth-compat",[P5]:"fire-rtdb",[k5]:"fire-rtdb-compat",[F5]:"fire-fn",[L5]:"fire-fn-compat",[V5]:"fire-iid",[B5]:"fire-iid-compat",[j5]:"fire-fcm",[U5]:"fire-fcm-compat",[$5]:"fire-perf",[H5]:"fire-perf-compat",[G5]:"fire-rc",[z5]:"fire-rc-compat",[q5]:"fire-gcs",[W5]:"fire-gcs-compat",[K5]:"fire-fst",[Y5]:"fire-fst-compat",[Q5]:"fire-vertex","fire-js":"fire-js",[J5]:"fire-js-all"};var wu=new Map,e6=new Map,ob=new Map;function QN(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){let e=t.name;if(ob.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;ob.set(e,t);for(let n of wu.values())QN(n,t);for(let n of e6.values())QN(n,t);return!0}function Ao(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Li(t){return t.settings!==void 0}var t6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new br("app","Firebase",t6);var ab=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}};var Vi=Z5;function ub(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:sb,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ys.create("bad-app-name",{appName:String(r)});if(n||(n=Ww()),!n)throw ys.create("no-options");let s=wu.get(r);if(s){if(To(n,s.options)&&To(i,s.config))return s;throw ys.create("duplicate-app",{appName:r})}let o=new Sp(r);for(let c of ob.values())o.addComponent(c);let a=new ab(n,i,o);return wu.set(r,a),a}function vs(t=sb){let e=wu.get(t);if(!e&&t===sb&&Ww())return ub();if(!e)throw ys.create("no-app",{appName:t});return e}function Ap(){return Array.from(wu.values())}function it(t,e,n){var i;let r=(i=X5[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(a.join(" "));return}Fi(new _n(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var n6="firebase-heartbeat-database",i6=1,bu="firebase-heartbeat-store",nb=null;function XN(){return nb||(nb=WN(n6,i6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),nb}function r6(t){return E(this,null,function*(){try{let n=(yield XN()).transaction(bu),i=yield n.objectStore(bu).get(ex(t));return yield n.done,i}catch(e){if(e instanceof on)Co.warn(e.message);else{let n=ys.create("idb-get",{originalErrorMessage:e?.message});Co.warn(n.message)}}})}function YN(t,e){return E(this,null,function*(){try{let i=(yield XN()).transaction(bu,"readwrite");yield i.objectStore(bu).put(e,ex(t)),yield i.done}catch(n){if(n instanceof on)Co.warn(n.message);else{let i=ys.create("idb-set",{originalErrorMessage:n?.message});Co.warn(i.message)}}})}function ex(t){return`${t.name}!${t.options.appId}`}var s6=1024,o6=30*24*60*60*1e3,cb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new lb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JN();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=o6}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=JN(),{heartbeatsToSend:i,unsentEntries:r}=a6(this._heartbeatsCache.heartbeats),s=yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function JN(){return new Date().toISOString().substring(0,10)}function a6(t,e=s6){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ZN(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ZN(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var lb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Qw()?VN().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield r6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return YN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return YN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function ZN(t){return yu(JSON.stringify({version:2,heartbeats:t})).length}function c6(t){Fi(new _n("platform-logger",e=>new ib(e),"PRIVATE")),Fi(new _n("heartbeat",e=>new cb(e),"PRIVATE")),it(rb,KN,t),it(rb,KN,"esm2017"),it("fire-js","")}c6("");var l6="firebase",u6="10.12.3";it(l6,u6,"app");var Er=new ur("ANGULARFIRE2_VERSION");function lc(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ro=(t,e)=>{let n=e?[e]:Ap(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},ws=class{constructor(){return Ro(d6)}},d6="app-check";function cc(){}var Mp=class{zone;delegate;constructor(e,n=Hs){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},db=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cc,{},cc,cc)),n.pipe(Oe({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},bs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Mp(Zone.current)),this.insideAngular=n.run(()=>new Mp(Zone.current,fi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(N(he))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function h6(t){return Rp().ngZone.runOutsideAngular(()=>t())}function Mo(t){return Rp().ngZone.run(()=>t())}function f6(t){return p6(Rp())(t)}function p6(t){return function(n){return n=n.lift(new db(t.ngZone)),n.pipe(zr(t.outsideAngular),Vn(t.insideAngular))}}var m6=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Mo(()=>t.apply(void 0,i))},Tt=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cc,{},cc,cc))),i[s]=m6(i[s],n));let r=h6(()=>t.apply(this,i));if(!e)if(r instanceof ie){let s=Rp();return r.pipe(zr(s.outsideAngular),Vn(s.insideAngular))}else return Mo(()=>r);return r instanceof ie?r.pipe(f6):r instanceof Promise?Mo(()=>new Promise((s,o)=>r.then(a=>Mo(()=>s(a)),a=>Mo(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Mo(()=>r)};var li=class{constructor(e){return e}},Ir=class{constructor(){return Ap()}};function g6(t){return t&&t.length===1?t[0]:new li(vs())}var hb=new k("angularfire2._apps"),_6={provide:li,useFactory:g6,deps:[[new Dt,hb]]},y6={provide:Ir,deps:[[new Dt,hb]]};function v6(t){return(e,n)=>{let i=n.get(ti);it("angularfire",Er.full,"core"),it("angularfire",Er.full,"app"),it("angular",BA.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new li(r)}}function tx(t,...e){return Qt([_6,y6,{provide:hb,useFactory:v6(t),multi:!0,deps:[he,qe,bs,...e]}])}var nx=Tt(ub,!0);function wx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bx=wx,Ex=new br("auth","Firebase",wx());var Fp=new _s("@firebase/auth");function w6(t,...e){Fp.logLevel<=Me.WARN&&Fp.warn(`Auth (${Vi}): ${t}`,...e)}function Np(t,...e){Fp.logLevel<=Me.ERROR&&Fp.error(`Auth (${Vi}): ${t}`,...e)}function ji(t,...e){throw Pb(t,...e)}function Oo(t,...e){return Pb(t,...e)}function Ix(t,e,n){let i=Object.assign(Object.assign({},bx()),{[e]:n});return new br("auth","Firebase",i).create(e,{appName:t.name})}function Is(t){return Ix(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pb(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ex.create(t,...e)}function me(t,e,...n){if(!t)throw Pb(e,...n)}function Dr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Np(e),new Error(e)}function Ds(t,e){t||Dr(e)}function gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b6(){return ix()==="http:"||ix()==="https:"}function ix(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function E6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b6()||PN()||"connection"in navigator)?navigator.onLine:!0}function I6(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var No=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=xN()||kN()}get(){return E6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function kb(t,e){Ds(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Lp=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var D6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var T6=new No(3e4,6e4);function Po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ts(s,o,a,c){return E(this,arguments,function*(t,e,n,i,r={}){return Dx(t,r,()=>E(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let f=vu(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Lp.fetch()(Tx(t,t.config.apiHost,n,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))})}function Dx(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},D6),e);try{let r=new _b(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Op(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Op(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Op(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Op(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ix(t,d,u);ji(t,d)}}catch(r){if(r instanceof on)throw r;ji(t,"network-request-failed",{message:String(r)})}})}function Wp(s,o,a,c){return E(this,arguments,function*(t,e,n,i,r={}){let u=yield Ts(t,e,n,i,r);return"mfaPendingCredential"in u&&ji(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Tx(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?kb(t.config,r):`${t.config.apiScheme}://${r}`}function S6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var _b=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Oo(this.auth,"network-request-failed")),T6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Op(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Oo(t,e,i);return r.customData._tokenResponse=n,r}function rx(t){return t!==void 0&&t.enterprise!==void 0}var yb=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function C6(t,e){return E(this,null,function*(){return Ts(t,"GET","/v2/recaptchaConfig",Po(t,e))})}function A6(t,e){return E(this,null,function*(){return Ts(t,"POST","/v1/accounts:delete",e)})}function Sx(t,e){return E(this,null,function*(){return Ts(t,"POST","/v1/accounts:lookup",e)})}function Eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Fb(t,e=!1){return E(this,null,function*(){let n=At(t),i=yield n.getIdToken(e),r=Lb(i);me(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Eu(fb(r.auth_time)),issuedAtTime:Eu(fb(r.iat)),expirationTime:Eu(fb(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function fb(t){return Number(t)*1e3}function Lb(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{let r=zw(n);return r?JSON.parse(r):(Np("Failed to decode base64 JWT payload"),null)}catch(r){return Np("Caught error parsing JWT payload as JSON",r?.toString()),null}}function sx(t){let e=Lb(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Du(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof on&&M6(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function M6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var vb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Tu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vp(t){return E(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Du(t,Sx(n,{idToken:i}));me(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Cx(s.providerUserInfo):[],a=R6(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Tu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function Vb(t){return E(this,null,function*(){let e=At(t);yield Vp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function R6(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Cx(t){return t.map(e=>{var{providerId:n}=e,i=Yg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function O6(t,e){return E(this,null,function*(){let n=yield Dx(t,{},()=>E(this,null,function*(){let i=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Tx(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lp.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function N6(t,e){return E(this,null,function*(){return Ts(t,"POST","/v2/accounts:revokeToken",Po(t,e))})}var Iu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");let n=sx(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield O6(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(me(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(me(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Dr("not implemented")}};function Es(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var uc=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Yg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Du(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Fb(this,e)}reload(){return Vb(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Vp(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Li(this.auth.app))return Promise.reject(Is(this.auth));let e=yield this.getIdToken();return yield Du(this,A6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,d;let f=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,j=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:q,emailVerified:B,isAnonymous:oe,providerData:H,stsTokenManager:I}=n;me(q&&I,e,"internal-error");let y=Iu.fromJSON(this.name,I);me(typeof q=="string",e,"internal-error"),Es(f,e.name),Es(m,e.name),me(typeof B=="boolean",e,"internal-error"),me(typeof oe=="boolean",e,"internal-error"),Es(_,e.name),Es(v,e.name),Es(D,e.name),Es(A,e.name),Es(x,e.name),Es(j,e.name);let w=new t({uid:q,auth:e,email:m,emailVerified:B,displayName:f,isAnonymous:oe,photoURL:v,phoneNumber:_,tenantId:D,stsTokenManager:y,createdAt:x,lastLoginAt:j});return H&&Array.isArray(H)&&(w.providerData=H.map(T=>Object.assign({},T))),A&&(w._redirectEventId=A),w}static _fromIdTokenResponse(e,n,i=!1){return E(this,null,function*(){let r=new Iu;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Vp(s),s})}static _fromGetAccountInfoResponse(e,n,i){return E(this,null,function*(){let r=n.users[0];me(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Cx(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Iu;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Tu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var ox=new Map;function Tr(t){Ds(t instanceof Function,"Expected a class definition");let e=ox.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ox.set(t,e),e)}var x6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,i){return E(this,null,function*(){this.storage[n]=i})}_get(n){return E(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),wb=x6;function xp(t,e,n){return`firebase:${t}:${e}:${n}`}var Bp=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=xp(this.userKey,r.apiKey,s),this.fullPersistenceKey=xp("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?uc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return E(this,null,function*(){if(!n.length)return new t(Tr(wb),e,i);let r=(yield Promise.all(n.map(u=>E(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Tr(wb),o=xp(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f=uc._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>E(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function ax(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ax(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nx(e))return"Blackberry";if(xx(e))return"Webos";if(Bb(e))return"Safari";if((e.includes("chrome/")||Mx(e))&&!e.includes("edge/"))return"Chrome";if(Ox(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Ax(t=xt()){return/firefox\//i.test(t)}function Bb(t=xt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mx(t=xt()){return/crios\//i.test(t)}function Rx(t=xt()){return/iemobile/i.test(t)}function Ox(t=xt()){return/android/i.test(t)}function Nx(t=xt()){return/blackberry/i.test(t)}function xx(t=xt()){return/webos/i.test(t)}function Kp(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P6(t=xt()){var e;return Kp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k6(){return FN()&&document.documentMode===10}function Px(t=xt()){return Kp(t)||Ox(t)||xx(t)||Nx(t)||/windows phone/i.test(t)||Rx(t)}function F6(){try{return!!(window&&window!==window.top)}catch{return!1}}function kx(t,e=[]){let n;switch(t){case"Browser":n=ax(xt());break;case"Worker":n=`${ax(xt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vi}/${i}`}var bb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function L6(n){return E(this,arguments,function*(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",Po(t,e))})}var V6=6,Eb=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:V6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ib=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jp(this),this.idTokenSubscription=new jp(this),this.beforeStateQueue=new bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Bp.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield Sx(this,{idToken:e}),i=yield uc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Li(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Vp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=I6()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Li(this.app))return Promise.reject(Is(this));let n=e?At(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Li(this.app)?Promise.reject(Is(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Li(this.app)?Promise.reject(Is(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield L6(this),n=new Eb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield N6(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Tr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=yield Bp.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&w6(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function dc(t){return At(t)}var jp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=jN(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Qp={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B6(t){Qp=t}function Fx(t){return Qp.loadJS(t)}function j6(){return Qp.recaptchaEnterpriseScript}function U6(){return Qp.gapiScript}function Lx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var $6="recaptcha-enterprise",H6="NO_RECAPTCHA",Db=class{constructor(e){this.type=$6,this.auth=dc(e)}verify(e="verify",n=!1){return E(this,null,function*(){function i(s){return E(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>E(this,null,function*(){C6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new yb(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;rx(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(H6)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&rx(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=j6();c.length!==0&&(c+=a),Fx(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function cx(t,e,n,i=!1){return E(this,null,function*(){let r=new Db(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function lx(t,e,n,i){return E(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield cx(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>E(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield cx(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function jb(t,e){let n=Ao(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(To(s,e??{}))return r;ji(r,"already-initialized")}return n.initialize({options:e})}function G6(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Ub(t,e,n){let i=dc(t);me(i._canInitEmulator,i,"emulator-config-failed"),me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=Vx(e),{host:o,port:a}=z6(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||q6()}function Vx(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z6(t){let e=Vx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:ux(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:ux(o)}}}function ux(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function q6(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Su=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}};function W6(t,e){return E(this,null,function*(){return Ts(t,"POST","/v1/accounts:signUp",e)})}function K6(t,e){return E(this,null,function*(){return Wp(t,"POST","/v1/accounts:signInWithPassword",Po(t,e))})}function Q6(t,e){return E(this,null,function*(){return Wp(t,"POST","/v1/accounts:signInWithEmailLink",Po(t,e))})}function Y6(t,e){return E(this,null,function*(){return Wp(t,"POST","/v1/accounts:signInWithEmailLink",Po(t,e))})}var Cu=class t extends Su{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lx(e,n,"signInWithPassword",K6);case"emailLink":return Q6(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}})}_linkToIdToken(e,n){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lx(e,i,"signUpPassword",W6);case"emailLink":return Y6(e,{idToken:n,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function pb(t,e){return E(this,null,function*(){return Wp(t,"POST","/v1/accounts:signInWithIdp",Po(t,e))})}function J6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z6(t){let e=oc(ac(t)).link,n=e?oc(ac(e)).deep_link_id:null,i=oc(ac(t)).deep_link_id;return(i?oc(ac(i)).link:null)||i||n||e||t}var Up=class t{constructor(e){var n,i,r,s,o,a;let c=oc(ac(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(i=c.oobCode)!==null&&i!==void 0?i:null,f=J6((r=c.mode)!==null&&r!==void 0?r:null);me(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Z6(e);try{return new t(n)}catch{return null}}};var Bx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Cu._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Up.parseLink(i);return me(r,"argument-error"),Cu._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),$p=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Tb=class extends $p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Au=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return E(this,null,function*(){let s=yield uc._fromIdTokenResponse(e,i,r),o=dx(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return E(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=dx(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function dx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Sb=class t extends on{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function jx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sb._fromErrorAndOperation(t,s,e,i):s})}function X6(t,e,n=!1){return E(this,null,function*(){let i=yield Du(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Au._forOperation(t,"link",i)})}function e8(t,e,n=!1){return E(this,null,function*(){let{auth:i}=t;if(Li(i.app))return Promise.reject(Is(i));let r="reauthenticate";try{let s=yield Du(t,jx(i,r,e,t),n);me(s.idToken,i,"internal-error");let o=Lb(s.idToken);me(o,i,"internal-error");let{sub:a}=o;return me(t.uid===a,i,"user-mismatch"),Au._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ji(i,"user-mismatch"),s}})}function Ux(t,e,n=!1){return E(this,null,function*(){if(Li(t.app))return Promise.reject(Is(t));let i="signIn",r=yield jx(t,i,e),s=yield Au._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function $b(t,e){return E(this,null,function*(){return Ux(dc(t),e)})}function t8(t){return E(this,null,function*(){let e=dc(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Hb(t,e,n){return Li(t.app)?Promise.reject(Is(t)):$b(At(t),Bx.credential(e,n)).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&t8(t),i}))}function Yp(t,e,n,i){return At(t).onIdTokenChanged(e,n,i)}function Gb(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function Jp(t,e,n,i){return At(t).onAuthStateChanged(e,n,i)}function zb(t){return At(t).signOut()}var Hp="__sak";var Gp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function n8(){let t=xt();return Bb(t)||Kp(t)}var i8=1e3,r8=10,s8=(()=>{class t extends Gp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=n8()&&F6(),this.fallbackToPolling=Px(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);k6()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,r8):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},i8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return E(this,null,function*(){yield Ur(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return E(this,null,function*(){let i=yield Ur(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return E(this,null,function*(){yield Ur(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),$x=s8;var o8=(()=>{class t extends Gp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),qb=o8;function a8(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var c8=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>E(this,null,function*(){return d(i.origin,o)})),u=yield a8(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Hx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var Cb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Hx("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Bi(){return window}function l8(t){Bi().location.href=t}function Gx(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}function u8(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function d8(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h8(){return Gx()?self:null}var zx="firebaseLocalStorageDb",f8=1,zp="firebaseLocalStorage",qx="fbase_key",xo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Zp(t,e){return t.transaction([zp],e?"readwrite":"readonly").objectStore(zp)}function p8(){let t=indexedDB.deleteDatabase(zx);return new xo(t).toPromise()}function Ab(){let t=indexedDB.open(zx,f8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(zp,{keyPath:qx})}catch(r){n(r)}}),t.addEventListener("success",()=>E(this,null,function*(){let i=t.result;i.objectStoreNames.contains(zp)?e(i):(i.close(),yield p8(),e(yield Ab()))}))})}function hx(t,e,n){return E(this,null,function*(){let i=Zp(t,!0).put({[qx]:e,value:n});return new xo(i).toPromise()})}function m8(t,e){return E(this,null,function*(){let n=Zp(t,!1).get(e),i=yield new xo(n).toPromise();return i===void 0?null:i.value})}function fx(t,e){let n=Zp(t,!0).delete(e);return new xo(n).toPromise()}var g8=800,_8=3,y8=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Ab(),this.db)})}_withRetries(n){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>_8)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return Gx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=c8._getInstance(h8()),this.receiver._subscribe("keyChanged",(n,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,i;if(this.activeServiceWorker=yield u8(),!this.activeServiceWorker)return;this.sender=new Cb(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||d8()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ab();return yield hx(n,Hp,"1"),yield fx(n,Hp),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>hx(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let i=yield this._withRetries(r=>m8(r,n));return this.localCache[n]=i,i})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>fx(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(s=>{let o=Zp(s,!1).getAll();return new xo(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),g8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Wx=y8;var Xle=Lx("rcb"),eue=new No(3e4,6e4);function v8(t,e){return e?Tr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Mu=class extends Su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pb(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pb(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pb(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function w8(t){return Ux(t.auth,new Mu(t),t.bypassAuthState)}function b8(t){let{auth:e,user:n}=t;return me(n,e,"internal-error"),e8(n,new Mu(t),t.bypassAuthState)}function E8(t){return E(this,null,function*(){let{auth:e,user:n}=t;return me(n,e,"internal-error"),X6(n,new Mu(t),t.bypassAuthState)})}var Mb=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w8;case"linkViaPopup":case"linkViaRedirect":return E8;case"reauthViaPopup":case"reauthViaRedirect":return b8;default:ji(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tue=new No(2e3,1e4);var I8="pendingRedirect",Pp=new Map,Rb=class t extends Mb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let e=Pp.get(this.auth._key());if(!e){try{let i=(yield D8(this.resolver,this.auth))?yield Ur(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Ur(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ur(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function D8(t,e){return E(this,null,function*(){let n=C8(e),i=S8(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function T8(t,e){Pp.set(t._key(),e)}function S8(t){return Tr(t._redirectPersistence)}function C8(t){return xp(I8,t.config.apiKey,t.name)}function A8(t,e,n=!1){return E(this,null,function*(){if(Li(t.app))return Promise.reject(Is(t));let i=dc(t),r=v8(i,e),o=yield new Rb(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var M8=10*60*1e3,Ob=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Kx(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Oo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M8&&this.cachedEventUids.clear(),this.cachedEventUids.has(px(e))}saveEventToCache(e){this.cachedEventUids.add(px(e)),this.lastProcessedEventTime=Date.now()}};function px(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function R8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kx(t);default:return!1}}function O8(n){return E(this,arguments,function*(t,e={}){return Ts(t,"GET","/v1/projects",e)})}var N8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x8=/^https?/;function P8(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield O8(t);for(let n of e)try{if(k8(n))return}catch{}ji(t,"unauthorized-domain")})}function k8(t){let e=gb(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!x8.test(n))return!1;if(N8.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var F8=new No(3e4,6e4);function mx(){let t=Bi().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L8(t){return new Promise((e,n)=>{var i,r,s;function o(){mx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mx(),n(Oo(t,"network-request-failed"))},timeout:F8.get()})}if(!((r=(i=Bi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Bi().gapi)===null||s===void 0)&&s.load)o();else{let a=Lx("iframefcb");return Bi()[a]=()=>{gapi.load?o():n(Oo(t,"network-request-failed"))},Fx(`${U6()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw kp=null,e})}var kp=null;function V8(t){return kp=kp||L8(t),kp}var B8=new No(5e3,15e3),j8="__/auth/iframe",U8="emulator/auth/iframe",$8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G8(t){let e=t.config;me(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?kb(e,U8):`https://${t.config.authDomain}/${j8}`,i={apiKey:e.apiKey,appName:t.name,v:Vi},r=H8.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${vu(i).slice(1)}`}function z8(t){return E(this,null,function*(){let e=yield V8(t),n=Bi().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:G8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$8,dontclear:!0},i=>new Promise((r,s)=>E(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Oo(t,"network-request-failed"),a=Bi().setTimeout(()=>{s(o)},B8.get());function c(){Bi().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var q8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W8=500,K8=600,Q8="_blank",Y8="http://localhost",qp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function J8(t,e,n,i=W8,r=K8){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},q8),{width:i.toString(),height:r.toString(),top:s,left:o}),u=xt().toLowerCase();n&&(a=Mx(u)?Q8:n),Ax(u)&&(e=e||Y8,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[_,v])=>`${m}${_}=${v},`,"");if(P6(u)&&a!=="_self")return Z8(e||"",a),new qp(null);let f=window.open(e||"",a,d);me(f,t,"popup-blocked");try{f.focus()}catch{}return new qp(f)}function Z8(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var X8="__/auth/handler",e9="emulator/auth/handler",t9=encodeURIComponent("fac");function gx(t,e,n,i,r,s){return E(this,null,function*(){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Vi,eventId:r};if(e instanceof $p){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Tb){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${t9}=${encodeURIComponent(c)}`:"";return`${n9(t)}?${vu(a).slice(1)}${u}`})}function n9({config:t}){return t.emulator?kb(t,e9):`https://${t.authDomain}/${X8}`}var mb="webStorageSupport",Nb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qb,this._completeRedirectFn=A8,this._overrideRedirectResult=T8}_openPopup(e,n,i,r){return E(this,null,function*(){var s;Ds((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield gx(e,n,i,gb(),r);return J8(e,o,Hx())})}_openRedirect(e,n,i,r){return E(this,null,function*(){yield this._originValidation(e);let s=yield gx(e,n,i,gb(),r);return l8(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ds(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return E(this,null,function*(){let n=yield z8(e),i=new Ob(e);return n.register("authEvent",r=>(me(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mb,{type:mb},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[mb];o!==void 0&&n(!!o),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Px()||Bb()||Kp()}},Qx=Nb;var _x="@firebase/auth",yx="1.7.5";var xb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function i9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r9(t){Fi(new _n("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kx(t)},u=new Ib(i,r,s,c);return G6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fi(new _n("auth-internal",e=>{let n=dc(e.getProvider("auth").getImmediate());return(i=>new xb(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(_x,yx,i9(t)),it(_x,yx,"esm2017")}var s9=5*60,o9=Kw("authIdTokenMaxAge")||s9,vx=null,a9=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>o9)return;let r=n?.token;vx!==r&&(vx=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Wb(t=vs()){let e=Ao(t,"auth");if(e.isInitialized())return e.getImmediate();let n=jb(t,{popupRedirectResolver:Qx,persistence:[Wx,$x,qb]}),i=Kw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=a9(s.toString());Gb(n,o,()=>o(n.currentUser)),Yp(n,a=>o(a))}}let r=qw("auth");return r&&Ub(n,`http://${r}`),n}function c9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}B6({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=Oo("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",c9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r9("Browser");function Jx(t){return new ie(function(e){var n=Jp(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Zx="auth",ko=class{constructor(e){return e}},Fo=class{constructor(){return Ro(Zx)}};var Kb=new k("angularfire2.auth-instances");function J9(t,e){let n=lc(Zx,t,e);return n&&new ko(n)}function Z9(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ko(i)}}var X9={provide:Fo,deps:[[new Dt,Kb]]},eK={provide:ko,useFactory:J9,deps:[[new Dt,Kb],li]};function Xx(t,...e){return it("angularfire",Er.full,"auth"),Qt([eK,X9,{provide:Kb,useFactory:Z9(t),multi:!0,deps:[he,qe,bs,Ir,[new Dt,ws],...e]}])}var eP=Tt(Jx,!0);var tP=Tt(Wb,!0);var nP=Tt(Hb,!0);var iP=Tt(zb,!0);var rP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sP={};var Ss,Qb;(function(){var t;function e(I,y){function w(){}w.prototype=y.prototype,I.D=y.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(T,S,M){for(var b=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)b[Fn-2]=arguments[Fn];return y.prototype[S].apply(T,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var S=0;16>S;++S)T[S]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(S=0;16>S;++S)T[S]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=I.g[0],w=I.g[1],S=I.g[2];var M=I.g[3],b=y+(M^w&(S^M))+T[0]+3614090360&4294967295;y=w+(b<<7&4294967295|b>>>25),b=M+(S^y&(w^S))+T[1]+3905402710&4294967295,M=y+(b<<12&4294967295|b>>>20),b=S+(w^M&(y^w))+T[2]+606105819&4294967295,S=M+(b<<17&4294967295|b>>>15),b=w+(y^S&(M^y))+T[3]+3250441966&4294967295,w=S+(b<<22&4294967295|b>>>10),b=y+(M^w&(S^M))+T[4]+4118548399&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(S^y&(w^S))+T[5]+1200080426&4294967295,M=y+(b<<12&4294967295|b>>>20),b=S+(w^M&(y^w))+T[6]+2821735955&4294967295,S=M+(b<<17&4294967295|b>>>15),b=w+(y^S&(M^y))+T[7]+4249261313&4294967295,w=S+(b<<22&4294967295|b>>>10),b=y+(M^w&(S^M))+T[8]+1770035416&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(S^y&(w^S))+T[9]+2336552879&4294967295,M=y+(b<<12&4294967295|b>>>20),b=S+(w^M&(y^w))+T[10]+4294925233&4294967295,S=M+(b<<17&4294967295|b>>>15),b=w+(y^S&(M^y))+T[11]+2304563134&4294967295,w=S+(b<<22&4294967295|b>>>10),b=y+(M^w&(S^M))+T[12]+1804603682&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(S^y&(w^S))+T[13]+4254626195&4294967295,M=y+(b<<12&4294967295|b>>>20),b=S+(w^M&(y^w))+T[14]+2792965006&4294967295,S=M+(b<<17&4294967295|b>>>15),b=w+(y^S&(M^y))+T[15]+1236535329&4294967295,w=S+(b<<22&4294967295|b>>>10),b=y+(S^M&(w^S))+T[1]+4129170786&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^S&(y^w))+T[6]+3225465664&4294967295,M=y+(b<<9&4294967295|b>>>23),b=S+(y^w&(M^y))+T[11]+643717713&4294967295,S=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(S^M))+T[0]+3921069994&4294967295,w=S+(b<<20&4294967295|b>>>12),b=y+(S^M&(w^S))+T[5]+3593408605&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^S&(y^w))+T[10]+38016083&4294967295,M=y+(b<<9&4294967295|b>>>23),b=S+(y^w&(M^y))+T[15]+3634488961&4294967295,S=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(S^M))+T[4]+3889429448&4294967295,w=S+(b<<20&4294967295|b>>>12),b=y+(S^M&(w^S))+T[9]+568446438&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^S&(y^w))+T[14]+3275163606&4294967295,M=y+(b<<9&4294967295|b>>>23),b=S+(y^w&(M^y))+T[3]+4107603335&4294967295,S=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(S^M))+T[8]+1163531501&4294967295,w=S+(b<<20&4294967295|b>>>12),b=y+(S^M&(w^S))+T[13]+2850285829&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^S&(y^w))+T[2]+4243563512&4294967295,M=y+(b<<9&4294967295|b>>>23),b=S+(y^w&(M^y))+T[7]+1735328473&4294967295,S=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(S^M))+T[12]+2368359562&4294967295,w=S+(b<<20&4294967295|b>>>12),b=y+(w^S^M)+T[5]+4294588738&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^S)+T[8]+2272392833&4294967295,M=y+(b<<11&4294967295|b>>>21),b=S+(M^y^w)+T[11]+1839030562&4294967295,S=M+(b<<16&4294967295|b>>>16),b=w+(S^M^y)+T[14]+4259657740&4294967295,w=S+(b<<23&4294967295|b>>>9),b=y+(w^S^M)+T[1]+2763975236&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^S)+T[4]+1272893353&4294967295,M=y+(b<<11&4294967295|b>>>21),b=S+(M^y^w)+T[7]+4139469664&4294967295,S=M+(b<<16&4294967295|b>>>16),b=w+(S^M^y)+T[10]+3200236656&4294967295,w=S+(b<<23&4294967295|b>>>9),b=y+(w^S^M)+T[13]+681279174&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^S)+T[0]+3936430074&4294967295,M=y+(b<<11&4294967295|b>>>21),b=S+(M^y^w)+T[3]+3572445317&4294967295,S=M+(b<<16&4294967295|b>>>16),b=w+(S^M^y)+T[6]+76029189&4294967295,w=S+(b<<23&4294967295|b>>>9),b=y+(w^S^M)+T[9]+3654602809&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^S)+T[12]+3873151461&4294967295,M=y+(b<<11&4294967295|b>>>21),b=S+(M^y^w)+T[15]+530742520&4294967295,S=M+(b<<16&4294967295|b>>>16),b=w+(S^M^y)+T[2]+3299628645&4294967295,w=S+(b<<23&4294967295|b>>>9),b=y+(S^(w|~M))+T[0]+4096336452&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~S))+T[7]+1126891415&4294967295,M=y+(b<<10&4294967295|b>>>22),b=S+(y^(M|~w))+T[14]+2878612391&4294967295,S=M+(b<<15&4294967295|b>>>17),b=w+(M^(S|~y))+T[5]+4237533241&4294967295,w=S+(b<<21&4294967295|b>>>11),b=y+(S^(w|~M))+T[12]+1700485571&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~S))+T[3]+2399980690&4294967295,M=y+(b<<10&4294967295|b>>>22),b=S+(y^(M|~w))+T[10]+4293915773&4294967295,S=M+(b<<15&4294967295|b>>>17),b=w+(M^(S|~y))+T[1]+2240044497&4294967295,w=S+(b<<21&4294967295|b>>>11),b=y+(S^(w|~M))+T[8]+1873313359&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~S))+T[15]+4264355552&4294967295,M=y+(b<<10&4294967295|b>>>22),b=S+(y^(M|~w))+T[6]+2734768916&4294967295,S=M+(b<<15&4294967295|b>>>17),b=w+(M^(S|~y))+T[13]+1309151649&4294967295,w=S+(b<<21&4294967295|b>>>11),b=y+(S^(w|~M))+T[4]+4149444226&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~S))+T[11]+3174756917&4294967295,M=y+(b<<10&4294967295|b>>>22),b=S+(y^(M|~w))+T[2]+718787259&4294967295,S=M+(b<<15&4294967295|b>>>17),b=w+(M^(S|~y))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(S+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+S&4294967295,I.g[3]=I.g[3]+M&4294967295}i.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var w=y-this.blockSize,T=this.B,S=this.h,M=0;M<y;){if(S==0)for(;M<=w;)r(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<y;)if(T[S++]=I.charCodeAt(M++),S==this.blockSize){r(this,T),S=0;break}}else for(;M<y;)if(T[S++]=I[M++],S==this.blockSize){r(this,T),S=0;break}}this.h=S,this.o+=y},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var w=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=w&255,w/=256;for(this.u(I),I=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)I[w++]=this.g[y]>>>T&255;return I};function s(I,y){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=y(I)}function o(I,y){this.h=y;for(var w=[],T=!0,S=I.length-1;0<=S;S--){var M=I[S]|0;T&&M==y||(w[S]=M,T=!1)}this.g=w}var a={};function c(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(u(-I));for(var y=[],w=1,T=0;I>=w;T++)y[T]=I/w|0,w*=4294967296;return new o(y,0)}function d(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return A(d(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),T=f,S=0;S<I.length;S+=8){var M=Math.min(8,I.length-S),b=parseInt(I.substring(S,S+M),y);8>M?(M=u(Math.pow(y,M)),T=T.j(M).add(u(b))):(T=T.j(w),T=T.add(u(b)))}return T}var f=c(0),m=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(D(this))return-A(this).m();for(var I=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);I+=(0<=T?T:4294967296+T)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(D(this))return"-"+A(this).toString(I);for(var y=u(Math.pow(I,6)),w=this,T="";;){var S=B(w,y).g;w=x(w,S.j(y));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=S,v(w))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=x(this,I),D(I)?-1:v(I)?0:1};function A(I){for(var y=I.g.length,w=[],T=0;T<y;T++)w[T]=~I.g[T];return new o(w,~I.h).add(m)}t.abs=function(){return D(this)?A(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0,S=0;S<=y;S++){var M=T+(this.i(S)&65535)+(I.i(S)&65535),b=(M>>>16)+(this.i(S)>>>16)+(I.i(S)>>>16);T=b>>>16,M&=65535,b&=65535,w[S]=b<<16|M}return new o(w,w[w.length-1]&-2147483648?-1:0)};function x(I,y){return I.add(A(y))}t.j=function(I){if(v(this)||v(I))return f;if(D(this))return D(I)?A(this).j(A(I)):A(A(this).j(I));if(D(I))return A(this.j(A(I)));if(0>this.l(_)&&0>I.l(_))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<I.g.length;S++){var M=this.i(T)>>>16,b=this.i(T)&65535,Fn=I.i(S)>>>16,kr=I.i(S)&65535;w[2*T+2*S]+=b*kr,j(w,2*T+2*S),w[2*T+2*S+1]+=M*kr,j(w,2*T+2*S+1),w[2*T+2*S+1]+=b*Fn,j(w,2*T+2*S+1),w[2*T+2*S+2]+=M*Fn,j(w,2*T+2*S+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new o(w,0)};function j(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function q(I,y){this.g=I,this.h=y}function B(I,y){if(v(y))throw Error("division by zero");if(v(I))return new q(f,f);if(D(I))return y=B(A(I),y),new q(A(y.g),A(y.h));if(D(y))return y=B(I,A(y)),new q(A(y.g),y.h);if(30<I.g.length){if(D(I)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,T=y;0>=T.l(I);)w=oe(w),T=oe(T);var S=H(w,1),M=H(T,1);for(T=H(T,2),w=H(w,2);!v(T);){var b=M.add(T);0>=b.l(I)&&(S=S.add(w),M=b),T=H(T,1),w=H(w,1)}return y=x(I,S.j(y)),new q(S,y)}for(S=f;0<=I.l(y);){for(w=Math.max(1,Math.floor(I.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=u(w),b=M.j(y);D(b)||0<b.l(I);)w-=T,M=u(w),b=M.j(y);v(M)&&(M=m),S=S.add(M),I=x(I,b)}return new q(S,I)}t.A=function(I){return B(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&I.i(T);return new o(w,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|I.i(T);return new o(w,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^I.i(T);return new o(w,this.h^I.h)};function oe(I){for(var y=I.g.length+1,w=[],T=0;T<y;T++)w[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(w,I.h)}function H(I,y){var w=y>>5;y%=32;for(var T=I.g.length-w,S=[],M=0;M<T;M++)S[M]=0<y?I.i(M+w)>>>y|I.i(M+w+1)<<32-y:I.i(M+w);return new o(S,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Qb=sP.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ss=sP.Integer=o}).apply(typeof rP<"u"?rP:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sr={};var Yb,Jb,hc,Zb,Ru,em,Xb,eE,tE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)e:{var p=i;l=l.split(".");for(var g=0;g<l.length-1;g++){var C=l[g];if(!(C in p))break e;p=p[C]}l=l[l.length-1],g=p[l],h=h(g),h!=g&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,g=!1,C={next:function(){if(!g&&p<l.length){var O=p++;return{value:h(O,l[O]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),l.apply(h,C)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function _(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function v(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,C,O){for(var z=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)z[Ke-2]=arguments[Ke];return h.prototype[C].apply(g,z)}}function D(l){let h=l.length;if(0<h){let p=Array(h);for(let g=0;g<h;g++)p[g]=l[g];return p}return[]}function A(l,h){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let C=l.length||0,O=g.length||0;l.length=C+O;for(let z=0;z<O;z++)l[C+z]=g[z]}else l.push(g)}}class x{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function j(l){return/^[\s\xa0]*$/.test(l)}function q(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function B(l){return B[" "](l),l}B[" "]=function(){};var oe=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function H(l,h,p){for(let g in l)h.call(p,l[g],g,l)}function I(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function y(l){let h={};for(let p in l)h[p]=l[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(p in g)l[p]=g[p];for(let O=0;O<w.length;O++)p=w[O],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function S(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function M(l){a.setTimeout(()=>{throw l},0)}function b(){var l=Ce;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Fn{constructor(){this.h=this.g=null}add(h,p){let g=kr.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var kr=new x(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ae=!1,Ce=new Fn,vt=()=>{let l=a.Promise.resolve(void 0);ne=()=>{l.then(Ln)}};var Ln=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){M(p)}var h=kr;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ae=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Fr(l,h){if(Je.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(oe){e:{try{B(h.nodeName);var C=!0;break e}catch{}C=!1}C||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:lg[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Fr.aa.h.call(this)}}v(Fr,Je);var lg={2:"touch",3:"pen",4:"mouse"};Fr.prototype.h=function(){Fr.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Ji=0;function ln(l,h,p,g,C){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=C,this.key=++Ji,this.da=this.fa=!1}function Zi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Lr(l){this.src=l,this.g={},this.h=0}Lr.prototype.add=function(l,h,p,g,C){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var z=dg(l,h,g,C);return-1<z?(h=l[z],p||(h.fa=!1)):(h=new ln(h,this.src,O,!!g,C),h.fa=p,l.push(h)),h};function ug(l,h){var p=h.type;if(p in l.g){var g=l.g[p],C=Array.prototype.indexOf.call(g,h,void 0),O;(O=0<=C)&&Array.prototype.splice.call(g,C,1),O&&(Zi(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function dg(l,h,p,g){for(var C=0;C<l.length;++C){var O=l[C];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==g)return C}return-1}var hg="closure_lm_"+(1e6*Math.random()|0),fg={};function jD(l,h,p,g,C){if(g&&g.once)return $D(l,h,p,g,C);if(Array.isArray(h)){for(var O=0;O<h.length;O++)jD(l,h[O],p,g,C);return null}return p=_g(p),l&&l[ut]?l.K(h,p,u(g)?!!g.capture:!!g,C):UD(l,h,p,!1,g,C)}function UD(l,h,p,g,C,O){if(!h)throw Error("Invalid event type");var z=u(C)?!!C.capture:!!C,Ke=mg(l);if(Ke||(l[hg]=Ke=new Lr(l)),p=Ke.add(h,p,g,z,O),p.proxy)return p;if(g=RL(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)Ze||(C=z),C===void 0&&(C=!1),l.addEventListener(h.toString(),g,C);else if(l.attachEvent)l.attachEvent(GD(h.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function RL(){function l(p){return h.call(l.src,l.listener,p)}let h=OL;return l}function $D(l,h,p,g,C){if(Array.isArray(h)){for(var O=0;O<h.length;O++)$D(l,h[O],p,g,C);return null}return p=_g(p),l&&l[ut]?l.L(h,p,u(g)?!!g.capture:!!g,C):UD(l,h,p,!0,g,C)}function HD(l,h,p,g,C){if(Array.isArray(h))for(var O=0;O<h.length;O++)HD(l,h[O],p,g,C);else g=u(g)?!!g.capture:!!g,p=_g(p),l&&l[ut]?(l=l.i,h=String(h).toString(),h in l.g&&(O=l.g[h],p=dg(O,p,g,C),-1<p&&(Zi(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete l.g[h],l.h--)))):l&&(l=mg(l))&&(h=l.g[h.toString()],l=-1,h&&(l=dg(h,p,g,C)),(p=-1<l?h[l]:null)&&pg(p))}function pg(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ut])ug(h.i,l);else{var p=l.type,g=l.proxy;h.removeEventListener?h.removeEventListener(p,g,l.capture):h.detachEvent?h.detachEvent(GD(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=mg(h))?(ug(p,l),p.h==0&&(p.src=null,h[hg]=null)):Zi(l)}}}function GD(l){return l in fg?fg[l]:fg[l]="on"+l}function OL(l,h){if(l.da)l=!0;else{h=new Fr(h,this);var p=l.listener,g=l.ha||l.src;l.fa&&pg(l),l=p.call(g,h)}return l}function mg(l){return l=l[hg],l instanceof Lr?l:null}var gg="__closure_events_fn_"+(1e9*Math.random()>>>0);function _g(l){return typeof l=="function"?l:(l[gg]||(l[gg]=function(h){return l.handleEvent(h)}),l[gg])}function zt(){lt.call(this),this.i=new Lr(this),this.M=this,this.F=null}v(zt,lt),zt.prototype[ut]=!0,zt.prototype.removeEventListener=function(l,h,p,g){HD(this,l,h,p,g)};function Xt(l,h){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=h.type||h,typeof h=="string")h=new Je(h,l);else if(h instanceof Je)h.target=h.target||l;else{var C=h;h=new Je(g,l),T(h,C)}if(C=!0,p)for(var O=p.length-1;0<=O;O--){var z=h.g=p[O];C=rd(z,g,!0,h)&&C}if(z=h.g=l,C=rd(z,g,!0,h)&&C,C=rd(z,g,!1,h)&&C,p)for(O=0;O<p.length;O++)z=h.g=p[O],C=rd(z,g,!1,h)&&C}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],g=0;g<p.length;g++)Zi(p[g]);delete l.g[h],l.h--}}this.F=null},zt.prototype.K=function(l,h,p,g){return this.i.add(String(l),h,!1,p,g)},zt.prototype.L=function(l,h,p,g){return this.i.add(String(l),h,!0,p,g)};function rd(l,h,p,g){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var C=!0,O=0;O<h.length;++O){var z=h[O];if(z&&!z.da&&z.capture==p){var Ke=z.listener,Vt=z.ha||z.src;z.fa&&ug(l.i,z),C=Ke.call(Vt,g)!==!1&&C}}return C&&!g.defaultPrevented}function zD(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function qD(l){l.g=zD(()=>{l.g=null,l.i&&(l.i=!1,qD(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class NL extends lt{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:qD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vc(l){lt.call(this),this.h=l,this.g={}}v(Vc,lt);var WD=[];function KD(l){H(l.g,function(h,p){this.g.hasOwnProperty(p)&&pg(h)},l),l.g={}}Vc.prototype.N=function(){Vc.aa.N.call(this),KD(this)},Vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yg=a.JSON.stringify,xL=a.JSON.parse,PL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function vg(){}vg.prototype.h=null;function QD(l){return l.h||(l.h=l.i())}function YD(){}var Bc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wg(){Je.call(this,"d")}v(wg,Je);function bg(){Je.call(this,"c")}v(bg,Je);var Fs={},JD=null;function sd(){return JD=JD||new zt}Fs.La="serverreachability";function ZD(l){Je.call(this,Fs.La,l)}v(ZD,Je);function jc(l){let h=sd();Xt(h,new ZD(h))}Fs.STAT_EVENT="statevent";function XD(l,h){Je.call(this,Fs.STAT_EVENT,l),this.stat=h}v(XD,Je);function en(l){let h=sd();Xt(h,new XD(h,l))}Fs.Ma="timingevent";function eT(l,h){Je.call(this,Fs.Ma,l),this.size=h}v(eT,Je);function Uc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function $c(){this.g=!0}$c.prototype.xa=function(){this.g=!1};function kL(l,h,p,g,C,O){l.info(function(){if(l.g)if(O)for(var z="",Ke=O.split("&"),Vt=0;Vt<Ke.length;Vt++){var Le=Ke[Vt].split("=");if(1<Le.length){var qt=Le[0];Le=Le[1];var Wt=qt.split("_");z=2<=Wt.length&&Wt[1]=="type"?z+(qt+"="+Le+"&"):z+(qt+"=redacted&")}}else z=null;else z=O;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+h+`
`+p+`
`+z})}function FL(l,h,p,g,C,O,z){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+h+`
`+p+`
`+O+" "+z})}function Qo(l,h,p,g){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+VL(l,p)+(g?" "+g:"")})}function LL(l,h){l.info(function(){return"TIMEOUT: "+h})}$c.prototype.info=function(){};function VL(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var O=C[0];if(O!="noop"&&O!="stop"&&O!="close")for(var z=1;z<C.length;z++)C[z]=""}}}}return yg(p)}catch{return h}}var od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Eg;function ad(){}v(ad,vg),ad.prototype.g=function(){return new XMLHttpRequest},ad.prototype.i=function(){return{}},Eg=new ad;function Vr(l,h,p,g){this.j=l,this.i=h,this.l=p,this.R=g||1,this.U=new Vc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nT}function nT(){this.i=null,this.g="",this.h=!1}var iT={},Ig={};function Dg(l,h,p){l.L=1,l.v=dd(Xi(h)),l.m=p,l.P=!0,rT(l,null)}function rT(l,h){l.F=Date.now(),cd(l),l.A=Xi(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),yT(p.i,"t",g),l.C=0,p=l.j.J,l.h=new nT,l.g=FT(l.j,p?h:null,!l.m),0<l.O&&(l.M=new NL(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,g=l.ca;var C="readystatechange";Array.isArray(C)||(C&&(WD[0]=C.toString()),C=WD);for(var O=0;O<C.length;O++){var z=jD(p,C[O],g||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),jc(),kL(l.i,l.u,l.A,l.l,l.R,l.m)}Vr.prototype.ca=function(l){l=l.target;let h=this.M;h&&er(l)==3?h.j():this.Y(l)},Vr.prototype.Y=function(l){try{if(l==this.g)e:{let Wt=er(this.g);var h=this.g.Ba();let Zo=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||TT(this.g)))){this.J||Wt!=4||h==7||(h==8||0>=Zo?jc(3):jc(2)),Tg(this);var p=this.g.Z();this.X=p;t:if(sT(this)){var g=TT(this.g);l="";var C=g.length,O=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),Hc(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<C;h++)this.h.h=!0,l+=this.h.i.decode(g[h],{stream:!(O&&h==C-1)});g.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,FL(this.i,this.u,this.A,this.l,this.R,Wt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Vt=this.g;if((Ke=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ke)){var Le=Ke;break t}}Le=null}if(p=Le)Qo(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sg(this,p);else{this.o=!1,this.s=3,en(12),Ls(this),Hc(this);break e}}if(this.P){p=!0;let Wn;for(;!this.J&&this.C<z.length;)if(Wn=BL(this,z),Wn==Ig){Wt==4&&(this.s=4,en(14),p=!1),Qo(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==iT){this.s=4,en(15),Qo(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Qo(this.i,this.l,Wn,null),Sg(this,Wn);if(sT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||z.length!=0||this.h.h||(this.s=1,en(16),p=!1),this.o=this.o&&p,!p)Qo(this.i,this.l,z,"[Invalid Chunked Response]"),Ls(this),Hc(this);else if(0<z.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ng(qt),qt.M=!0,en(11))}}else Qo(this.i,this.l,z,null),Sg(this,z);Wt==4&&Ls(this),this.o&&!this.J&&(Wt==4?NT(this.j,this):(this.o=!1,cd(this)))}else nV(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Ls(this),Hc(this)}}}catch{}finally{}};function sT(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function BL(l,h){var p=l.C,g=h.indexOf(`
`,p);return g==-1?Ig:(p=Number(h.substring(p,g)),isNaN(p)?iT:(g+=1,g+p>h.length?Ig:(h=h.slice(g,g+p),l.C=g+p,h)))}Vr.prototype.cancel=function(){this.J=!0,Ls(this)};function cd(l){l.S=Date.now()+l.I,oT(l,l.I)}function oT(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Uc(m(l.ba,l),h)}function Tg(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Vr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(LL(this.i,this.A),this.L!=2&&(jc(),en(17)),Ls(this),this.s=2,Hc(this)):oT(this,this.S-l)};function Hc(l){l.j.G==0||l.J||NT(l.j,l)}function Ls(l){Tg(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,KD(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Sg(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Cg(p.h,l))){if(!l.K&&Cg(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)gd(p),pd(p);else break e;Og(p),en(18)}}else p.za=C[1],0<p.za-p.T&&37500>C[2]&&p.F&&p.v==0&&!p.C&&(p.C=Uc(m(p.Za,p),6e3));if(1>=lT(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Bs(p,11)}else if((l.K||p.g==l)&&gd(p),!j(h))for(C=p.Da.g.parse(h),h=0;h<C.length;h++){let Le=C[h];if(p.T=Le[0],Le=Le[1],p.G==2)if(Le[0]=="c"){p.K=Le[1],p.ia=Le[2];let qt=Le[3];qt!=null&&(p.la=qt,p.j.info("VER="+p.la));let Wt=Le[4];Wt!=null&&(p.Aa=Wt,p.j.info("SVER="+p.Aa));let Zo=Le[5];Zo!=null&&typeof Zo=="number"&&0<Zo&&(g=1.5*Zo,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let Wn=l.g;if(Wn){let yd=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yd){var O=g.h;O.g||yd.indexOf("spdy")==-1&&yd.indexOf("quic")==-1&&yd.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ag(O,O.h),O.h=null))}if(g.D){let xg=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;xg&&(g.ya=xg,Xe(g.I,g.D,xg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var z=l;if(g.qa=kT(g,g.J?g.ia:null,g.W),z.K){uT(g.h,z);var Ke=z,Vt=g.L;Vt&&(Ke.I=Vt),Ke.B&&(Tg(Ke),cd(Ke)),g.g=z}else RT(g);0<p.i.length&&md(p)}else Le[0]!="stop"&&Le[0]!="close"||Bs(p,7);else p.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Bs(p,7):Rg(p):Le[0]!="noop"&&p.l&&p.l.ta(Le),p.v=0)}}jc(4)}catch{}}var jL=class{constructor(l,h){this.g=l,this.map=h}};function aT(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cT(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function lT(l){return l.h?1:l.g?l.g.size:0}function Cg(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ag(l,h){l.g?l.g.add(h):l.h=h}function uT(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}aT.prototype.cancel=function(){if(this.i=dT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function dT(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return D(l.i)}function UL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,g=0;g<p;g++)h.push(l[g]);return h}h=[],p=0;for(g in l)h[p++]=l[g];return h}function $L(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let g in l)h[p++]=g;return h}}}function hT(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=$L(l),g=UL(l),C=g.length,O=0;O<C;O++)h.call(void 0,g[O],p&&p[O],l)}var fT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HL(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),C=null;if(0<=g){var O=l[p].substring(0,g);C=l[p].substring(g+1)}else O=l[p];h(O,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Vs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Vs){this.h=l.h,ld(this,l.j),this.o=l.o,this.g=l.g,ud(this,l.s),this.l=l.l;var h=l.i,p=new qc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),pT(this,p),this.m=l.m}else l&&(h=String(l).match(fT))?(this.h=!1,ld(this,h[1]||"",!0),this.o=Gc(h[2]||""),this.g=Gc(h[3]||"",!0),ud(this,h[4]),this.l=Gc(h[5]||"",!0),pT(this,h[6]||"",!0),this.m=Gc(h[7]||"")):(this.h=!1,this.i=new qc(null,this.h))}Vs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(zc(h,mT,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(zc(h,mT,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(zc(p,p.charAt(0)=="/"?qL:zL,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",zc(p,KL)),l.join("")};function Xi(l){return new Vs(l)}function ld(l,h,p){l.j=p?Gc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ud(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function pT(l,h,p){h instanceof qc?(l.i=h,QL(l.i,l.h)):(p||(h=zc(h,WL)),l.i=new qc(h,l.h))}function Xe(l,h,p){l.i.set(h,p)}function dd(l){return Xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Gc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function zc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,GL),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function GL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var mT=/[#\/\?@]/g,zL=/[#\?:]/g,qL=/[#\?]/g,WL=/[#\?@]/g,KL=/#/g;function qc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Br(l){l.g||(l.g=new Map,l.h=0,l.i&&HL(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=qc.prototype,t.add=function(l,h){Br(this),this.i=null,l=Yo(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function gT(l,h){Br(l),h=Yo(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function _T(l,h){return Br(l),h=Yo(l,h),l.g.has(h)}t.forEach=function(l,h){Br(this),this.g.forEach(function(p,g){p.forEach(function(C){l.call(h,C,g,this)},this)},this)},t.na=function(){Br(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){let C=l[g];for(let O=0;O<C.length;O++)p.push(h[g])}return p},t.V=function(l){Br(this);let h=[];if(typeof l=="string")_T(this,l)&&(h=h.concat(this.g.get(Yo(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return Br(this),this.i=null,l=Yo(this,l),_T(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function yT(l,h,p){gT(l,h),0<p.length&&(l.i=null,l.g.set(Yo(l,h),D(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];let O=encodeURIComponent(String(g)),z=this.V(g);for(g=0;g<z.length;g++){var C=O;z[g]!==""&&(C+="="+encodeURIComponent(String(z[g]))),l.push(C)}}return this.i=l.join("&")};function Yo(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function QL(l,h){h&&!l.j&&(Br(l),l.i=null,l.g.forEach(function(p,g){var C=g.toLowerCase();g!=C&&(gT(this,g),yT(this,C,p))},l)),l.j=h}function YL(l,h){let p=new $c;if(a.Image){let g=new Image;g.onload=_(jr,p,"TestLoadImage: loaded",!0,h,g),g.onerror=_(jr,p,"TestLoadImage: error",!1,h,g),g.onabort=_(jr,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=_(jr,p,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else h(!1)}function JL(l,h){let p=new $c,g=new AbortController,C=setTimeout(()=>{g.abort(),jr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:g.signal}).then(O=>{clearTimeout(C),O.ok?jr(p,"TestPingServer: ok",!0,h):jr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(C),jr(p,"TestPingServer: error",!1,h)})}function jr(l,h,p,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(p)}catch{}}function ZL(){this.g=new PL}function XL(l,h,p){let g=p||"";try{hT(l,function(C,O){let z=C;u(C)&&(z=yg(C)),h.push(g+O+"="+encodeURIComponent(z))})}catch(C){throw h.push(g+"type="+encodeURIComponent("_badmap")),C}}function Wc(l){this.l=l.Ub||null,this.j=l.eb||!1}v(Wc,vg),Wc.prototype.g=function(){return new hd(this.l,this.j)},Wc.prototype.i=function(l){return function(){return l}}({});function hd(l,h){zt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(hd,zt),t=hd.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Qc(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Qc(this)),this.g&&(this.readyState=3,Qc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vT(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function vT(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Kc(this):Qc(this),this.readyState==3&&vT(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Kc(this))},t.Qa=function(l){this.g&&(this.response=l,Kc(this))},t.ga=function(){this.g&&Kc(this)};function Kc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Qc(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Qc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function wT(l){let h="";return H(l,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function Mg(l,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=wT(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Xe(l,h,p))}function dt(l){zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(dt,zt);var eV=/^https?$/i,tV=["POST","PUT"];t=dt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eg.g(),this.v=this.o?QD(this.o):QD(Eg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(O){bT(this,O);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)p.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let O of g.keys())p.set(O,g.get(O));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),C=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tV,h,void 0))||g||C||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,z]of p)this.g.setRequestHeader(O,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DT(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){bT(this,O)}};function bT(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,ET(l),fd(l)}function ET(l){l.A||(l.A=!0,Xt(l,"complete"),Xt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Xt(this,"complete"),Xt(this,"abort"),fd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fd(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?IT(this):this.bb())},t.bb=function(){IT(this)};function IT(l){if(l.h&&typeof o<"u"&&(!l.v[1]||er(l)!=4||l.Z()!=2)){if(l.u&&er(l)==4)zD(l.Ea,0,l);else if(Xt(l,"readystatechange"),er(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=z===0){var C=String(l.D).match(fT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!eV.test(C?C.toLowerCase():"")}p=g}if(p)Xt(l,"complete"),Xt(l,"success");else{l.m=6;try{var O=2<er(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",ET(l)}}finally{fd(l)}}}}function fd(l,h){if(l.g){DT(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Xt(l,"ready");try{p.onreadystatechange=g}catch{}}}function DT(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function er(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),xL(h)}};function TT(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function nV(l){let h={};l=(l.g&&2<=er(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(j(l[g]))continue;var p=S(l[g]);let C=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let O=h[C]||[];h[C]=O,O.push(p)}I(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yc(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function ST(l){this.Aa=0,this.i=[],this.j=new $c,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yc("baseRetryDelayMs",5e3,l),this.cb=Yc("retryDelaySeedMs",1e4,l),this.Wa=Yc("forwardChannelMaxRetries",2,l),this.wa=Yc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new aT(l&&l.concurrentRequestLimit),this.Da=new ZL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ST.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,g){en(0),this.W=l,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=kT(this,null,this.W),md(this)};function Rg(l){if(CT(l),l.G==3){var h=l.U++,p=Xi(l.I);if(Xe(p,"SID",l.K),Xe(p,"RID",h),Xe(p,"TYPE","terminate"),Jc(l,p),h=new Vr(l,l.j,h),h.L=2,h.v=dd(Xi(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=FT(h.j,null),h.g.ea(h.v)),h.F=Date.now(),cd(h)}PT(l)}function pd(l){l.g&&(Ng(l),l.g.cancel(),l.g=null)}function CT(l){pd(l),l.u&&(a.clearTimeout(l.u),l.u=null),gd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function md(l){if(!cT(l.h)&&!l.s){l.s=!0;var h=l.Ga;ne||vt(),ae||(ne(),ae=!0),Ce.add(h,l),l.B=0}}function iV(l,h){return lT(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Uc(m(l.Ga,l,h),xT(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let C=new Vr(this,this.j,l),O=this.o;if(this.S&&(O?(O=y(O),T(O,this.S)):O=this.S),this.m!==null||this.O||(C.H=O,O=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=MT(this,C,h),p=Xi(this.I),Xe(p,"RID",l),Xe(p,"CVER",22),this.D&&Xe(p,"X-HTTP-Session-Id",this.D),Jc(this,p),O&&(this.O?h="headers="+encodeURIComponent(String(wT(O)))+"&"+h:this.m&&Mg(p,this.m,O)),Ag(this.h,C),this.Ua&&Xe(p,"TYPE","init"),this.P?(Xe(p,"$req",h),Xe(p,"SID","null"),C.T=!0,Dg(C,p,null)):Dg(C,p,h),this.G=2}}else this.G==3&&(l?AT(this,l):this.i.length==0||cT(this.h)||AT(this))};function AT(l,h){var p;h?p=h.l:p=l.U++;let g=Xi(l.I);Xe(g,"SID",l.K),Xe(g,"RID",p),Xe(g,"AID",l.T),Jc(l,g),l.m&&l.o&&Mg(g,l.m,l.o),p=new Vr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=MT(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ag(l.h,p),Dg(p,g,h)}function Jc(l,h){l.H&&H(l.H,function(p,g){Xe(h,g,p)}),l.l&&hT({},function(p,g){Xe(h,g,p)})}function MT(l,h,p){p=Math.min(l.i.length,p);var g=l.l?m(l.l.Na,l.l,l):null;e:{var C=l.i;let O=-1;for(;;){let z=["count="+p];O==-1?0<p?(O=C[0].g,z.push("ofs="+O)):O=0:z.push("ofs="+O);let Ke=!0;for(let Vt=0;Vt<p;Vt++){let Le=C[Vt].g,qt=C[Vt].map;if(Le-=O,0>Le)O=Math.max(0,C[Vt].g-100),Ke=!1;else try{XL(qt,z,"req"+Le+"_")}catch{g&&g(qt)}}if(Ke){g=z.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,g}function RT(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ne||vt(),ae||(ne(),ae=!0),Ce.add(h,l),l.v=0}}function Og(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Uc(m(l.Fa,l),xT(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,OT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Uc(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),pd(this),OT(this))};function Ng(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function OT(l){l.g=new Vr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Xi(l.qa);Xe(h,"RID","rpc"),Xe(h,"SID",l.K),Xe(h,"AID",l.T),Xe(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Xe(h,"TO",l.ja),Xe(h,"TYPE","xmlhttp"),Jc(l,h),l.m&&l.o&&Mg(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=dd(Xi(h)),p.m=null,p.P=!0,rT(p,l)}t.Za=function(){this.C!=null&&(this.C=null,pd(this),Og(this),en(19))};function gd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function NT(l,h){var p=null;if(l.g==h){gd(l),Ng(l),l.g=null;var g=2}else if(Cg(l.h,h))p=h.D,uT(l.h,h),g=1;else return;if(l.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var C=l.B;g=sd(),Xt(g,new eT(g,p)),md(l)}else RT(l);else if(C=h.s,C==3||C==0&&0<h.X||!(g==1&&iV(l,h)||g==2&&Og(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),C){case 1:Bs(l,5);break;case 4:Bs(l,10);break;case 3:Bs(l,6);break;default:Bs(l,2)}}}function xT(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Bs(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),g=l.Xa;let C=!g;g=new Vs(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ld(g,"https"),dd(g),C?YL(g.toString(),p):JL(g.toString(),p)}else en(2);l.G=0,l.l&&l.l.sa(h),PT(l),CT(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function PT(l){if(l.G=0,l.ka=[],l.l){let h=dT(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function kT(l,h,p){var g=p instanceof Vs?Xi(p):new Vs(p);if(g.g!="")h&&(g.g=h+"."+g.g),ud(g,g.s);else{var C=a.location;g=C.protocol,h=h?h+"."+C.hostname:C.hostname,C=+C.port;var O=new Vs(null);g&&ld(O,g),h&&(O.g=h),C&&ud(O,C),p&&(O.l=p),g=O}return p=l.D,h=l.ya,p&&h&&Xe(g,p,h),Xe(g,"VER",l.la),Jc(l,g),g}function FT(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new dt(new Wc({eb:p})):new dt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function LT(){}t=LT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _d(){}_d.prototype.g=function(l,h){return new yn(l,h)};function yn(l,h){zt.call(this),this.g=new ST(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!j(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!j(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Jo(this)}v(yn,zt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Rg(this.g)},yn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=yg(l),l=p);h.i.push(new jL(h.Ya++,l)),h.G==3&&md(h)},yn.prototype.N=function(){this.g.l=null,delete this.j,Rg(this.g),delete this.g,yn.aa.N.call(this)};function VT(l){wg.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}v(VT,wg);function BT(){bg.call(this),this.status=1}v(BT,bg);function Jo(l){this.g=l}v(Jo,LT),Jo.prototype.ua=function(){Xt(this.g,"a")},Jo.prototype.ta=function(l){Xt(this.g,new VT(l))},Jo.prototype.sa=function(l){Xt(this.g,new BT)},Jo.prototype.ra=function(){Xt(this.g,"b")},_d.prototype.createWebChannel=_d.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,tE=Sr.createWebChannelTransport=function(){return new _d},eE=Sr.getStatEventTarget=function(){return sd()},Xb=Sr.Event=Fs,em=Sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,Ru=Sr.ErrorCode=od,tT.COMPLETE="complete",Zb=Sr.EventType=tT,YD.EventType=Bc,Bc.OPEN="a",Bc.CLOSE="b",Bc.ERROR="c",Bc.MESSAGE="d",zt.prototype.listen=zt.prototype.K,hc=Sr.WebChannel=YD,Jb=Sr.FetchXmlHttpFactory=Wc,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,Yb=Sr.XhrIo=dt}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var oP="@firebase/firestore";var Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");var Rc="10.12.3";var jo=new _s("@firebase/firestore");function Ou(){return jo.logLevel}function X(t,...e){if(jo.logLevel<=Me.DEBUG){let n=e.map(BI);jo.debug(`Firestore (${Rc}): ${t}`,...n)}}function Ar(t,...e){if(jo.logLevel<=Me.ERROR){let n=e.map(BI);jo.error(`Firestore (${Rc}): ${t}`,...n)}}function vc(t,...e){if(jo.logLevel<=Me.WARN){let n=e.map(BI);jo.warn(`Firestore (${Rc}): ${t}`,...n)}}function BI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ge(t="Unexpected state"){let e=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: `+t;throw Ar(e),new Error(e)}function Ye(t,e){t||ge()}function ve(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var sm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},oE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}},aE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cE=class{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hi,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hi)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new sm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Lt(e)}},lE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},uE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new lE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new dE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function nK(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var om=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=nK(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Ue(t,e){return t<e?-1:t>e?1:0}function wc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Gt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var be=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Gt(0,0))}static max(){return new t(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var am=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ge(),i===void 0?i=e.length-n:i>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},at=class t extends am{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new J(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},iK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pn=class t extends am{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return iK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new J(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new J(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new J(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var de=class t{constructor(e){this.path=e}static fromPath(e){return new t(at.fromString(e))}static fromName(e){return new t(at.fromString(e).popFirst(5))}static empty(){return new t(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new at(e.slice()))}};var fE=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};fE.UNKNOWN_ID=-1;function rK(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=be.fromTimestamp(i===1e9?new Gt(n+1,0):new Gt(n,i));return new Uo(r,de.empty(),e)}function sK(t){return new Uo(t.readTime,t.key,-1)}var Uo=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(be.min(),de.empty(),-1)}static max(){return new t(be.max(),de.empty(),-1)}};function oK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}var aK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Qu(t){return E(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==aK)throw t;X("LocalStore","Unexpectedly lost primary lease")})}var $=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function cK(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yu(t){return t.name==="IndexedDbTransactionError"}var VP=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Vm(t){return t==null}function Lu(t){return t===0&&1/t==-1/0}function lK(t){return typeof t=="number"&&Number.isInteger(t)&&!Lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uK=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nde=[...uK,"documentOverlays"],dK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hK=dK,ide=[...hK,"indexConfiguration","indexState","indexEntries"];function aP(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gt=class t{constructor(e,n){this.comparator=e,this.root=n||Gi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gc(this.root,e,this.comparator,!0)}},gc=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gi=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();let e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1;Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Gi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Zt=class t{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cm(this.data.getIterator())}getIteratorFrom(e){return new cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},cm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var $i=class t{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Zt(Pn.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var lm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var cn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};cn.EMPTY_BYTE_STRING=new cn("");var fK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(Ye(!!t),typeof t=="string"){let e=0,n=fK.exec(t);if(Ye(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}function jI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function UI(t){let e=t.mapValue.fields.__previous_value__;return jI(e)?UI(e):e}function Vu(t){let e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}var mE=class{constructor(e,n,i,r,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},um=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var tm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jI(t)?4:jP(t)?9007199254740991:10:ge()}function Wi(t,e){if(t===e)return!0;let n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Mr(r.timestampValue),a=Mr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ms(r.bytesValue).isEqual(Ms(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return mt(r.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(r.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return mt(r.integerValue)===mt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=mt(r.doubleValue),a=mt(s.doubleValue);return o===a?Lu(o)===Lu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wc(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(aP(o)!==aP(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Wi(o[c],a[c])))return!1;return!0}(t,e);default:return ge()}}function Bu(t,e){return(t.values||[]).find(n=>Wi(n,e))!==void 0}function bc(t,e){if(t===e)return 0;let n=$o(t),i=$o(e);if(n!==i)return Ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=mt(s.integerValue||s.doubleValue),c=mt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return cP(t.timestampValue,e.timestampValue);case 4:return cP(Vu(t),Vu(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ms(s),c=Ms(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ue(a[u],c[u]);if(d!==0)return d}return Ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ue(mt(s.latitude),mt(o.latitude));return a!==0?a:Ue(mt(s.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let d=bc(a[u],c[u]);if(d)return d}return Ue(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===tm.mapValue&&o===tm.mapValue)return 0;if(s===tm.mapValue)return 1;if(o===tm.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=Ue(c[f],d[f]);if(m!==0)return m;let _=bc(a[c[f]],u[d[f]]);if(_!==0)return _}return Ue(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ge()}}function cP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);let n=Mr(t),i=Mr(e),r=Ue(n.seconds,i.seconds);return r!==0?r:Ue(n.nanos,i.nanos)}function Ec(t){return gE(t)}function gE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Mr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=gE(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${gE(n.fields[o])}`;return r+"}"}(t.mapValue):ge()}function lP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _E(t){return!!t&&"integerValue"in t}function $I(t){return!!t&&"arrayValue"in t}function uP(t){return!!t&&"nullValue"in t}function dP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function im(t){return!!t&&"mapValue"in t}function xu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Oc(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=xu(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ui=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!im(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=Pn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=xu(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());im(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];im(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Oc(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(xu(this.value))}};function UP(t){let e=[];return Oc(t.fields,(n,i)=>{let r=new Pn([n]);if(im(i)){let s=UP(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new $i(e)}var di=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,be.min(),be.min(),be.min(),ui.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,be.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,be.min(),be.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,be.min(),be.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ic=class{constructor(e,n){this.position=e,this.inclusive=n}};function hP(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=de.comparator(de.fromName(o.referenceValue),n.key):i=bc(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function fP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}var Ho=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var dm=class{},Ot=class t extends dm{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new vE(e,n,i):n==="array-contains"?new EE(e,i):n==="in"?new IE(e,i):n==="not-in"?new DE(e,i):n==="array-contains-any"?new TE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new wE(e,i):new bE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bc(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(bc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hi=class t extends dm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return $P(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function $P(t){return t.op==="and"}function HP(t){return mK(t)&&$P(t)}function mK(t){for(let e of t.filters)if(e instanceof hi)return!1;return!0}function yE(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Ec(t.value);if(HP(t))return t.filters.map(e=>yE(e)).join(",");{let e=t.filters.map(n=>yE(n)).join(",");return`${t.op}(${e})`}}function GP(t,e){return t instanceof Ot?function(i,r){return r instanceof Ot&&i.op===r.op&&i.field.isEqual(r.field)&&Wi(i.value,r.value)}(t,e):t instanceof hi?function(i,r){return r instanceof hi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&GP(o,r.filters[a]),!0):!1}(t,e):void ge()}function zP(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ec(n.value)}`}(t):t instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(zP).join(" ,")+"}"}(t):"Filter"}var vE=class extends Ot{constructor(e,n,i){super(e,n,i),this.key=de.fromName(i.referenceValue)}matches(e){let n=de.comparator(e.key,this.key);return this.matchesComparison(n)}},wE=class extends Ot{constructor(e,n){super(e,"in",n),this.keys=qP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},bE=class extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=qP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function qP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>de.fromName(i.referenceValue))}var EE=class extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $I(n)&&Bu(n.arrayValue,this.value)}},IE=class extends Ot{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}},DE=class extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Bu(this.value.arrayValue,n)}},TE=class extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$I(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Bu(this.value.arrayValue,i))}};var SE=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function pP(t,e=null,n=[],i=[],r=null,s=null,o=null){return new SE(t,e,n,i,r,s,o)}function HI(t){let e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>yE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ec(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ec(i)).join(",")),e.ue=n}return e.ue}function GI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fP(t.startAt,e.startAt)&&fP(t.endAt,e.endAt)}function CE(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Rs=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function gK(t,e,n,i,r,s,o,a){return new Rs(t,e,n,i,r,s,o,a)}function Bm(t){return new Rs(t)}function mP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WP(t){return t.collectionGroup!==null}function Pu(t){let e=ve(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zt(Pn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ho(s,i))}),n.has(Pn.keyField().canonicalString())||e.ce.push(new Ho(Pn.keyField(),i))}return e.ce}function zi(t){let e=ve(t);return e.le||(e.le=_K(e,Pu(t))),e.le}function _K(t,e){if(t.limitType==="F")return pP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Ho(r.field,s)});let n=t.endAt?new Ic(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ic(t.startAt.position,t.startAt.inclusive):null;return pP(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function AE(t,e){let n=t.filters.concat([e]);return new Rs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ME(t,e,n){return new Rs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jm(t,e){return GI(zi(t),zi(e))&&t.limitType===e.limitType}function KP(t){return`${HI(zi(t))}|lt:${t.limitType}`}function fc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>zP(r)).join(", ")}]`),Vm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ec(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ec(r)).join(",")),`Target(${i})`}(zi(t))}; limitType=${t.limitType})`}function Um(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):de.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of Pu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=hP(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,Pu(i),r)||i.endAt&&!function(o,a,c){let u=hP(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,Pu(i),r))}(t,e)}function yK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QP(t){return(e,n)=>{let i=!1;for(let r of Pu(t)){let s=vK(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function vK(t,e,n){let i=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?bc(c,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}var Os=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Oc(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return BP(this.inner)}size(){return this.innerSize}};var wK=new gt(de.comparator);function Rr(){return wK}var YP=new gt(de.comparator);function Nu(...t){let e=YP;for(let n of t)e=e.insert(n.key,n);return e}function JP(t){let e=YP;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Lo(){return ku()}function ZP(){return ku()}function ku(){return new Os(t=>t.toString(),(t,e)=>t.isEqual(e))}var bK=new gt(de.comparator),EK=new Zt(de.comparator);function Re(...t){let e=EK;for(let n of t)e=e.add(n);return e}var IK=new Zt(Ue);function DK(){return IK}function XP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function ek(t){return{integerValue:""+t}}function TK(t,e){return lK(e)?ek(e):XP(t,e)}var Dc=class{constructor(){this._=void 0}};function SK(t,e,n){return t instanceof Tc?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&jI(s)&&(s=UI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Go?nk(t,e):t instanceof zo?ik(t,e):function(r,s){let o=tk(r,s),a=gP(o)+gP(r.Pe);return _E(o)&&_E(r.Pe)?ek(a):XP(r.serializer,a)}(t,e)}function CK(t,e,n){return t instanceof Go?nk(t,e):t instanceof zo?ik(t,e):n}function tk(t,e){return t instanceof Sc?function(i){return _E(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Tc=class extends Dc{},Go=class extends Dc{constructor(e){super(),this.elements=e}};function nk(t,e){let n=rk(e);for(let i of t.elements)n.some(r=>Wi(r,i))||n.push(i);return{arrayValue:{values:n}}}var zo=class extends Dc{constructor(e){super(),this.elements=e}};function ik(t,e){let n=rk(e);for(let i of t.elements)n=n.filter(r=>!Wi(r,i));return{arrayValue:{values:n}}}var Sc=class extends Dc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function gP(t){return mt(t.integerValue||t.doubleValue)}function rk(t){return $I(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AK(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Go&&r instanceof Go||i instanceof zo&&r instanceof zo?wc(i.elements,r.elements,Wi):i instanceof Sc&&r instanceof Sc?Wi(i.Pe,r.Pe):i instanceof Tc&&r instanceof Tc}(t.transform,e.transform)}var RE=class{constructor(e,n){this.version=e,this.transformResults=n}},Cs=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function rm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Cc=class{};function sk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ju(t.key,Cs.none()):new qo(t.key,t.data,Cs.none());{let n=t.data,i=ui.empty(),r=new Zt(Pn.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Or(t.key,i,new $i(r.toArray()),Cs.none())}}function MK(t,e,n){t instanceof qo?function(r,s,o){let a=r.value.clone(),c=yP(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Or?function(r,s,o){if(!rm(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=yP(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(ok(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fu(t,e,n,i){return t instanceof qo?function(s,o,a,c){if(!rm(s.precondition,o))return a;let u=s.value.clone(),d=vP(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Or?function(s,o,a,c){if(!rm(s.precondition,o))return a;let u=vP(s.fieldTransforms,c,o),d=o.data;return d.setAll(ok(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return rm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function RK(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=tk(i.transform,r||null);s!=null&&(n===null&&(n=ui.empty()),n.set(i.field,s))}return n||null}function _P(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&wc(i,r,(s,o)=>AK(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var qo=class extends Cc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Or=class extends Cc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function ok(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function yP(t,e,n){let i=new Map;Ye(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,CK(o,a,n[r]))}return i}function vP(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,SK(s,o,e))}return i}var ju=class extends Cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},OE=class extends Cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var NE=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&MK(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fu(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Fu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=ZP();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=sk(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,(n,i)=>_P(n,i))&&wc(this.baseMutations,e.baseMutations,(n,i)=>_P(n,i))}},xE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ye(e.mutations.length===i.length);let r=function(){return bK}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var PE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var kE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Mt,Pe;function OK(t){switch(t){default:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function ak(t){if(t===void 0)return Ar("GRPC error has no .code"),F.UNKNOWN;switch(t){case Mt.OK:return F.OK;case Mt.CANCELLED:return F.CANCELLED;case Mt.UNKNOWN:return F.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return F.INTERNAL;case Mt.UNAVAILABLE:return F.UNAVAILABLE;case Mt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Mt.NOT_FOUND:return F.NOT_FOUND;case Mt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Mt.ABORTED:return F.ABORTED;case Mt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Mt.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(Pe=Mt||(Mt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var wP=null;function NK(){return new TextEncoder}var xK=new Ss([4294967295,4294967295],0);function bP(t){let e=NK().encode(t),n=new Qb;return n.update(e),new Uint8Array(n.digest())}function EP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ss([n,i],0),new Ss([r,s],0)]}var FE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Vo(`Invalid padding: ${n}`);if(i<0)throw new Vo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ss.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Ss.fromNumber(i)));return r.compare(xK)===1&&(r=new Ss([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=bP(e),[i,r]=EP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=bP(e),[i,r]=EP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hm=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(be.min(),r,new gt(Ue),Rr(),Re())}},Uu=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Re(),Re(),Re())}};var _c=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},fm=class{constructor(e,n){this.targetId=e,this.me=n}},pm=class{constructor(e,n,i=cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},mm=class{constructor(){this.fe=0,this.ge=DP(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Re(),n=Re(),i=Re();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ge()}}),new Uu(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=DP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},LE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=IP(),this.Qe=new gt(Ue)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(CE(s))if(i===0){let o=new de(s.path);this.Ue(n,o,di.newNoDocument(o,be.min()))}else Ye(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}wP?.et(function(d,f,m,_,v){var D,A,x,j,q,B;let oe={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},H=f.unchangedNames;return H&&(oe.bloomFilter={applied:v===0,hashCount:(D=H?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(j=(x=(A=H?.bits)===null||A===void 0?void 0:A.bitmap)===null||x===void 0?void 0:x.length)!==null&&j!==void 0?j:0,padding:(B=(q=H?.bits)===null||q===void 0?void 0:q.padding)!==null&&B!==void 0?B:0,mightContain:I=>{var y;return(y=_?.mightContain(I))!==null&&y!==void 0&&y}}),oe}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=Ms(i).toUint8Array()}catch(c){if(c instanceof lm)return vc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new FE(o,r,s)}catch(c){return vc(c instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&CE(a.target)){let c=new de(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,di.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=Re();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new hm(e,n,this.Qe,this.ke,i);return this.ke=Rr(),this.qe=IP(),this.Qe=new gt(Ue),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new mm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function IP(){return new gt(de.comparator)}function DP(){return new gt(de.comparator)}var PK={asc:"ASCENDING",desc:"DESCENDING"},kK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FK={and:"AND",or:"OR"},VE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function BE(t,e){return t.useProto3Json||Vm(e)?e:{value:e}}function gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ck(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LK(t,e){return gm(t,e.toTimestamp())}function qi(t){return Ye(!!t),be.fromTimestamp(function(n){let i=Mr(n);return new Gt(i.seconds,i.nanos)}(t))}function zI(t,e){return jE(t,e).canonicalString()}function jE(t,e){let n=function(r){return new at(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lk(t){let e=at.fromString(t);return Ye(pk(e)),e}function UE(t,e){return zI(t.databaseId,e.path)}function nE(t,e){let n=lk(e);if(n.get(1)!==t.databaseId.projectId)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(dk(n))}function uk(t,e){return zI(t.databaseId,e)}function VK(t){let e=lk(t);return e.length===4?at.emptyPath():dk(e)}function $E(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dk(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TP(t,e,n){return{name:UE(t,e),fields:n.value.mapValue.fields}}function BK(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ye(d===void 0||typeof d=="string"),cn.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),cn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?F.UNKNOWN:ak(u.code);return new J(d,u.message||"")}(o);n=new pm(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=nE(t,i.document.name),s=qi(i.document.updateTime),o=i.document.createTime?qi(i.document.createTime):be.min(),a=new ui({mapValue:{fields:i.document.fields}}),c=di.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new _c(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=nE(t,i.document),s=i.readTime?qi(i.readTime):be.min(),o=di.newNoDocument(r,s),a=i.removedTargetIds||[];n=new _c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=nE(t,i.document),s=i.removedTargetIds||[];n=new _c([],s,r,null)}else{if(!("filter"in e))return ge();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new kE(r,s),a=i.targetId;n=new fm(a,o)}}return n}function jK(t,e){let n;if(e instanceof qo)n={update:TP(t,e.key,e.value)};else if(e instanceof ju)n={delete:UE(t,e.key)};else if(e instanceof Or)n={update:TP(t,e.key,e.data),updateMask:QK(e.fieldMask)};else{if(!(e instanceof OE))return ge();n={verify:UE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Go)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:LK(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function UK(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?qi(r.updateTime):qi(s);return o.isEqual(be.min())&&(o=qi(s)),new RE(o,r.transformResults||[])}(n,e))):[]}function $K(t,e){return{documents:[uk(t,e.path)]}}function HK(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uk(t,r);let s=function(u){if(u.length!==0)return fk(hi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:pc(m.field),direction:qK(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=BE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function GK(t){let e=VK(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ye(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let m=hk(f);return m instanceof hi&&HP(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(v){return new Ho(mc(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Vm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,_=f.values||[];return new Ic(_,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let m=!f.before,_=f.values||[];return new Ic(_,m)}(n.endAt)),gK(e,r,o,s,a,"F",c,u)}function zK(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=mc(n.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=mc(n.unaryFilter.field);return Ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=mc(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=mc(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(mc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(i=>hk(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function qK(t){return PK[t]}function WK(t){return kK[t]}function KK(t){return FK[t]}function pc(t){return{fieldPath:t.canonicalString()}}function mc(t){return Pn.fromServerFormat(t.fieldPath)}function fk(t){return t instanceof Ot?function(n){if(n.op==="=="){if(dP(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(uP(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dP(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(uP(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:WK(n.op),value:n.value}}}(t):t instanceof hi?function(n){let i=n.getFilters().map(r=>fk(r));return i.length===1?i[0]:{compositeFilter:{op:KK(n.op),filters:i}}}(t):ge()}function QK(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $u=class t{constructor(e,n,i,r,s=be.min(),o=be.min(),a=cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var HE=class{constructor(e){this.ct=e}};function YK(t){let e=GK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ME(e,e.limit,"L"):e}var _m=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(mt(e.integerValue));else if("doubleValue"in e){let i=mt(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Lu(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=Mr(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ms(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?jP(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ge()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),de.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};_m.bt=new _m;var GE=class{constructor(){this._n=new zE}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Uo.min())}updateCollectionGroup(e,n,i){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}},zE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Zt(at.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Zt(at.comparator)).toArray()}};var sde=new Uint8Array(0);var Ui=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(41943040,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);var Hu=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var qE=class{constructor(){this.changes=new Os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?$.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var WE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var KE=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Fu(i.mutation,r,$i.empty(),Gt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Re()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Re()){let r=Lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Nu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=Lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Re()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Rr(),o=ku(),a=function(){return ku()}();return n.forEach((c,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Or)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Fu(d.mutation,u,d.mutation.getFieldMask(),Gt.now())):o.set(u.key,$i.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new WE(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=ku(),r=new gt((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=i.get(c)||$i.empty();d=a.applyToLocalView(u,d),i.set(c,d);let f=(r.get(a.batchId)||Re()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=ZP();d.forEach(m=>{if(!s.has(m)){let _=sk(n.get(m),i.get(m));_!==null&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):$.resolve(Lo()),a=-1,c=s;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Re())).next(d=>({batchId:a,changes:JP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(i=>{let r=Nu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Nu();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,c=>{let u=function(f,m){return new Rs(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,di.newInvalidDocument(d)))});let a=Nu();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&Fu(d.mutation,u,$i.empty(),Gt.now()),Um(n,u)&&(a=a.insert(c,u))}),a})}};var QE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:qi(r.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:YK(r.bundledQuery),readTime:qi(r.readTime)}}(n)),$.resolve()}};var YE=class{constructor(){this.overlays=new gt(de.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Lo();return $.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),$.resolve()}getOverlaysForCollection(e,n,i){let r=Lo(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return $.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new gt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=Lo(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Lo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return $.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new PE(n,i));let s=this.hr.get(n);s===void 0&&(s=Re(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var Gu=class{constructor(){this.Pr=new Zt(Rt.Ir),this.Tr=new Zt(Rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Rt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Rt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new de(new at([])),i=new Rt(n,e),r=new Rt(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new de(new at([])),i=new Rt(n,e),r=new Rt(n,e+1),s=Re();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Rt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Rt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return de.comparator(e.key,n.key)||Ue(e.pr,n.pr)}static Er(e,n){return Ue(e.pr,n.pr)||de.comparator(e.key,n.key)}};var JE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Zt(Rt.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new NE(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Rt(n,0),r=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Zt(Ue);return n.forEach(r=>{let s=new Rt(r,0),o=new Rt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),$.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;de.isDocumentKey(s)||(s=s.child(""));let o=new Rt(new de(s),0),a=new Zt(Ue);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.pr)),!0)},o),$.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return $.forEach(n.mutations,r=>{let s=new Rt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Rt(n,0),r=this.wr.firstAfterOrEqual(i);return $.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ZE=class{constructor(e){this.vr=e,this.docs=function(){return new gt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return $.resolve(i?i.document.mutableCopy():di.newInvalidDocument(n))}getEntries(e,n){let i=Rr();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():di.newInvalidDocument(r))}),$.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Rr(),o=n.path,a=new de(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oK(sK(d),i)<=0||(r.has(d.key)||Um(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ge()}Fr(e,n){return $.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new XE(this)}getSize(e){return $.resolve(this.size)}},XE=class extends qE{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var eI=class{constructor(e){this.persistence=e,this.Mr=new Os(n=>HI(n),GI),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Gu,this.targetCount=0,this.Lr=Hu.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Hu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),$.waitFor(s).next(()=>r)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return $.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),$.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return $.resolve(i)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}};var tI=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new VP(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new eI(this),this.indexManager=new GE,this.remoteDocumentCache=function(r){return new ZE(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new HE(n),this.$r=new QE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new JE(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){X("MemoryPersistence","Starting transaction:",e);let r=new nI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return $.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},nI=class extends pE{constructor(e){super(),this.currentSequenceNumber=e}},iI=class t{constructor(e){this.persistence=e,this.zr=new Gu,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),$.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,i=>{let r=de.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,be.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var rI=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Re(),r=Re();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var sI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var oI=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return LN()?8:cK(xt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new sI;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Ou()<=Me.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",fc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(Ou()<=Me.DEBUG&&X("QueryEngine","Query:",fc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Ou()<=Me.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",fc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):$.resolve())}ji(e,n){if(mP(n))return $.resolve(null);let i=zi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ME(n,null,"F"),i=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Re(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,ME(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,i,r){return mP(n)||r.isEqual(be.min())?$.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?$.resolve(null):(Ou()<=Me.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fc(n)),this.es(e,o,n,rK(r,-1)).next(a=>a))})}Zi(e,n){let i=new Zt(QP(e));return n.forEach((r,s)=>{Um(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Ou()<=Me.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",fc(n)),this.zi.getDocumentsMatchingQuery(e,n,Uo.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var aI=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new gt(Ue),this.rs=new Os(s=>HI(s),GI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function JK(t,e,n,i){return new aI(t,e,n,i)}function mk(t,e){return E(this,null,function*(){let n=ve(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Re();for(let u of r){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function ZK(t,e){let n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),_=$.resolve();return m.forEach(v=>{_=_.next(()=>d.getEntry(c,v)).next(D=>{let A=u.docVersions.get(v);Ye(A!==null),D.version.compareTo(A)<0&&(f.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function gk(t){let e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XK(t,e){let n=ve(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(cn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(f,_),function(D,A,x){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,_,d)&&a.push(n.Qr.updateTargetData(s,_))});let c=Rr(),u=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(e7(s,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!i.isEqual(be.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=r,s))}function e7(t,e,n){let i=Re(),r=Re();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Rr();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:r}})}function t7(t,e){let n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function n7(t,e){let n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,$.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new $u(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function cI(t,e,n){return E(this,null,function*(){let i=ve(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Yu(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function SP(t,e,n){let i=ve(t),r=be.min(),s=Re();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let f=ve(c),m=f.rs.get(d);return m!==void 0?$.resolve(f.ns.get(m)):f.Qr.getTargetData(u,d)}(i,o,zi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:be.min(),n?s:Re())).next(a=>(i7(i,yK(e),a),{documents:a,hs:s})))}function i7(t,e,n){let i=t.ss.get(e)||be.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var ym=class{constructor(){this.activeTargetIds=DK()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lI=class{constructor(){this.no=new ym,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ym,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var uI=class{io(e){}shutdown(){}};var vm=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nm=null;function iE(){return nm===null?nm=function(){return 268435456+Math.round(2147483648*Math.random())}():nm++,"0x"+nm.toString(16)}var r7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var dI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Jt="WebChannelConnection",hI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=iE(),c=this.vo(n,i.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,r).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw vc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=r7[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=iE();return new Promise((o,a)=>{let c=new Yb;c.setWithCredentials(!0),c.listenOnce(Zb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ru.NO_ERROR:let d=c.getResponseJson();X(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ru.TIMEOUT:X(Jt,`RPC '${e}' ${s} timed out`),a(new J(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:let f=c.getStatus();if(X(Jt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let v=function(A){let x=A.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(x)>=0?x:F.UNKNOWN}(_.status);a(new J(v,_.message))}else a(new J(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new J(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{X(Jt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);X(Jt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}Oo(e,n,i){let r=iE(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tE(),a=eE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Jb({})),this.Fo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=s.join("");X(Jt,`Creating RPC '${e}' stream ${r}: ${d}`,c);let f=o.createWebChannel(d,c),m=!1,_=!1,v=new dI({lo:A=>{_?X(Jt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(m||(X(Jt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),X(Jt,`RPC '${e}' stream ${r} sending:`,A),f.send(A))},ho:()=>f.close()}),D=(A,x,j)=>{A.listen(x,q=>{try{j(q)}catch(B){setTimeout(()=>{throw B},0)}})};return D(f,hc.EventType.OPEN,()=>{_||(X(Jt,`RPC '${e}' stream ${r} transport opened.`),v.mo())}),D(f,hc.EventType.CLOSE,()=>{_||(_=!0,X(Jt,`RPC '${e}' stream ${r} transport closed`),v.po())}),D(f,hc.EventType.ERROR,A=>{_||(_=!0,vc(Jt,`RPC '${e}' stream ${r} transport errored:`,A),v.po(new J(F.UNAVAILABLE,"The operation could not be completed")))}),D(f,hc.EventType.MESSAGE,A=>{var x;if(!_){let j=A.data[0];Ye(!!j);let q=j,B=q.error||((x=q[0])===null||x===void 0?void 0:x.error);if(B){X(Jt,`RPC '${e}' stream ${r} received error:`,B);let oe=B.status,H=function(w){let T=Mt[w];if(T!==void 0)return ak(T)}(oe),I=B.message;H===void 0&&(H=F.INTERNAL,I="Unknown error status: "+oe+" with message "+B.message),_=!0,v.po(new J(H,I)),f.close()}else X(Jt,`RPC '${e}' stream ${r} received:`,j),v.yo(j)}}),D(a,Xb.STAT_EVENT,A=>{A.stat===em.PROXY?X(Jt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===em.NOPROXY&&X(Jt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}};function rE(){return typeof document<"u"?document:null}function $m(t){return new VE(t,!0)}var wm=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&X("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var bm=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new wm(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return E(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return E(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return E(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new J(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>E(this,null,function*(){this.state=0,this.start()}))}c_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},fI=class extends bm{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=BK(this.serializer,e),i=function(s){if(!("targetChange"in s))return be.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?qi(o.readTime):be.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=$E(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=CE(c)?{documents:$K(s,c)}:{query:HK(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ck(s,o.resumeToken);let u=BE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=gm(s,o.snapshotVersion.toTimestamp());let u=BE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=zK(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=$E(this.serializer),n.removeTarget=e,this.i_(n)}},pI=class extends bm{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=UK(e.writeResults,e.commitTime),i=qi(e.commitTime);return this.listener.A_(i,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=$E(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>jK(this.serializer,i))};this.i_(n)}};var mI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,jE(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(F.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,jE(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(F.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},gI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ar(n),this.y_=!1):X("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var _I=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>E(this,null,function*(){Ko(this)&&(X("RemoteStore","Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let u=ve(c);u.M_.add(4),yield Ju(u),u.N_.set("Unknown"),u.M_.delete(4),yield Hm(u)})}(this))}))}),this.N_=new gI(i,r)}};function Hm(t){return E(this,null,function*(){if(Ko(t))for(let e of t.x_)yield e(!0)})}function Ju(t){return E(this,null,function*(){for(let e of t.x_)yield e(!1)})}function _k(t,e){let n=ve(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),QI(n)?KI(n):Nc(n).Xo()&&WI(n,e))}function qI(t,e){let n=ve(t),i=Nc(n);n.F_.delete(e),i.Xo()&&yk(n,e),n.F_.size===0&&(i.Xo()?i.n_():Ko(n)&&n.N_.set("Unknown"))}function WI(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nc(t).P_(e)}function yk(t,e){t.L_.xe(e),Nc(t).I_(e)}function KI(t){t.L_=new LE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Nc(t).start(),t.N_.w_()}function QI(t){return Ko(t)&&!Nc(t).Zo()&&t.F_.size>0}function Ko(t){return ve(t).M_.size===0}function vk(t){t.L_=void 0}function s7(t){return E(this,null,function*(){t.N_.set("Online")})}function o7(t){return E(this,null,function*(){t.F_.forEach((e,n)=>{WI(t,e)})})}function a7(t,e){return E(this,null,function*(){vk(t),QI(t)?(t.N_.D_(e),KI(t)):t.N_.set("Unknown")})}function c7(t,e,n){return E(this,null,function*(){if(t.N_.set("Online"),e instanceof pm&&e.state===2&&e.cause)try{yield function(r,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Em(t,i)}else if(e instanceof _c?t.L_.Ke(e):e instanceof fm?t.L_.He(e):t.L_.We(e),!n.isEqual(be.min()))try{let i=yield gk(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(cn.EMPTY_BYTE_STRING,d.snapshotVersion)),yk(s,c);let f=new $u(d.target,c,u,d.sequenceNumber);WI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){X("RemoteStore","Failed to raise snapshot:",i),yield Em(t,i)}})}function Em(t,e,n){return E(this,null,function*(){if(!Yu(e))throw e;t.M_.add(1),yield Ju(t),t.N_.set("Offline"),n||(n=()=>gk(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){X("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Hm(t)}))})}function wk(t,e){return e().catch(n=>Em(t,n,e))}function Gm(t){return E(this,null,function*(){let e=ve(t),n=Ns(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;l7(e);)try{let r=yield t7(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,u7(e,r)}catch(r){yield Em(e,r)}bk(e)&&Ek(e)})}function l7(t){return Ko(t)&&t.v_.length<10}function u7(t,e){t.v_.push(e);let n=Ns(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function bk(t){return Ko(t)&&!Ns(t).Zo()&&t.v_.length>0}function Ek(t){Ns(t).start()}function d7(t){return E(this,null,function*(){Ns(t).V_()})}function h7(t){return E(this,null,function*(){let e=Ns(t);for(let n of t.v_)e.d_(n.mutations)})}function f7(t,e,n){return E(this,null,function*(){let i=t.v_.shift(),r=xE.from(i,e,n);yield wk(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Gm(t)})}function p7(t,e){return E(this,null,function*(){e&&Ns(t).E_&&(yield function(i,r){return E(this,null,function*(){if(function(o){return OK(o)&&o!==F.ABORTED}(r.code)){let s=i.v_.shift();Ns(i).t_(),yield wk(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Gm(i)}})}(t,e)),bk(t)&&Ek(t)})}function CP(t,e){return E(this,null,function*(){let n=ve(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");let i=Ko(n);n.M_.add(3),yield Ju(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Hm(n)})}function m7(t,e){return E(this,null,function*(){let n=ve(t);e?(n.M_.delete(2),yield Hm(n)):e||(n.M_.add(2),yield Ju(n),n.N_.set("Unknown"))})}function Nc(t){return t.B_||(t.B_=function(n,i,r){let s=ve(n);return s.f_(),new fI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:s7.bind(null,t),To:o7.bind(null,t),Ao:a7.bind(null,t),h_:c7.bind(null,t)}),t.x_.push(e=>E(this,null,function*(){e?(t.B_.t_(),QI(t)?KI(t):t.N_.set("Unknown")):(yield t.B_.stop(),vk(t))}))),t.B_}function Ns(t){return t.k_||(t.k_=function(n,i,r){let s=ve(n);return s.f_(),new pI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:d7.bind(null,t),Ao:p7.bind(null,t),R_:h7.bind(null,t),A_:f7.bind(null,t)}),t.x_.push(e=>E(this,null,function*(){e?(t.k_.t_(),yield Gm(t)):(yield t.k_.stop(),t.v_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var yI=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function YI(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),Yu(t))return new J(F.UNAVAILABLE,`${e}: ${t}`);throw t}var Im=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||de.comparator(n.key,i.key):(n,i)=>de.comparator(n.key,i.key),this.keyedMap=Nu(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Dm=class{constructor(){this.q_=new gt(de.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ge():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},Ac=class t{constructor(e,n,i,r,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Im.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var vI=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},wI=class{constructor(){this.queries=new Os(e=>KP(e),jm),this.onlineState="Unknown",this.z_=new Set}};function Ik(t,e){return E(this,null,function*(){let n=ve(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new vI,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=YI(o,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&JI(n)})}function Dk(t,e){return E(this,null,function*(){let n=ve(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function g7(t,e){let n=ve(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&JI(n)}function _7(t,e,n){let i=ve(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function JI(t){t.z_.forEach(e=>{e.next()})}var bI,AP;(AP=bI||(bI={})).J_="default",AP.Cache="cache";var Tm=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ac(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==bI.Cache}};var Sm=class{constructor(e){this.key=e}},Cm=class{constructor(e){this.key=e}},EI=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Re(),this.mutatedKeys=Re(),this.Ia=QP(e),this.Ta=new Im(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new Dm,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),_=Um(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),A=!1;m&&_?m.data.isEqual(_.data)?v!==D&&(i.track({type:3,doc:_}),A=!0):this.Ra(m,_)||(i.track({type:2,doc:_}),A=!0,(c&&this.Ia(_,c)>0||u&&this.Ia(_,u)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),A=!0):m&&!_&&(i.track({type:1,doc:m}),A=!0,(c||u)&&(a=!0)),A&&(_?(o=o.add(_),s=D?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(_,v){let D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return D(_)-D(v)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new Ac(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Dm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Re(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new Cm(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new Sm(i))}),n}pa(e){this.la=e.hs,this.Pa=Re();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Ac.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},II=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},DI=class{constructor(e){this.key=e,this.wa=!1}},TI=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Os(a=>KP(a),jm),this.Da=new Map,this.Ca=new Set,this.va=new gt(de.comparator),this.Fa=new Map,this.Ma=new Gu,this.xa={},this.Oa=new Map,this.Na=Hu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function y7(t,e,n=!0){return E(this,null,function*(){let i=Rk(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield Tk(i,e,n,!0),r})}function v7(t,e){return E(this,null,function*(){let n=Rk(t);yield Tk(n,e,!0,!1)})}function Tk(t,e,n,i){return E(this,null,function*(){let r=yield n7(t.localStore,zi(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield w7(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&_k(t.remoteStore,r),a})}function w7(t,e,n,i,r){return E(this,null,function*(){t.Ba=(f,m,_)=>function(D,A,x,j){return E(this,null,function*(){let q=A.view.da(x);q.Xi&&(q=yield SP(D.localStore,A.query,!1).then(({documents:I})=>A.view.da(I,q)));let B=j&&j.targetChanges.get(A.targetId),oe=j&&j.targetMismatches.get(A.targetId)!=null,H=A.view.applyChanges(q,D.isPrimaryClient,B,oe);return RP(D,A.targetId,H.fa),H.snapshot})}(t,f,m,_);let s=yield SP(t.localStore,e,!0),o=new EI(e,s.hs),a=o.da(s.documents),c=Uu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);RP(t,n,u.fa);let d=new II(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function b7(t,e,n){return E(this,null,function*(){let i=ve(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!jm(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cI(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&qI(i.remoteStore,r.targetId),SI(i,r.targetId)}).catch(Qu))):(SI(i,r.targetId),yield cI(i.localStore,r.targetId,!0))})}function E7(t,e){return E(this,null,function*(){let n=ve(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),qI(n.remoteStore,i.targetId))})}function I7(t,e,n){return E(this,null,function*(){let i=R7(t);try{let r=yield function(o,a){let c=ve(o),u=Gt.now(),d=a.reduce((_,v)=>_.add(v.key),Re()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Rr(),D=Re();return c.os.getEntries(_,d).next(A=>{v=A,v.forEach((x,j)=>{j.isValidDocument()||(D=D.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,v)).next(A=>{f=A;let x=[];for(let j of a){let q=RK(j,f.get(j.key).overlayedDocument);q!=null&&x.push(new Or(j.key,q,UP(q.value.mapValue),Cs.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,x,a)}).next(A=>{m=A;let x=A.applyToLocalDocumentSet(f,D);return c.documentOverlayCache.saveOverlays(_,A.batchId,x)})}).then(()=>({batchId:m.batchId,changes:JP(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new gt(Ue)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(i,r.batchId,n),yield Zu(i,r.changes),yield Gm(i.remoteStore)}catch(r){let s=YI(r,"Failed to persist write");n.reject(s)}})}function Sk(t,e){return E(this,null,function*(){let n=ve(t);try{let i=yield XK(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(Ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Ye(o.wa):r.removedDocuments.size>0&&(Ye(o.wa),o.wa=!1))}),yield Zu(n,i,e)}catch(i){yield Qu(i)}})}function MP(t,e,n){let i=ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=ve(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.U_)m.j_(a)&&(u=!0)}),u&&JI(c)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function D7(t,e,n){return E(this,null,function*(){let i=ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new gt(de.comparator);o=o.insert(s,di.newNoDocument(s,be.min()));let a=Re().add(s),c=new hm(be.min(),new Map,new gt(Ue),o,a);yield Sk(i,c),i.va=i.va.remove(s),i.Fa.delete(e),ZI(i)}else yield cI(i.localStore,e,!1).then(()=>SI(i,e,n)).catch(Qu)})}function T7(t,e){return E(this,null,function*(){let n=ve(t),i=e.batch.batchId;try{let r=yield ZK(n.localStore,e);Ak(n,i,null),Ck(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Zu(n,r)}catch(r){yield Qu(r)}})}function S7(t,e,n){return E(this,null,function*(){let i=ve(t);try{let r=yield function(o,a){let c=ve(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ye(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);Ak(i,e,n),Ck(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Zu(i,r)}catch(r){yield Qu(r)}})}function Ck(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Ak(t,e,n){let i=ve(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function SI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||Mk(t,i)})}function Mk(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(qI(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),ZI(t))}function RP(t,e,n){for(let i of n)i instanceof Sm?(t.Ma.addReference(i.key,e),C7(t,i)):i instanceof Cm?(X("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||Mk(t,i.key)):ge()}function C7(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(X("SyncEngine","New document in limbo: "+n),t.Ca.add(i),ZI(t))}function ZI(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new de(at.fromString(e)),i=t.Na.next();t.Fa.set(i,new DI(n)),t.va=t.va.insert(n,i),_k(t.remoteStore,new $u(zi(Bm(n.path)),i,"TargetPurposeLimboResolution",VP.oe))}}function Zu(t,e,n){return E(this,null,function*(){let i=ve(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){let f=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);let f=rI.Ki(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(c,u){return E(this,null,function*(){let d=ve(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,m=>$.forEach(m.qi,_=>d.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>$.forEach(m.Qi,_=>d.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!Yu(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let _=d.ns.get(m),v=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(v);d.ns=d.ns.insert(m,D)}}})}(i.localStore,s))})}function A7(t,e){return E(this,null,function*(){let n=ve(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());let i=yield mk(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new J(F.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zu(n,i.us)}})}function M7(t,e){let n=ve(t),i=n.Fa.get(e);if(i&&i.wa)return Re().add(i.key);{let r=Re(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function Rk(t){let e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D7.bind(null,e),e.Sa.h_=g7.bind(null,e.eventManager),e.Sa.ka=_7.bind(null,e.eventManager),e}function R7(t){let e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S7.bind(null,e),e}var Am=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=$m(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JK(this.persistence,new oI,e.initialUser,this.serializer)}createPersistence(e){return new tI(iI.Hr,this.serializer)}createSharedClientState(e){return new lI}terminate(){return E(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var CI=class{initialize(e,n){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>MP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A7.bind(null,this.syncEngine),yield m7(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new wI}()}createDatastore(e){let n=$m(e.databaseInfo.databaseId),i=function(s){return new hI(s)}(e.databaseInfo);return function(s,o,a,c){return new mI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new _I(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>MP(this.syncEngine,n,0),function(){return vm.D()?new vm:new uI}())}createSyncEngine(e,n){return function(r,s,o,a,c,u,d){let f=new TI(r,s,o,a,c,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return E(this,null,function*(){var e;yield function(i){return E(this,null,function*(){let r=ve(i);X("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Ju(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Mm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var AI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Lt.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>E(this,null,function*(){X("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=YI(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function sE(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield mk(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function OP(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield N7(t);X("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>CP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>CP(e.remoteStore,r)),t._onlineComponents=e})}function O7(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function N7(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!O7(n))throw n;vc("Error using user provided cache. Falling back to memory cache: "+n),yield sE(t,new Am)}}else X("FirestoreClient","Using default OfflineComponentProvider"),yield sE(t,new Am);return t._offlineComponents})}function Ok(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),yield OP(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),yield OP(t,new CI))),t._onlineComponents})}function x7(t){return Ok(t).then(e=>e.syncEngine)}function MI(t){return E(this,null,function*(){let e=yield Ok(t),n=e.eventManager;return n.onListen=y7.bind(null,e.syncEngine),n.onUnlisten=b7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E7.bind(null,e.syncEngine),n})}function P7(t,e,n={}){let i=new Hi;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,c,u){let d=new Mm({next:m=>{o.enqueueAndForget(()=>Dk(s,f));let _=m.docs.has(a);!_&&m.fromCache?u.reject(new J(F.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&c&&c.source==="server"?u.reject(new J(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Tm(Bm(a.path),d,{includeMetadataChanges:!0,ra:!0});return Ik(s,f)}(yield MI(t),t.asyncQueue,e,n,i)})),i.promise}function Nk(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var NP=new Map;function xk(t,e,n){if(!n)throw new J(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k7(t,e,n,i){if(e===!0&&i===!0)throw new J(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xP(t){if(!de.isDocumentKey(t))throw new J(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PP(t){if(de.isDocumentKey(t))throw new J(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=zm(t);throw new J(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Rm=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new J(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Mc=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rm(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oE;switch(i.type){case"firstParty":return new uE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new J(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=NP.get(n);i&&(X("ComponentProvider","Removing Datastore"),NP.delete(n),i.terminate())}(this),Promise.resolve()}};function Pk(t,e,n,i={}){var r;let s=(t=Cr(t,Mc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Lt.MOCK_USER;else{a=Tp(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new J(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Lt(u)}t._authCredentials=new aE(new sm(a,c))}}var Wo=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},an=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},As=class t extends Wo{constructor(e,n,i){super(e,n,Bm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new de(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function kk(t,e,...n){if(t=At(t),xk("collection","path",e),t instanceof Mc){let i=at.fromString(e,...n);return PP(i),new As(t,null,i)}{if(!(t instanceof an||t instanceof As))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(at.fromString(e,...n));return PP(i),new As(t.firestore,null,i)}}function Fk(t,e,...n){if(t=At(t),arguments.length===1&&(e=om.newId()),xk("doc","path",e),t instanceof Mc){let i=at.fromString(e,...n);return xP(i),new an(t,null,new de(i))}{if(!(t instanceof an||t instanceof As))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(at.fromString(e,...n));return xP(i),new an(t.firestore,t instanceof As?t.converter:null,new de(i))}}var RI=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new wm(this,"async_queue_retry"),this.hu=()=>{let n=rE();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=rE();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=rE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Hi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return E(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Yu(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ar("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=yI.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ge()}verifyOperationInProgress(){}du(){return E(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function kP(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var xs=class extends Mc{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new RI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vk(this),this._firestoreClient.terminate()}};function Lk(t,e){let n=typeof t=="object"?t:vs(),i=typeof t=="string"?t:e||"(default)",r=Ao(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=Dp("firestore");s&&Pk(r,...s)}return r}function XI(t){return t._firestoreClient||Vk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Vk(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,u,d){return new mE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nk(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new AI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var zu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(cn.fromBase64String(e))}catch(n){throw new J(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var qu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Om=class{constructor(e){this._methodName=e}};var Wu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}};var F7=/^__.*__$/,OI=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new qo(e,this.data,n,this.fieldTransforms)}};function Bk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var NI=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Nm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Bk(this.fu)&&F7.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},xI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||$m(e)}Fu(e,n,i,r=!1){return new NI({fu:e,methodName:n,vu:i,path:Pn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function jk(t){let e=t._freezeSettings(),n=$m(t._databaseId);return new xI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L7(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);Hk("Data must be an object, but it was:",o,i);let a=Uk(i,o),c,u;if(s.merge)c=new $i(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=B7(e,f,n);if(!o.contains(m))throw new J(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);U7(d,m)||d.push(m)}c=new $i(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new OI(new ui(a),c,u)}function V7(t,e,n,i=!1){return eD(n,t.Fu(i?4:3,e))}function eD(t,e){if($k(t=At(t)))return Hk("Unsupported field value:",e,t),Uk(t,e);if(t instanceof Om)return function(i,r){if(!Bk(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=eD(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=At(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TK(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Gt.fromDate(i);return{timestampValue:gm(r.serializer,s)}}if(i instanceof Gt){let s=new Gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gm(r.serializer,s)}}if(i instanceof Wu)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zu)return{bytesValue:ck(r.serializer,i._byteString)};if(i instanceof an){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zI(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${zm(i)}`)}(t,e)}function Uk(t,e){let n={};return BP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oc(t,(i,r)=>{let s=eD(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function $k(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Wu||t instanceof zu||t instanceof an||t instanceof Om)}function Hk(t,e,n){if(!$k(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=zm(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function B7(t,e,n){if((e=At(e))instanceof qu)return e._internalPath;if(typeof e=="string")return Gk(t,e);throw Nm("Field path arguments must be of type string or ",t,!1,void 0,n)}var j7=new RegExp("[~\\*/\\[\\]]");function Gk(t,e,n){if(e.search(j7)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qu(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nm(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new J(F.INVALID_ARGUMENT,a+t+c)}function U7(t,e){return t.some(n=>n.isEqual(e))}var xm=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(qm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},PI=class extends xm{data(){return super.data()}};function qm(t,e){return typeof e=="string"?Gk(t,e):e instanceof qu?e._internalPath:e._delegate._internalPath}function $7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ku=class{},Pm=class extends Ku{};function zk(t,e,...n){let i=[];e instanceof Ku&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof kI).length,a=s.filter(c=>c instanceof km).length;if(o>1||o>0&&a>0)throw new J(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var km=class t extends Pm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return Kk(e._query,n),new Wo(e.firestore,e.converter,AE(e._query,n))}_parse(e){let n=jk(e.firestore);return function(s,o,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){LP(f,d);let _=[];for(let v of f)_.push(FP(c,s,v));m={arrayValue:{values:_}}}else m=FP(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||LP(f,d),m=V7(a,o,f,d==="in"||d==="not-in");return Ot.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function qk(t,e,n){let i=e,r=qm("where",t);return km._create(r,i,n)}var kI=class t extends Ku{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)Kk(o,c),o=AE(o,c)}(e._query,n),new Wo(e.firestore,e.converter,AE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var FI=class t extends Pm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ho(s,o)}(e._query,this._field,this._direction);return new Wo(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Rs(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function Wk(t,e="asc"){let n=e,i=qm("orderBy",t);return FI._create(i,n)}function FP(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WP(e)&&n.indexOf("/")!==-1)throw new J(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(at.fromString(n));if(!de.isDocumentKey(i))throw new J(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lP(t,new de(i))}if(n instanceof an)return lP(t,n._key);throw new J(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(n)}.`)}function LP(t,e){if(!Array.isArray(t)||t.length===0)throw new J(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kk(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var LI=class{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Oc(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Wu(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=UI(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){let n=Mr(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=at.fromString(e);Ye(pk(i));let r=new um(i.get(1),i.get(3)),s=new de(i.popFirst(5));return r.isEqual(n)||Ar(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function H7(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Bo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fm=class extends xm{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(qm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},yc=class extends Fm{data(e={}){return super.data(e)}},VI=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Bo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new yc(this._firestore,this._userDataWriter,i.key,i,new Bo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new yc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new yc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:G7(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function G7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function Qk(t){t=Cr(t,an);let e=Cr(t.firestore,xs);return P7(XI(e),t._key).then(n=>Xk(e,t,n))}var Lm=class extends LI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}};function Yk(t,e,n){t=Cr(t,an);let i=Cr(t.firestore,xs),r=H7(t.converter,e,n);return Zk(i,[L7(jk(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Cs.none())])}function Jk(t){return Zk(Cr(t.firestore,xs),[new ju(t._key,Cs.none())])}function tD(t,...e){var n,i,r;t=At(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||kP(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kP(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,u,d;if(t instanceof an)u=Cr(t.firestore,xs),d=Bm(t._key.path),c={next:f=>{e[o]&&e[o](Xk(u,t,f))},error:e[o+1],complete:e[o+2]};else{let f=Cr(t,Wo);u=Cr(f.firestore,xs),d=f._query;let m=new Lm(u);c={next:_=>{e[o]&&e[o](new VI(u,m,f,_))},error:e[o+1],complete:e[o+2]},$7(t._query)}return function(m,_,v,D){let A=new Mm(D),x=new Tm(_,A,v);return m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Ik(yield MI(m),x)})),()=>{A.$a(),m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Dk(yield MI(m),x)}))}}(XI(u),d,a,c)}function Zk(t,e){return function(i,r){let s=new Hi;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return I7(yield x7(i),r,s)})),s.promise}(XI(t),e)}function Xk(t,e,n){let i=n.docs.get(e._key),r=new Lm(t);return new Fm(t,r,e._key,i,new Bo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Rc=r})(Vi),Fi(new _n("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new xs(new cE(i.getProvider("auth-internal")),new hE(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new um(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),it(oP,"4.6.4",e),it(oP,"4.6.4","esm2017")})();var Wm=function(){return Wm=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wm.apply(this,arguments)};var W7={includeMetadataChanges:!1};function nD(t,e){return e===void 0&&(e=W7),new ie(function(n){var i=tD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function eF(t){return nD(t,{includeMetadataChanges:!0})}function tF(t,e){return e===void 0&&(e={}),eF(t).pipe(K(function(n){return iD(n,e)}))}function iD(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Wm(Wm({},i),(n={},n[e.idField]=t.id,n))}function nF(t){return nD(t,{includeMetadataChanges:!0}).pipe(K(function(e){return e.docs}))}function iF(t,e){return e===void 0&&(e={}),nF(t).pipe(K(function(n){return n.map(function(i){return iD(i,e)})}))}var kn=class{constructor(e){return e}},rF="firestore",rD=class{constructor(){return Ro(rF)}};var sD=new k("angularfire2.firestore-instances");function K7(t,e){let n=lc(rF,t,e);return n&&new kn(n)}function Q7(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new kn(i)}}var Y7={provide:rD,deps:[[new Dt,sD]]},J7={provide:kn,useFactory:K7,deps:[[new Dt,sD],li]};function sF(t,...e){return it("angularfire",Er.full,"fst"),Qt([J7,Y7,{provide:sD,useFactory:Q7(t),multi:!0,deps:[he,qe,bs,Ir,[new Dt,Fo],[new Dt,ws],...e]}])}var Ps=Tt(iF,!0);var oD=Tt(tF,!0);var Nr=Tt(kk,!0);var Km=Tt(Jk,!0);var Ki=Tt(Fk,!0);var oF=Tt(Qk,!0);var aF=Tt(Lk,!0);var Xu=Tt(Wk,!0);var ks=Tt(zk,!0);var Qm=Tt(Yk,!0);var Ym=Tt(qk,!0);var fF="firebasestorage.googleapis.com",Z7="storageBucket",X7=2*60*1e3,eQ=10*60*1e3;var Qi=class t extends on{constructor(e,n,i=0){super(aD(e),`Firebase Storage: ${n} (${aD(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Pr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Pr||{});function aD(t){return"storage/"+t}function tQ(){let t="An unknown error occurred, please check the error payload for server response.";return new Qi(Pr.UNKNOWN,t)}function nQ(){return new Qi(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iQ(){return new Qi(Pr.CANCELED,"User canceled the upload/download.")}function rQ(t){return new Qi(Pr.INVALID_URL,"Invalid URL '"+t+"'.")}function sQ(t){return new Qi(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cF(t){return new Qi(Pr.INVALID_ARGUMENT,t)}function pF(){return new Qi(Pr.APP_DELETED,"The Firebase app was deleted.")}function oQ(t){return new Qi(Pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var xr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw sQ(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}let d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${d}/b/${r}/o${m}`,"i"),v={bucket:1,path:3},D=n===fF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",x=new RegExp(`^https?://${D}/${r}/${A}`,"i"),q=[{regex:a,indices:c,postModify:s},{regex:_,indices:v,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<q.length;B++){let oe=q[B],H=oe.regex.exec(e);if(H){let I=H[oe.indices.bucket],y=H[oe.indices.path];y||(y=""),i=new t(I,y),oe.postModify(i);break}}if(i==null)throw rQ(e);return i}},cD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function aQ(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(...A){u||(u=!0,e.apply(null,A))}function f(A){r=setTimeout(()=>{r=null,t(_,c())},A)}function m(){s&&clearTimeout(s)}function _(A,...x){if(u){m();return}if(A){m(),d.call(null,A,...x);return}if(c()||o){m(),d.call(null,A,...x);return}i<64&&(i*=2);let q;a===1?(a=2,q=0):q=(i+Math.random())*1e3,f(q)}let v=!1;function D(A){v||(v=!0,m(),!u&&(r!==null?(A||(a=2),clearTimeout(r),f(0)):A||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,D(!0)},n),D}function cQ(t){t(!1)}function lQ(t){return t!==void 0}function lF(t,e,n,i){if(i<e)throw cF(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw cF(`Invalid value for '${t}'. Expected ${n} or less.`)}function uQ(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var lD=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(lD||{});function dQ(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}var uD=class{constructor(e,n,i,r,s,o,a,c,u,d,f,m=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,v)=>{this.resolve_=_,this.reject_=v,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new xc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===lD.NO_ERROR,c=s.getStatus();if(!a||dQ(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===lD.ABORT;i(!1,new xc(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;i(!0,new xc(u,s))})},n=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());lQ(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=tQ();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(r.canceled){let c=this.appDelete_?pF():iQ();o(c)}else{let c=nQ();o(c)}};this.canceled_?n(!1,new xc(!1,null,!0)):this.backoffId_=aQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},xc=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function hQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gQ(t,e,n,i,r,s,o=!0){let a=uQ(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return pQ(u,e),hQ(u,n),fQ(u,s),mQ(u,i),new uD(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function _Q(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yQ(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var khe=256*1024;var dD=class t{constructor(e,n){this._service=e,n instanceof xr?this._location=n:this._location=xr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yQ(this._location.path)}get storage(){return this._service}get parent(){let e=_Q(this._location.path);if(e===null)return null;let n=new xr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oQ(e)}};function uF(t,e){let n=e?.[Z7];return n==null?null:xr.makeFromBucketSpec(n,t)}function vQ(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:Tp(r,t.app.options.projectId))}var hD=class{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=fF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X7,this._maxUploadRetryTime=eQ,this._requests=new Set,r!=null?this._bucket=xr.makeFromBucketSpec(r,this._host):this._bucket=uF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xr.makeFromBucketSpec(this._url,e):this._bucket=uF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return E(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return E(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dD(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new cD(pF());{let o=gQ(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return E(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},dF="@firebase/storage",hF="0.12.6";var mF="storage";function gF(t=vs(),e){t=At(t);let i=Ao(t,mF).getImmediate({identifier:e}),r=Dp("storage");return r&&_F(i,...r),i}function _F(t,e,n,i={}){vQ(t,e,n,i)}function wQ(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new hD(n,i,r,e,Vi)}function bQ(){Fi(new _n(mF,wQ,"PUBLIC").setMultipleInstances(!0)),it(dF,hF,""),it(dF,hF,"esm2017")}bQ();var ed=class{constructor(e){return e}},yF="storage",fD=class{constructor(){return Ro(yF)}};var pD=new k("angularfire2.storage-instances");function EQ(t,e){let n=lc(yF,t,e);return n&&new ed(n)}function IQ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ed(i)}}var DQ={provide:fD,deps:[[new Dt,pD]]},TQ={provide:ed,useFactory:EQ,deps:[[new Dt,pD],li]};function vF(t,...e){return it("angularfire",Er.full,"gcs"),Qt([TQ,DQ,{provide:pD,useFactory:IQ(t),multi:!0,deps:[he,qe,bs,Ir,[new Dt,Fo],[new Dt,ws],...e]}])}var wF=Tt(gF,!0);var bF={projectId:"isaom-dd242",appId:"1:1093266505221:web:5e0f8217880d209435666c",storageBucket:"isaom-dd242.appspot.com",apiKey:"AIzaSyCQMGwI2Ojfci47XJ9Qsi07SGKl-jvP3jY",authDomain:"isaom-dd242.firebaseapp.com",messagingSenderId:"1093266505221"};var EF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({imports:[Oa,tp]});let t=e;return t})();var nd="PERFORM_ACTION",SQ="REFRESH",AF="RESET",MF="ROLLBACK",RF="COMMIT",OF="SWEEP",NF="TOGGLE_ACTION",CQ="SET_ACTIONS_ACTIVE",xF="JUMP_TO_STATE",PF="JUMP_TO_ACTION",CD="IMPORT_STATE",kF="LOCK_CHANGES",FF="PAUSE_RECORDING",Pc=class{constructor(e,n){if(this.action=e,this.timestamp=n,this.type=nd,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},mD=class{constructor(){this.type=SQ}},gD=class{constructor(e){this.timestamp=e,this.type=AF}},_D=class{constructor(e){this.timestamp=e,this.type=MF}},yD=class{constructor(e){this.timestamp=e,this.type=RF}},vD=class{constructor(){this.type=OF}},wD=class{constructor(e){this.id=e,this.type=NF}};var bD=class{constructor(e){this.index=e,this.type=xF}},ED=class{constructor(e){this.actionId=e,this.type=PF}},ID=class{constructor(e){this.nextLiftedState=e,this.type=CD}},DD=class{constructor(e){this.status=e,this.type=kF}},TD=class{constructor(e){this.status=e,this.type=FF}};var tg=new k("@ngrx/store-devtools Options"),IF=new k("@ngrx/store-devtools Initial Config");function LF(){return null}var AQ="NgRx Store DevTools";function MQ(t){let e={maxAge:!1,monitor:LF,actionSanitizer:void 0,stateSanitizer:void 0,name:AQ,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},n=typeof t=="function"?t():t,i=n.logOnly?{pause:!0,export:!0,test:!0}:!1,r=n.features||i||e.features;r.import===!0&&(r.import="custom");let s=Object.assign({},e,{features:r},n);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}function DF(t,e){return t.filter(n=>e.indexOf(n)<0)}function VF(t){let{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){let{state:r}=e[e.length-1];return r}let{state:i}=e[n];return i}function td(t){return new Pc(t,+Date.now())}function RQ(t,e){return Object.keys(e).reduce((n,i)=>{let r=Number(i);return n[r]=BF(t,e[r],r),n},{})}function BF(t,e,n){return G(R({},e),{action:t(e.action,n)})}function OQ(t,e){return e.map((n,i)=>({state:jF(t,n.state,i),error:n.error}))}function jF(t,e,n){return t(e,n)}function UF(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function NQ(t,e,n,i){let r=[],s={},o=[];return t.stagedActionIds.forEach((a,c)=>{let u=t.actionsById[a];u&&(c&&AD(t.computedStates[c],u,e,n,i)||(s[a]=u,r.push(a),o.push(t.computedStates[c])))}),G(R({},t),{stagedActionIds:r,actionsById:s,computedStates:o})}function AD(t,e,n,i,r){let s=n&&!n(t,e.action),o=i&&!e.action.type.match(i.map(c=>TF(c)).join("|")),a=r&&e.action.type.match(r.map(c=>TF(c)).join("|"));return s||o||a}function TF(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $F(t){return{ngZone:t?P(he):null,connectInZone:t}}var ng=(()=>{let e=class e extends Oi{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=$n(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Zm={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},SD=new k("@ngrx/store-devtools Redux Devtools Extension"),HF=(()=>{let e=class e{constructor(i,r,s){this.config=r,this.dispatcher=s,this.zoneConfig=$F(this.config.connectInZone),this.devtoolsExtension=i,this.createActionStreams()}notify(i,r){if(this.devtoolsExtension)if(i.type===nd){if(r.isLocked||r.isPaused)return;let s=VF(r);if(UF(this.config)&&AD(s,i,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?jF(this.config.stateSanitizer,s,r.currentStateIndex):s,a=this.config.actionSanitizer?BF(this.config.actionSanitizer,i,r.nextActionId):i;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,o))}else{let s=G(R({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?RQ(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?OQ(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,s,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ie(i=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(s=>i.next(s)),r.unsubscribe}):rt}createActionStreams(){let i=this.createChangesObservable().pipe(d_()),r=i.pipe($e(d=>d.type===Zm.START)),s=i.pipe($e(d=>d.type===Zm.STOP)),o=i.pipe($e(d=>d.type===Zm.DISPATCH),K(d=>this.unwrapAction(d.payload)),_i(d=>d.type===CD?this.dispatcher.pipe($e(f=>f.type===jf),Xg(1e3),i_(1e3),K(()=>d),et(()=>Y(d)),bt(1)):Y(d))),c=i.pipe($e(d=>d.type===Zm.ACTION),K(d=>this.unwrapAction(d.payload))).pipe(St(s)),u=o.pipe(St(s));this.start$=r.pipe(St(s)),this.actions$=this.start$.pipe(Et(()=>c)),this.liftedActions$=this.start$.pipe(Et(()=>u))}unwrapAction(i){return typeof i=="string"?(0,eval)(`(${i})`):i}getExtensionConfig(i){let r={name:i.name,features:i.features,serialize:i.serialize,autoPause:i.autoPause??!1,trace:i.trace??!1,traceLimit:i.traceLimit??75};return i.maxAge!==!1&&(r.maxAge=i.maxAge),r}sendToReduxDevtools(i){try{i()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}};e.\u0275fac=function(r){return new(r||e)(N(SD),N(tg),N(ng))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),eg={type:ru},xQ="@ngrx/store-devtools/recompute",PQ={type:xQ};function GF(t,e,n,i,r){if(i)return{state:n,error:"Interrupted by an error up the chain"};let s=n,o;try{s=t(n,e)}catch(a){o=a.toString(),r.handleError(a)}return{state:s,error:o}}function Xm(t,e,n,i,r,s,o,a,c){if(e>=t.length&&t.length===s.length)return t;let u=t.slice(0,e),d=s.length-(c?1:0);for(let f=e;f<d;f++){let m=s[f],_=r[m].action,v=u[f-1],D=v?v.state:i,A=v?v.error:void 0,j=o.indexOf(m)>-1?v:GF(n,_,D,A,a);u.push(j)}return c&&u.push(t[t.length-1]),u}function kQ(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:td(eg)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function FQ(t,e,n,i,r={}){return s=>(o,a)=>{let{monitorState:c,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:_,currentStateIndex:v,computedStates:D,isLocked:A,isPaused:x}=o||e;o||(u=Object.create(u));function j(oe){let H=oe,I=f.slice(1,H+1);for(let y=0;y<I.length;y++)if(D[y+1].error){H=y,I=f.slice(1,H+1);break}else delete u[I[y]];m=m.filter(y=>I.indexOf(y)===-1),f=[0,...f.slice(H+1)],_=D[H].state,D=D.slice(H),v=v>H?v-H:0}function q(){u={0:td(eg)},d=1,f=[0],m=[],_=D[v].state,v=0,D=[]}let B=0;switch(a.type){case kF:{A=a.status,B=1/0;break}case FF:{x=a.status,x?(f=[...f,d],u[d]=new Pc({type:"@ngrx/devtools/pause"},+Date.now()),d++,B=f.length-1,D=D.concat(D[D.length-1]),v===f.length-2&&v++,B=1/0):q();break}case AF:{u={0:td(eg)},d=1,f=[0],m=[],_=t,v=0,D=[];break}case RF:{q();break}case MF:{u={0:td(eg)},d=1,f=[0],m=[],v=0,D=[];break}case NF:{let{id:oe}=a;m.indexOf(oe)===-1?m=[oe,...m]:m=m.filter(I=>I!==oe),B=f.indexOf(oe);break}case CQ:{let{start:oe,end:H,active:I}=a,y=[];for(let w=oe;w<H;w++)y.push(w);I?m=DF(m,y):m=[...m,...y],B=f.indexOf(oe);break}case xF:{v=a.index,B=1/0;break}case PF:{let oe=f.indexOf(a.actionId);oe!==-1&&(v=oe),B=1/0;break}case OF:{f=DF(f,m),m=[],v=Math.min(v,f.length-1);break}case nd:{if(A)return o||e;if(x||o&&AD(o.computedStates[v],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let H=D[D.length-1];D=[...D.slice(0,-1),GF(s,a.action,H.state,H.error,n)],B=1/0;break}r.maxAge&&f.length===r.maxAge&&j(1),v===f.length-1&&v++;let oe=d++;u[oe]=a,f=[...f,oe],B=f.length-1;break}case CD:{({monitorState:c,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:_,currentStateIndex:v,computedStates:D,isLocked:A,isPaused:x}=a.nextLiftedState);break}case ru:{B=0,r.maxAge&&f.length>r.maxAge&&(D=Xm(D,B,s,_,u,f,m,n,x),j(f.length-r.maxAge),B=1/0);break}case jf:{if(D.filter(H=>H.error).length>0)B=0,r.maxAge&&f.length>r.maxAge&&(D=Xm(D,B,s,_,u,f,m,n,x),j(f.length-r.maxAge),B=1/0);else{if(!x&&!A){v===f.length-1&&v++;let H=d++;u[H]=new Pc(a,+Date.now()),f=[...f,H],B=f.length-1,D=Xm(D,B,s,_,u,f,m,n,x)}D=D.map(H=>G(R({},H),{state:s(H.state,PQ)})),v=f.length-1,r.maxAge&&f.length>r.maxAge&&j(f.length-r.maxAge),B=1/0}break}default:{B=1/0;break}}return D=Xm(D,B,s,_,u,f,m,n,x),c=i(c,a),{monitorState:c,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:_,currentStateIndex:v,computedStates:D,isLocked:A,isPaused:x}}}var SF=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,d){let f=kQ(u,d.monitor),m=FQ(u,f,c,d.monitor,d),_=Kr(Kr(r.asObservable().pipe(Jd(1)),o.actions$).pipe(K(td)),i,o.liftedActions$).pipe(Vn(Hs)),v=s.pipe(K(m)),D=$F(d.connectInZone),A=new tl(1);this.liftedStateSubscription=_.pipe(Jr(v),CF(D),Yr(({state:q},[B,oe])=>{let H=oe(q,B);return B.type!==nd&&UF(d)&&(H=NQ(H,d.predicate,d.actionsSafelist,d.actionsBlocklist)),o.notify(B,H),{state:H,action:B}},{state:f,action:null})).subscribe(({state:q,action:B})=>{if(A.next(q),B.type===nd){let oe=B.action;a.next(oe)}}),this.extensionStartSubscription=o.start$.pipe(CF(D)).subscribe(()=>{this.refresh()});let x=A.asObservable(),j=x.pipe(K(VF));Object.defineProperty(j,"state",{value:nu(j,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=i,this.liftedState=x,this.state=j}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(i){this.dispatcher.next(i)}next(i){this.dispatcher.next(i)}error(i){}complete(){}performAction(i){this.dispatch(new Pc(i,+Date.now()))}refresh(){this.dispatch(new mD)}reset(){this.dispatch(new gD(+Date.now()))}rollback(){this.dispatch(new _D(+Date.now()))}commit(){this.dispatch(new yD(+Date.now()))}sweep(){this.dispatch(new vD)}toggleAction(i){this.dispatch(new wD(i))}jumpToAction(i){this.dispatch(new ED(i))}jumpToState(i){this.dispatch(new bD(i))}importState(i){this.dispatch(new ID(i))}lockChanges(i){this.dispatch(new DD(i))}pauseRecording(i){this.dispatch(new TD(i))}};e.\u0275fac=function(r){return new(r||e)(N(ng),N(Oi),N(po),N(HF),N(mo),N(fn),N(su),N(tg))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function CF({ngZone:t,connectInZone:e}){return n=>e?new ie(i=>n.subscribe({next:r=>t.run(()=>i.next(r)),error:r=>t.run(()=>i.error(r)),complete:()=>t.run(()=>i.complete())})):n}var LQ=new k("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function VQ(t,e){return!!t||e.monitor!==LF}function BQ(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function jQ(t={}){return Qt([HF,ng,SF,{provide:IF,useValue:t},{provide:LQ,deps:[SD,tg],useFactory:VQ},{provide:SD,useFactory:BQ},{provide:tg,deps:[IF],useFactory:MQ},{provide:Ga,deps:[SF],useFactory:UQ},{provide:Ha,useExisting:ng}])}function UQ(t){return t.state}var zF=(()=>{let e=class e{static instrument(i={}){return{ngModule:e,providers:[jQ(i)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();var $Q={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},rg="__@ngrx/effects_create__";function _t(t,e={}){let n=e.functional?t:t(),i=R(R({},$Q),e);return Object.defineProperty(n,rg,{value:i}),n}function HQ(t){return Object.getOwnPropertyNames(t).filter(i=>t[i]&&t[i].hasOwnProperty(rg)?t[i][rg].hasOwnProperty("dispatch"):!1).map(i=>{let r=t[i][rg];return R({propertyName:i},r)})}function GQ(t){return HQ(t)}function QF(t){return Object.getPrototypeOf(t)}function zQ(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function YF(t){return typeof t=="function"}function qF(t){return t.filter(YF)}function qQ(t){return t instanceof k||YF(t)}function WQ(t,e,n){let i=QF(t),s=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,o=GQ(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let d=typeof t[a]=="function"?t[a]():t[a],f=u?n(d,e):d;return c===!1?f.pipe(ol()):f.pipe(c_()).pipe(K(_=>({effect:t[a],notification:_,propertyName:a,sourceName:s,sourceInstance:t})))});return Kr(...o)}var KQ=10;function JF(t,e,n=KQ){return t.pipe(et(i=>(e&&e.handleError(i),n<=1?t:JF(t,e,n-1))))}var kc=(()=>{let e=class e extends ie{constructor(i){super(),i&&(this.source=i)}lift(i){let r=new e;return r.source=this,r.operator=i,r}};e.\u0275fac=function(r){return new(r||e)(N(mo))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yt(...t){return $e(e=>t.some(n=>typeof n=="string"?n===e.type:n.type===e.type))}var ZF=new k("@ngrx/effects Internal Root Guard"),ig=new k("@ngrx/effects User Provided Effects"),MD=new k("@ngrx/effects Internal Root Effects"),XF=new k("@ngrx/effects Internal Root Effects Instances"),WF=new k("@ngrx/effects Internal Feature Effects"),eL=new k("@ngrx/effects Internal Feature Effects Instance Groups"),QQ=new k("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>JF}),tL="@ngrx/effects/init",kfe=H0(tL);function YQ(t,e){if(t.notification.kind==="N"){let n=t.notification.value;!JQ(n)&&e.handleError(new Error(`Effect ${ZQ(t)} dispatched an invalid action: ${XQ(n)}`))}}function JQ(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function ZQ({propertyName:t,sourceInstance:e,sourceName:n}){let i=typeof e[t]=="function";return!!n?`"${n}.${String(t)}${i?"()":""}"`:`"${String(t)}()"`}function XQ(t){try{return JSON.stringify(t)}catch{return t}}var eY="ngrxOnIdentifyEffects";function tY(t){return RD(t,eY)}var nY="ngrxOnRunEffects";function iY(t){return RD(t,nY)}var rY="ngrxOnInitEffects";function sY(t){return RD(t,rY)}function RD(t,e){return t&&e in t&&typeof t[e]=="function"}var nL=(()=>{let e=class e extends _e{constructor(i,r){super(),this.errorHandler=i,this.effectsErrorHandler=r}addEffects(i){this.next(i)}toActions(){return this.pipe(Yd(i=>zQ(i)?QF(i):i),Ve(i=>i.pipe(Yd(oY))),Ve(i=>{let r=i.pipe(jt(o=>aY(this.errorHandler,this.effectsErrorHandler)(o)),K(o=>(YQ(o,this.errorHandler),o.notification)),$e(o=>o.kind==="N"&&o.value!=null),s_()),s=i.pipe(bt(1),$e(sY),K(o=>o.ngrxOnInitEffects()));return Kr(r,s)}))}};e.\u0275fac=function(r){return new(r||e)(N(fn),N(QQ))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oY(t){return tY(t)?t.ngrxOnIdentifyEffects():""}function aY(t,e){return n=>{let i=WQ(n,t,e);return iY(n)?n.ngrxOnRunEffects(i):i}}var iL=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(i,r){this.effectSources=i,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(N(nL),N(ot))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rL=(()=>{let e=class e{constructor(i,r,s,o,a,c,u){this.sources=i,r.start();for(let d of o)i.addEffects(d);s.dispatch({type:tL})}addEffects(i){this.sources.addEffects(i)}};e.\u0275fac=function(r){return new(r||e)(N(nL),N(iL),N(ot),N(XF),N(ou,8),N(Uf,8),N(ZF,8))},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),cY=(()=>{let e=class e{constructor(i,r,s,o){let a=r.flat();for(let c of a)i.addEffects(c)}};e.\u0275fac=function(r){return new(r||e)(N(rL),N(eL),N(ou,8),N(Uf,8))},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})(),sg=(()=>{let e=class e{static forFeature(...i){let r=i.flat(),s=qF(r);return{ngModule:cY,providers:[s,{provide:WF,multi:!0,useValue:r},{provide:ig,multi:!0,useValue:[]},{provide:eL,multi:!0,useFactory:KF,deps:[WF,ig]}]}}static forRoot(...i){let r=i.flat(),s=qF(r);return{ngModule:rL,providers:[s,{provide:MD,useValue:[r]},{provide:ZF,useFactory:lY},{provide:ig,multi:!0,useValue:[]},{provide:XF,useFactory:KF,deps:[MD,ig]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({});let t=e;return t})();function KF(t,e){let n=[];for(let i of t)n.push(...i);for(let i of e)n.push(...i);return n.map(i=>qQ(i)?P(i):i)}function lY(){let t=P(iL,{optional:!0,skipSelf:!0}),e=P(MD,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ND={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e}};var sL="administrator",oL=(()=>{let e=class e{constructor(i,r){this.auth=i,this.firestore=r}login(i,r){return De(nP(this.auth,i,r)).pipe(Et(s=>{let o=Ki(this.firestore,sL,s.user.uid).withConverter(ND);return oD(o)}))}getCurrentUser(){return eP(this.auth).pipe(Et(i=>{if(i!==null){let r=Ki(this.firestore,sL,i?.uid??"").withConverter(ND);return oD(r)}return Y(null)}))}logout(){return De(iP(this.auth))}};e.\u0275fac=function(r){return new(r||e)(N(ko),N(kn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aL=["toast-component",""];function dY(t,e){if(t&1){let n=Sn();U(0,"button",5),Be("click",function(){pn(n);let r=je();return mn(r.remove())}),U(1,"span",6),ee(2,"\xD7"),Q()()}}function hY(t,e){if(t&1&&(Dn(0),ee(1),Tn()),t&2){let n=je(2);re(),gn("[",n.duplicatesCount+1,"]")}}function fY(t,e){if(t&1&&(U(0,"div"),ee(1),ft(2,hY,2,1,"ng-container",4),Q()),t&2){let n=je();In(n.options.titleClass),ri("aria-label",n.title),re(),gn(" ",n.title," "),re(),fe("ngIf",n.duplicatesCount)}}function pY(t,e){if(t&1&&Fe(0,"div",7),t&2){let n=je();In(n.options.messageClass),fe("innerHTML",n.message,nv)}}function mY(t,e){if(t&1&&(U(0,"div",8),ee(1),Q()),t&2){let n=je();In(n.options.messageClass),ri("aria-label",n.message),re(),gn(" ",n.message," ")}}function gY(t,e){if(t&1&&(U(0,"div"),Fe(1,"div",9),Q()),t&2){let n=je();re(),Ti("width",n.width()+"%")}}function _Y(t,e){if(t&1){let n=Sn();U(0,"button",5),Be("click",function(){pn(n);let r=je();return mn(r.remove())}),U(1,"span",6),ee(2,"\xD7"),Q()()}}function yY(t,e){if(t&1&&(Dn(0),ee(1),Tn()),t&2){let n=je(2);re(),gn("[",n.duplicatesCount+1,"]")}}function vY(t,e){if(t&1&&(U(0,"div"),ee(1),ft(2,yY,2,1,"ng-container",4),Q()),t&2){let n=je();In(n.options.titleClass),ri("aria-label",n.title),re(),gn(" ",n.title," "),re(),fe("ngIf",n.duplicatesCount)}}function wY(t,e){if(t&1&&Fe(0,"div",7),t&2){let n=je();In(n.options.messageClass),fe("innerHTML",n.message,nv)}}function bY(t,e){if(t&1&&(U(0,"div",8),ee(1),Q()),t&2){let n=je();In(n.options.messageClass),ri("aria-label",n.message),re(),gn(" ",n.message," ")}}function EY(t,e){if(t&1&&(U(0,"div"),Fe(1,"div",9),Q()),t&2){let n=je();re(),Ti("width",n.width()+"%")}}var xD=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},PD=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},kD=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new _e;_activate=new _e;_manualClose=new _e;_resetTimeout=new _e;_countDuplicate=new _e;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},Fc=class{toastId;config;message;title;toastType;toastRef;_onTap=new _e;_onAction=new _e;constructor(e,n,i,r,s,o){this.toastId=e,this.config=n,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},cL={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},lL=new k("ToastConfig"),FD=class extends PD{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,i){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=i}attachComponentPortal(e,n){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},IY=(()=>{class t{_document=P(nt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LD=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},DY=(()=>{class t{_overlayContainer=P(IY);_componentFactoryResolver=P(Ca);_appRef=P(Gn);_document=P(nt);_paneElements=new Map;create(n,i){return this._createOverlayRef(this.getPaneElement(n,i))}getPaneElement(n="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[n]||(this._paneElements.get(i)[n]=this._createPaneElement(n,i)),this._paneElements.get(i)[n]}_createPaneElement(n,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(n),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(n){return new FD(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new LD(this._createPortalHost(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yi=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=R(R({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=R(R({},n.default.iconClasses),n.config.iconClasses))}show(n,i,r={},s=""){return this._preBuildNotification(s,n,i,this.applyConfig(r))}success(n,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}error(n,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}info(n,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}warning(n,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}clear(n){for(let i of this.toasts)if(n!==void 0){if(i.toastId===n){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(n){let i=this._findToast(n);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(n="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(n={}){return R(R({},this.toastrConfig),n)}_findToast(n){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===n)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(n,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,i,r,s)):this._buildNotification(n,i,r,s)}_buildNotification(n,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&s.enableHtml&&(u=this.sanitizer.sanitize(En.HTML,i));let d=new kD(c),f=new Fc(this.index,s,u,r,n,d),m=[{provide:Fc,useValue:f}],_=qe.create({providers:m,parent:this._injector}),v=new xD(s.toastComponent,_),D=c.attach(v,s.newestOnTop);d.componentInstance=D.instance;let A={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:D};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{A.toastRef.activate()})),this.toasts.push(A),A}static \u0275fac=function(i){return new(i||t)(N(lL),N(DY),N(qe),N(Nl),N(he))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TY=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=rs(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=rs({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>G(R({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>G(R({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>G(R({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),i)):this.timeout=setTimeout(()=>n(),i)}outsideInterval(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),i)):this.intervalId=setInterval(()=>n(),i)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(i){return new(i||t)(W(Yi),W(Fc),W(he))};static \u0275cmp=He({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&Be("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Ev("@flyInOut",r._state),In(r.toastClasses),Ti("display",r.displayStyle))},standalone:!0,features:[ss],attrs:aL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&ft(0,dY,3,0,"button",0)(1,fY,3,5,"div",1)(2,pY,1,3,"div",2)(3,mY,2,4,"div",3)(4,gY,2,2,"div",4),i&2&&(fe("ngIf",r.options.closeButton),re(),fe("ngIf",r.title),re(),fe("ngIf",r.message&&r.options.enableHtml),re(),fe("ngIf",r.message&&!r.options.enableHtml),re(),fe("ngIf",r.options.progressBar))},dependencies:[Cn],encapsulation:2,data:{animation:[GO("flyInOut",[ip("inactive",vo({opacity:0})),ip("active",vo({opacity:1})),ip("removed",vo({opacity:0})),dw("inactive => active",uw("{{ easeTime }}ms {{ easing }}")),dw("active => removed",uw("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),SY=G(R({},cL),{toastComponent:TY}),CY=(t={})=>Qt([{provide:lL,useValue:{default:SY,config:t}}]),uL=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[CY(n)]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=le({type:t});static \u0275inj=ce({})}return t})();var AY=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=rs(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=rs("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||t)(W(Yi),W(Fc),W(Gn))};static \u0275cmp=He({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&Be("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(In(r.toastClasses),Ti("display",r.displayStyle))},standalone:!0,features:[ss],attrs:aL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&ft(0,_Y,3,0,"button",0)(1,vY,3,5,"div",1)(2,wY,1,3,"div",2)(3,bY,2,4,"div",3)(4,EY,2,2,"div",4),i&2&&(fe("ngIf",r.options.closeButton),re(),fe("ngIf",r.title),re(),fe("ngIf",r.message&&r.options.enableHtml),re(),fe("ngIf",r.message&&!r.options.enableHtml),re(),fe("ngIf",r.options.progressBar))},dependencies:[Cn],encapsulation:2,changeDetection:0})}return t})(),epe=G(R({},cL),{toastComponent:AY});var dL=(()=>{let e=class e{constructor(i,r,s,o){this.actions$=i,this.authService=r,this.router=s,this.toastr=o,this.loginEffect=_t(()=>this.actions$.pipe(yt(We.login),jt(({email:a,password:c})=>this.authService.login(a,c).pipe(K(u=>We.loginSuccess({currentUser:u})),et(u=>(console.log(u),Y(We.loginFailed({message:u.message.toString()})))))))),this.loginSuccess=_t(()=>this.actions$.pipe(yt(We.loginSuccess),vn(1e3),Oe(({currentUser:a})=>{a?(this.toastr.success("Successfully Logged in!"),this.router.navigate(["main"])):(this.toastr.error("unknown error"),this.router.navigate(["login"]))})),{functional:!0,dispatch:!1}),this.loginFailed=_t(()=>this.actions$.pipe(yt(We.loginFailed),Oe(({message:a})=>{a!==null&&this.toastr.error(a),this.router.navigate(["login"])})),{functional:!0,dispatch:!1}),this.getCurrentUserEffect=_t(()=>this.actions$.pipe(yt(We.getCurrentUser),jt(()=>this.authService.getCurrentUser().pipe(vn(1e3),K(a=>a!==null?We.loginSuccess({currentUser:a}):We.loginFailed({message:null})),et(a=>(console.log(a),Y(We.loginFailed({message:a.message})))))))),this.signOut=_t(()=>this.actions$.pipe(yt(We.signOut),jt(()=>this.authService.logout().pipe(K(a=>We.signSuccess()),et(a=>Y(We.signFailed())))))),this.signOutSuccess=_t(()=>this.actions$.pipe(yt(We.signSuccess),Oe(()=>{this.router.navigate(["login"])})),{functional:!0,dispatch:!1}),this.signOutFailed=_t(()=>this.actions$.pipe(yt(We.signFailed),Oe(()=>{})),{functional:!0,dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(N(kc),N(oL),N(sn),N(Yi))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var hL={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e.updatedAt=e.updatedAt.toDate(),e}};var ag={toFirestore:t=>t,fromFirestore:t=>t.data()},Lc=function(t){return t.STUDENT="STUDENT",t.TEACHER="TEACHER",t.GUEST="GUEST",t}(Lc||{});var id="users",fL=(()=>{let e=class e{constructor(i){this.firestore=i}getAllTeachers(){let i=ks(Nr(this.firestore,id).withConverter(ag),Ym("type","==",Lc.TEACHER));return Ps(i)}getAllStudents(){let i=ks(Nr(this.firestore,id).withConverter(ag),Ym("type","==",Lc.STUDENT));return Ps(i)}getAllUsers(){let i=ks(Nr(this.firestore,id).withConverter(ag),Ym("type","in",[Lc.STUDENT,Lc.GUEST]));return Ps(i)}};e.\u0275fac=function(r){return new(r||e)(N(kn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VD="sections",pL=(()=>{let e=class e{constructor(i){this.firestore=i}getAllSectionWithTeacher(){let i=ks(Nr(this.firestore,VD).withConverter(hL),Xu("createdAt","desc"),Xu("updatedAt","desc"));return Ps(i).pipe(Ve(r=>De(r).pipe(Ve(s=>De(oF(Ki(this.firestore,id,s.teacher))).pipe(K(o=>{let a=o.data();return G(R({},s),{teacher:a.name})}))),n_())))}createSection(i){return De(Qm(Ki(Nr(this.firestore,VD),i.id),i))}deleteSection(i){return De(Km(Ki(this.firestore,VD,i)))}};e.\u0275fac=function(r){return new(r||e)(N(kn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mL=(()=>{let e=class e{constructor(i,r,s,o){this.actions$=i,this.sectionService=r,this.usersService=s,this.toastr=o,this.getSectionsEffect=_t(()=>this.actions$.pipe(yt(Ae.getAllSections),jt(()=>this.sectionService.getAllSectionWithTeacher().pipe(K(a=>(console.log(a),Ae.getSectionsSuccess({sections:a}))),et(a=>Y(Ae.getSectionsFailure({message:a.message.toString()}))))))),this.getAllTeachersEffect=_t(()=>this.actions$.pipe(yt(Ae.getAllTeachers),jt(()=>this.usersService.getAllTeachers().pipe(K(a=>(console.log(a),Ae.getAllTeachersSuccess({data:a}))),et(a=>Y(Ae.getAllTeachersFailure({message:a.message.toString()}))))))),this.createSectionEffect=_t(()=>this.actions$.pipe(yt(Ae.createSection),jt(({section:a})=>this.sectionService.createSection(a).pipe(K(()=>Ae.creationSuccess({section:a})),et(c=>Y(Ae.creationFailure({message:c.message.toString()}))))))),this.creationSuccess=_t(()=>this.actions$.pipe(yt(Ae.creationSuccess),vn(1e3),Oe(({section:a})=>{this.toastr.success("Successfully Added!")})),{functional:!0,dispatch:!1}),this.creationFailuire=_t(()=>this.actions$.pipe(yt(Ae.creationFailure),vn(1e3),Oe(({message:a})=>{this.toastr.success(a)})),{functional:!0,dispatch:!1}),this.deleteSectionEffect=_t(()=>this.actions$.pipe(yt(Ae.deleteSection),jt(({id:a})=>this.sectionService.deleteSection(a).pipe(K(()=>Ae.deleteSuccess()),et(c=>Y(Ae.deleteFailure({message:c.message.toString()}))))))),this.deleteSuccess=_t(()=>this.actions$.pipe(yt(Ae.deleteSuccess),vn(1e3),Oe(()=>{this.toastr.success("Successfully Deleted!")})),{functional:!0,dispatch:!1}),this.deleteFailed=_t(()=>this.actions$.pipe(yt(Ae.deleteFailure),vn(1e3),Oe(({message:a})=>{this.toastr.success(a)})),{functional:!0,dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(N(kc),N(pL),N(fL),N(Yi))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var ct=za({source:"lessons",events:{"Get Lessons":Rn(),"Get Lessons Success":pt(),"Get Lessons Failed":pt(),"Add Lesson":pt(),"Add Lesson Success":Rn(),"Add Lesson Failed":pt(),"Delete Lesson":pt(),"Delete Lesson Success":Rn(),"Delete Lesson Failed":pt()}});var OY={isLoading:!1,lessons:[],error:null},NY=qa({name:"lesson",reducer:Ka(OY,ze(ct.getLessons,t=>G(R({},t),{isLoading:!0,error:null})),ze(ct.getLessonsSuccess,(t,e)=>G(R({},t),{isLoading:!1,lessons:e.data})),ze(ct.getLessonsFailed,(t,e)=>G(R({},t),{isLoading:!1,error:e.message})),ze(ct.addLesson,(t,e)=>G(R({},t),{isLoading:!0})),ze(ct.addLessonSuccess,(t,e)=>G(R({},t),{isLoading:!1})),ze(ct.addLessonFailed,(t,e)=>G(R({},t),{isLoading:!1,error:e.message})),ze(ct.deleteLesson,(t,e)=>G(R({},t),{isLoading:!0})),ze(ct.deleteLessonSuccess,(t,e)=>G(R({},t),{isLoading:!1})),ze(ct.deleteLessonFailed,(t,e)=>G(R({},t),{isLoading:!1,error:e.message})))}),{name:gL,reducer:_L,selectIsLoading:yL,selectLessons:vL,selectError:wL}=NY;var bL=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.store=r,this.toastr=s,this.activeModal=P(ps),this.lessonForm$=i.nonNullable.group({title:["",On.required],desc:["",On.required],videoId:["",On.required]})}createLesson(){let i=this.lessonForm$.value,r={id:cg(),title:i.title??"",desc:i.desc??"",videoId:i.videoId??"",createdAt:new Date};if(this.lessonForm$.invalid){this.toastr.error("Please fill up all form");return}this.store.dispatch(ct.addLesson({lesson:r}))}};e.\u0275fac=function(r){return new(r||e)(W(tc),W(ot),W(Yi))},e.\u0275cmp=He({type:e,selectors:[["app-create-lessons"]],decls:22,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"w-100",3,"submit","formGroup"],[1,"form-floating","mb-3"],["id","title","formControlName","title","type","text",1,"form-control"],["for","title"],["id","desc","formControlName","desc","type","desc",1,"form-control"],["for","desc"],["id","videoId","formControlName","videoId","type","videoId",1,"form-control"],["for","videoId"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(r,s){r&1&&(U(0,"div",0)(1,"h6",1),ee(2,"Create Lessons"),Q()(),U(3,"div",2)(4,"form",3),Be("submit",function(){return s.createLesson()}),U(5,"div",4),Fe(6,"input",5),U(7,"label",6),ee(8,"Enter Lesson Title"),Q()(),U(9,"div",4),Fe(10,"input",7),U(11,"label",8),ee(12,"Enter Description"),Q()(),U(13,"div",4),Fe(14,"input",9),U(15,"label",10),ee(16,"Enter Youtube Video ID"),Q()(),U(17,"div",11)(18,"button",12),Be("click",function(){return s.activeModal.close()}),ee(19," Cancel "),Q(),U(20,"button",13),ee(21," Save Section "),Q()()()()),r&2&&(re(4),fe("formGroup",s.lessonForm$),re(16),fe("disabled",s.lessonForm$.invalid))},dependencies:[ec,fs,Za,Xa,go,_o]});let t=e;return t})();function xY(t,e){if(t&1&&(U(0,"div"),ee(1),Q()),t&2){let n=je().ngIf;re(),Yt(n.error)}}function PY(t,e){if(t&1&&(U(0,"div",5)(1,"div",0)(2,"div",6),Fe(3,"iframe",7),Q(),U(4,"h2"),ee(5),Q(),U(6,"p"),ee(7),Q()()()),t&2){let n=e.$implicit,i=je(3);re(3),fe("src",i.getSanitizedUrl(n.videoId),rv),re(2),Yt(n.title),re(2),Yt(n.desc)}}function kY(t,e){if(t&1&&(U(0,"div")(1,"div",3),ft(2,PY,8,3,"div",4),Q()()),t&2){let n=je().ngIf;re(2),fe("ngForOf",n.lessons)}}function FY(t,e){if(t&1&&(U(0,"div"),ft(1,xY,2,1,"div",2)(2,kY,3,1,"div",2),Q()),t&2){let n=e.ngIf;re(),fe("ngIf",n.error),re(),fe("ngIf",n.lessons)}}var EL=(()=>{let e=class e{constructor(i,r){this.store=i,this.sanitizer=r,this.modalService=P(uu),this.lessonState$=un({isLoading:this.store.select(yL),lessons:this.store.select(vL),error:this.store.select(wL)})}ngOnInit(){this.store.dispatch(ct.getLessons())}addLesson(){let i=this.modalService.open(bL)}getSanitizedUrl(i){let o=`https://www.youtube.com/embed/${i}?autoplay=0`;return this.sanitizer.bypassSecurityTrustResourceUrl(o)}};e.\u0275fac=function(r){return new(r||e)(W(ot),W(Nl))},e.\u0275cmp=He({type:e,selectors:[["app-sign-language-lessons"]],decls:5,vars:3,consts:[[1,"container-fluid","p-3"],[1,"btn","btn-dark",3,"click"],[4,"ngIf"],[1,"row","row-cols-3","g-2","p-3"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"ratio","ratio-16x9"],["width","100%","height","100%","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"]],template:function(r,s){r&1&&(U(0,"div",0)(1,"button",1),Be("click",function(){return s.addLesson()}),ee(2,"ADD LESSON"),Q(),ft(3,FY,3,2,"div",2),si(4,"async"),Q()),r&2&&(re(3),fe("ngIf",oi(4,1,s.lessonState$)))},dependencies:[as,Cn,Ai],styles:[".video-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background:#000}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]});let t=e;return t})();var IL={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e}};var BD="sign-language-lessons",DL=(()=>{let e=class e{constructor(i){this.firestore=i}addSignLanguageLesson(i){return De(Qm(Ki(this.firestore,BD,i.id),i))}getAllSignLanguageLessons(){let i=ks(Nr(this.firestore,BD).withConverter(IL),Xu("createdAt","desc"));return Ps(i)}deleteSignLanguageLesson(i){return De(Km(Ki(this.firestore,BD,i)))}};e.\u0275fac=function(r){return new(r||e)(N(kn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var TL=(()=>{let e=class e{constructor(i,r,s){this.actions$=i,this.signLanguageService=r,this.toastr=s,this.getLessonsEffect=_t(()=>this.actions$.pipe(yt(ct.getLessons),jt(()=>this.signLanguageService.getAllSignLanguageLessons().pipe(K(o=>ct.getLessonsSuccess({data:o})),et(o=>Y(ct.getLessonsFailed({message:o.message.toString()}))))))),this.createLessonEffecct=_t(()=>this.actions$.pipe(yt(ct.addLesson),jt(({lesson:o})=>this.signLanguageService.addSignLanguageLesson(o).pipe(K(()=>ct.addLessonSuccess()),et(a=>Y(ct.addLessonFailed({message:a.message.toString()}))))))),this.addLessonSuccess=_t(()=>this.actions$.pipe(yt(ct.addLessonSuccess),vn(1e3),Oe(()=>{this.toastr.success("Successfully Added!")})),{functional:!0,dispatch:!1}),this.creationFailuire=_t(()=>this.actions$.pipe(yt(ct.addLessonFailed),vn(1e3),Oe(({message:o})=>{this.toastr.success(o)})),{functional:!0,dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(N(kc),N(DL),N(Yi))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var CL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({imports:[Oa,SL,tp,Wa.forFeature(LR,VR),Wa.forFeature(gL,_L),sg.forFeature([mL,TL])]});let t=e;return t})();var zme=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e,bootstrap:[MN]}),e.\u0275inj=ce({providers:[tx(()=>nx(bF)),Xx(()=>tP()),sF(()=>aF()),vF(()=>wF())],imports:[_f,bN,AN,EF,CL,Wa.forRoot(),Wa.forFeature(EN,IN),sg.forRoot([dL]),zF.instrument({maxAge:25,logOnly:!Al(),autoPause:!0,trace:!1,traceLimit:75,connectInZone:!0}),HO,uL.forRoot()]});let t=e;return t})();function cg(t=15){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="";for(let i=0;i<t;i++){let r=Math.floor(Math.random()*e.length);n+=e.charAt(r)}return n}function VY(t,e){if(t&1&&(U(0,"option",15),ee(1),Q()),t&2){let n=e.$implicit;fe("value",n.id),re(),gn(" ",n.name," ")}}function BY(t,e){if(t&1){let n=Sn();Dn(0),U(1,"div",1)(2,"h6",2),ee(3,"Create Section"),Q()(),U(4,"div",3)(5,"form",4),Be("submit",function(){pn(n);let r=je();return mn(r.submit())}),U(6,"div",5),Fe(7,"input",6),U(8,"label",7),ee(9,"Enter Section name"),Q()(),U(10,"div",5)(11,"select",8)(12,"option",9),ee(13,"--Select Teacher--"),Q(),ft(14,VY,2,2,"option",10),Q(),U(15,"label",11),ee(16,"Select Teacher"),Q()(),U(17,"div",12)(18,"button",13),Be("click",function(){pn(n);let r=je();return mn(r.activeModal.close())}),ee(19," Cancel "),Q(),U(20,"button",14),ee(21," Save Section "),Q()()()(),Tn()}if(t&2){let n=e.ngIf,i=je();re(5),fe("formGroup",i.sectionForm$),re(7),fe("value",null),re(2),fe("ngForOf",n.teachers),re(6),fe("disabled",i.sectionForm$.invalid)}}var AL=(()=>{let e=class e{constructor(i,r){this.fb=i,this.store=r,this.activeModal=P(ps),this.createSectionState=un({teachers:this.store.select(jR),error:this.store.select(Hf),loading:this.store.select($f)}),this.sectionForm$=i.nonNullable.group({name:["",On.required],teacher:[null,On.required]})}ngOnInit(){this.store.dispatch(Ae.getAllTeachers())}submit(){let i=this.sectionForm$.value,r={id:cg(),name:i.name??"",teacher:i.teacher??"",createdAt:new Date,updatedAt:new Date};this.store.dispatch(Ae.createSection({section:r})),this.activeModal.close()}};e.\u0275fac=function(r){return new(r||e)(W(tc),W(ot))},e.\u0275cmp=He({type:e,selectors:[["app-create-section"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"w-100",3,"submit","formGroup"],[1,"form-floating","mb-3"],["id","name","formControlName","name","type","text",1,"form-control"],["for","name"],["id","teacher","formControlName","teacher",1,"form-select"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","teacher"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"],[3,"value"]],template:function(r,s){r&1&&(ft(0,BY,22,4,"ng-container",0),si(1,"async")),r&2&&fe("ngIf",oi(1,1,s.createSectionState))},dependencies:[as,Cn,ec,yO,wO,fs,ep,Za,Xa,go,_o,Ai]});let t=e;return t})();function jY(t,e){if(t&1){let n=Sn();U(0,"tr")(1,"th",10),ee(2),Q(),U(3,"td"),ee(4),Q(),U(5,"td"),ee(6),Q(),U(7,"td"),ee(8),Q(),U(9,"td")(10,"div",11)(11,"button",12),Fe(12,"i",13),Q(),U(13,"button",14),Be("click",function(){let r=pn(n).$implicit,s=je(2);return mn(s.deleteSection(r.id))}),Fe(14,"i",15),Q()()()()}if(t&2){let n=e.$implicit,i=e.index;re(2),Yt(i+1),re(2),Yt(n.name),re(2),Yt(n.teacher),re(2),Yt(n.createdAt.toLocaleDateString())}}function UY(t,e){if(t&1){let n=Sn();Dn(0),U(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),ee(5," Sections - "),U(6,"span",4),ee(7),Q()(),U(8,"button",5),Be("click",function(){pn(n);let r=je();return mn(r.submit())}),ee(9," Create Section "),Q()(),U(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th",8),ee(15,"#"),Q(),U(16,"th",8),ee(17,"Name"),Q(),U(18,"th",8),ee(19,"Teacher"),Q(),U(20,"th",8),ee(21,"Created At"),Q(),U(22,"th",8),ee(23,"Actions"),Q()()(),U(24,"tbody"),ft(25,jY,15,4,"tr",9),Q()()()()(),Tn()}if(t&2){let n=e.ngIf;re(7),Yt(n.sections.length),re(),fe("disabled",n.isLoading),re(17),fe("ngForOf",n.sections)}}var ML=(()=>{let e=class e{constructor(i){this.store=i,this.modal=P(uu),this.sectionState$=un({isLoading:this.store.select($f),sections:this.store.select(BR),errors:this.store.select(Hf)})}ngOnInit(){}submit(){let i=this.modal.open(AL)}deleteSection(i){this.store.dispatch(Ae.deleteSection({id:i}))}};e.\u0275fac=function(r){return new(r||e)(W(ot))},e.\u0275cmp=He({type:e,selectors:[["app-section"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container-fluid","h-100","p-3"],[1,"d-flex","flex-column","h-100","bg-white","shadow-sm","p-3","rounded"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-muted","fs-6"],[1,"btn","btn-dark",3,"click","disabled"],[1,"flex-grow-1","overflow-auto"],[1,"table","table-borderless","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-success"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa-solid","fa-delete-left"]],template:function(r,s){r&1&&(ft(0,UY,26,3,"ng-container",0),si(1,"async")),r&2&&fe("ngIf",oi(1,1,s.sectionState$))},dependencies:[as,Cn,Ai]});let t=e;return t})();var $Y=[{path:"",component:Q0},{path:"dashboard",component:Q0},{path:"section",component:ML},{path:"users",component:PR},{path:"student-report",component:kR},{path:"logs",component:FR},{path:"lessons",component:EL}],SL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=le({type:e}),e.\u0275inj=ce({imports:[$a.forChild($Y),$a]});let t=e;return t})();export{Doe as a,SL as b,zme as c};
