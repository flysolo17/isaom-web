var t2=Object.defineProperty,n2=Object.defineProperties;var i2=Object.getOwnPropertyDescriptors;var $d=Object.getOwnPropertySymbols,r2=Object.getPrototypeOf,SS=Object.prototype.hasOwnProperty,CS=Object.prototype.propertyIsEnumerable,s2=Reflect.get;var DS=(t,e,n)=>e in t?t2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})SS.call(e,n)&&DS(t,n,e[n]);if($d)for(var n of $d(e))CS.call(e,n)&&DS(t,n,e[n]);return t},Q=(t,e)=>n2(t,i2(e));var AS=(t,e)=>{var n={};for(var i in t)SS.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&$d)for(var i of $d(t))e.indexOf(i)<0&&CS.call(t,i)&&(n[i]=t[i]);return n};var Zr=(t,e,n)=>s2(r2(t),n,e);var I=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(u){r(u)}},o=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function MS(t,e){return Object.is(t,e)}var Bt=null,Hd=!1,Gd=1,Xr=Symbol("SIGNAL");function xe(t){let e=Bt;return Bt=t,e}var qd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function d_(t){if(Hd)throw new Error("");if(Bt===null)return;Bt.consumerOnSignalRead(t);let e=Bt.nextProducerIndex++;if(da(Bt),e<Bt.producerNode.length&&Bt.producerNode[e]!==t&&vl(Bt)){let n=Bt.producerNode[e];Wd(n,Bt.producerIndexOfThis[e])}Bt.producerNode[e]!==t&&(Bt.producerNode[e]=t,Bt.producerIndexOfThis[e]=vl(Bt)?PS(t,Bt,e):0),Bt.producerLastReadVersion[e]=t.version}function o2(){Gd++}function RS(t){if(!(vl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gd)){if(!t.producerMustRecompute(t)&&!p_(t)){t.dirty=!1,t.lastCleanEpoch=Gd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gd}}function OS(t){if(t.liveConsumerNode===void 0)return;let e=Hd;Hd=!0;try{for(let n of t.liveConsumerNode)n.dirty||a2(n)}finally{Hd=e}}function xS(){return Bt?.consumerAllowSignalWrites!==!1}function a2(t){t.dirty=!0,OS(t),t.consumerMarkedDirty?.(t)}function h_(t){return t&&(t.nextProducerIndex=0),xe(t)}function f_(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function p_(t){da(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(RS(n),i!==n.version))return!0}return!1}function NS(t){if(da(t),vl(t))for(let e=0;e<t.producerNode.length;e++)Wd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function PS(t,e,n){if(kS(t),da(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=PS(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Wd(t,e){if(kS(t),da(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Wd(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];da(r),r.producerIndexOfThis[i]=e}}function vl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function da(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function kS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function FS(t){let e=Object.create(c2);e.computation=t;let n=()=>{if(RS(e),d_(e),e.value===zd)throw e.error;return e.value};return n[Xr]=e,n}var l_=Symbol("UNSET"),u_=Symbol("COMPUTING"),zd=Symbol("ERRORED"),c2=Q(R({},qd),{value:l_,dirty:!0,error:null,equal:MS,producerMustRecompute(t){return t.value===l_||t.value===u_},producerRecomputeValue(t){if(t.value===u_)throw new Error("Detected cycle in computations.");let e=t.value;t.value=u_;let n=h_(t),i;try{i=t.computation()}catch(r){i=zd,t.error=r}finally{f_(t,n)}if(e!==l_&&e!==zd&&i!==zd&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function l2(){throw new Error}var LS=l2;function VS(){LS()}function BS(t){LS=t}var u2=null;function jS(t){let e=Object.create($S);e.value=t;let n=()=>(d_(e),e.value);return n[Xr]=e,n}function m_(t,e){xS()||VS(),t.equal(t.value,e)||(t.value=e,d2(t))}function US(t,e){xS()||VS(),m_(t,e(t.value))}var $S=Q(R({},qd),{equal:MS,value:void 0});function d2(t){t.version++,o2(),OS(t),u2?.()}function de(t){return typeof t=="function"}function es(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Kd=es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ct=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(de(i))try{i()}catch(s){e=s instanceof Kd?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{HS(s)}catch(o){e=e??[],o instanceof Kd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)HS(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xs(n,e)}remove(e){let{_finalizers:n}=this;n&&Xs(n,e),e instanceof t&&e._removeParent(this)}};Ct.EMPTY=(()=>{let t=new Ct;return t.closed=!0,t})();var g_=Ct.EMPTY;function Qd(t){return t instanceof Ct||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function HS(t){de(t)?t():t.unsubscribe()}var li={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ha={setTimeout(t,e,...n){let{delegate:i}=ha;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ha;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Yd(t){ha.setTimeout(()=>{let{onUnhandledError:e}=li;if(e)e(t);else throw t})}function hr(){}var GS=__("C",void 0,void 0);function zS(t){return __("E",void 0,t)}function qS(t){return __("N",t,void 0)}function __(t,e,n){return{kind:t,value:e,error:n}}var eo=null;function fa(t){if(li.useDeprecatedSynchronousErrorHandling){let e=!eo;if(e&&(eo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=eo;if(eo=null,n)throw i}}else t()}function WS(t){li.useDeprecatedSynchronousErrorHandling&&eo&&(eo.errorThrown=!0,eo.error=t)}var to=class extends Ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qd(e)&&e.add(this)):this.destination=p2}static create(e,n,i){return new fr(e,n,i)}next(e){this.isStopped?v_(qS(e),this):this._next(e)}error(e){this.isStopped?v_(zS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?v_(GS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},h2=Function.prototype.bind;function y_(t,e){return h2.call(t,e)}var w_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Jd(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Jd(i)}else Jd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jd(n)}}},fr=class extends to{constructor(e,n,i){super();let r;if(de(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&li.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&y_(e.next,s),error:e.error&&y_(e.error,s),complete:e.complete&&y_(e.complete,s)}):r=e}this.destination=new w_(r)}};function Jd(t){li.useDeprecatedSynchronousErrorHandling?WS(t):Yd(t)}function f2(t){throw t}function v_(t,e){let{onStoppedNotification:n}=li;n&&ha.setTimeout(()=>n(t,e))}var p2={closed:!0,next:hr,error:f2,complete:hr};var pa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gt(t){return t}function Zd(...t){return b_(t)}function b_(t){return t.length===0?Gt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=g2(n)?n:new fr(n,i,r);return fa(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=KS(i),new i((r,s)=>{let o=new fr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[pa](){return this}pipe(...n){return b_(n)(this)}toPromise(n){return n=KS(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function KS(t){var e;return(e=t??li.Promise)!==null&&e!==void 0?e:Promise}function m2(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function g2(t){return t&&t instanceof to||m2(t)&&Qd(t)}function E_(t){return de(t?.lift)}function oe(t){return e=>{if(E_(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(t,e,n,i,r){return new wl(t,e,n,i,r)}var wl=class extends to{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ma(){return oe((t,e)=>{let n=null;t._refCount++;let i=re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ga=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,E_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ct;let n=this.getSubject();e.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ct.EMPTY)}return e}refCount(){return ma()(this)}};var QS=es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Xd(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new QS}next(n){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?g_:(this.currentObservers=null,s.push(n),new Ct(()=>{this.currentObservers=null,Xs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Xd(e,n),t})(),Xd=class extends ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:g_}};var wt=class extends ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var bl={now(){return(bl.delegate||Date).now()},delegate:void 0};var _a=class extends ye{constructor(e=1/0,n=1/0,i=bl){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)a=c;a&&i.splice(0,a+1)}}};var eh=class extends Ct{constructor(e,n){super()}schedule(e,n=0){return this}};var El={setInterval(t,e,...n){let{delegate:i}=El;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=El;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ya=class extends eh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return El.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&El.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xs(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var va=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};va.now=bl.now;var wa=class extends va{constructor(e,n=va.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Ei=new wa(ya),I_=Ei;var th=class extends ya{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var nh=class extends wa{};var no=new nh(th);var ht=new ie(t=>t.complete());function ih(t){return t&&de(t.schedule)}function T_(t){return t[t.length-1]}function ts(t){return de(T_(t))?t.pop():void 0}function Ii(t){return ih(T_(t))?t.pop():void 0}function YS(t,e){return typeof T_(t)=="number"?t.pop():e}function D_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function ZS(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(f){o(f)}}function c(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):r(d.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function JS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function io(t){return this instanceof io?(this.v=t,this):new io(t)}function XS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(_){return function(v){return Promise.resolve(v).then(_,f)}}function a(_,v){i[_]&&(r[_]=function(E){return new Promise(function(S,k){s.push([_,E,S,k])>1||c(_,E)})},v&&(r[_]=v(r[_])))}function c(_,v){try{u(i[_](v))}catch(E){m(s[0][3],E)}}function u(_){_.value instanceof io?Promise.resolve(_.value.v).then(d,f):m(s[0][2],_)}function d(_){c("next",_)}function f(_){c("throw",_)}function m(_,v){_(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function e1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JS=="function"?JS(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var ba=t=>t&&typeof t.length=="number"&&typeof t!="function";function rh(t){return de(t?.then)}function sh(t){return de(t[pa])}function oh(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function ah(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ch=_2();function lh(t){return de(t?.[ch])}function uh(t){return XS(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield io(n.read());if(r)return yield io(void 0);yield yield io(i)}}finally{n.releaseLock()}})}function dh(t){return de(t?.getReader)}function be(t){if(t instanceof ie)return t;if(t!=null){if(sh(t))return y2(t);if(ba(t))return v2(t);if(rh(t))return w2(t);if(oh(t))return t1(t);if(lh(t))return b2(t);if(dh(t))return E2(t)}throw ah(t)}function y2(t){return new ie(e=>{let n=t[pa]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function v2(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function w2(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Yd)})}function b2(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function t1(t){return new ie(e=>{I2(t,e).catch(n=>e.error(n))})}function E2(t){return t1(uh(t))}function I2(t,e){var n,i,r,s;return ZS(this,void 0,void 0,function*(){try{for(n=e1(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function Zt(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Wn(t,e=0){return oe((n,i)=>{n.subscribe(re(i,r=>Zt(i,t,()=>i.next(r),e),()=>Zt(i,t,()=>i.complete(),e),r=>Zt(i,t,()=>i.error(r),e)))})}function ns(t,e=0){return oe((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function n1(t,e){return be(t).pipe(ns(e),Wn(e))}function i1(t,e){return be(t).pipe(ns(e),Wn(e))}function r1(t,e){return new ie(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function s1(t,e){return new ie(n=>{let i;return Zt(n,e,()=>{i=t[ch](),Zt(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>de(i?.return)&&i.return()})}function hh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Zt(n,e,()=>{let i=t[Symbol.asyncIterator]();Zt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function o1(t,e){return hh(uh(t),e)}function a1(t,e){if(t!=null){if(sh(t))return n1(t,e);if(ba(t))return r1(t,e);if(rh(t))return i1(t,e);if(oh(t))return hh(t,e);if(lh(t))return s1(t,e);if(dh(t))return o1(t,e)}throw ah(t)}function ve(t,e){return e?a1(t,e):be(t)}function Z(...t){let e=Ii(t);return ve(t,e)}function is(t,e){let n=de(t)?t:()=>t,i=r=>r.error(n());return new ie(e?r=>e.schedule(i,0,r):i)}var rs=class t{constructor(e,n,i){this.kind=e,this.value=n,this.error=i,this.hasValue=e==="N"}observe(e){return S_(this,e)}do(e,n,i){let{kind:r,value:s,error:o}=this;return r==="N"?e?.(s):r==="E"?n?.(o):i?.()}accept(e,n,i){var r;return de((r=e)===null||r===void 0?void 0:r.next)?this.observe(e):this.do(e,n,i)}toObservable(){let{kind:e,value:n,error:i}=this,r=e==="N"?Z(n):e==="E"?is(()=>i):e==="C"?ht:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};rs.completeNotification=new rs("C");function S_(t,e){var n,i,r;let{kind:s,value:o,error:a}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(n=e.next)===null||n===void 0||n.call(e,o):s==="E"?(i=e.error)===null||i===void 0||i.call(e,a):(r=e.complete)===null||r===void 0||r.call(e)}function C_(t){return!!t&&(t instanceof ie||de(t.lift)&&de(t.subscribe))}var pr=es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fh(t){return t instanceof Date&&!isNaN(t)}var T2=es(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function A_(t,e){let{first:n,each:i,with:r=D2,scheduler:s=e??Ei,meta:o=null}=fh(t)?{first:t}:typeof t=="number"?{each:t}:t;if(n==null&&i==null)throw new TypeError("No timeout provided.");return oe((a,c)=>{let u,d,f=null,m=0,_=v=>{d=Zt(c,s,()=>{try{u.unsubscribe(),be(r({meta:o,lastValue:f,seen:m})).subscribe(c)}catch(E){c.error(E)}},v)};u=a.subscribe(re(c,v=>{d?.unsubscribe(),m++,c.next(f=v),i>0&&_(i)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!m&&_(n!=null?typeof n=="number"?n:+n-s.now():i)})}function D2(t){throw new T2(t)}function Y(t,e){return oe((n,i)=>{let r=0;n.subscribe(re(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:S2}=Array;function C2(t,e){return S2(e)?t(...e):t(e)}function Ea(t){return Y(e=>C2(t,e))}var{isArray:A2}=Array,{getPrototypeOf:M2,prototype:R2,keys:O2}=Object;function ph(t){if(t.length===1){let e=t[0];if(A2(e))return{args:e,keys:null};if(x2(e)){let n=O2(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function x2(t){return t&&typeof t=="object"&&M2(t)===R2}function mh(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Tn(...t){let e=Ii(t),n=ts(t),{args:i,keys:r}=ph(t);if(i.length===0)return ve([],e);let s=new ie(N2(i,e,r?o=>mh(r,o):Gt));return n?s.pipe(Ea(n)):s}function N2(t,e,n=Gt){return i=>{c1(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)c1(e,()=>{let u=ve(t[c],e),d=!1;u.subscribe(re(i,f=>{s[c]=f,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function c1(t,e,n){t?Zt(n,t,e):e()}function l1(t,e,n,i,r,s,o,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},_=E=>u<i?v(E):c.push(E),v=E=>{s&&e.next(E),u++;let S=!1;be(n(E,d++)).subscribe(re(e,k=>{r?.(k),s?_(k):e.next(k)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;c.length&&u<i;){let k=c.shift();o?Zt(e,o,()=>v(k)):v(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(re(e,_,()=>{f=!0,m()})),()=>{a?.()}}function Ve(t,e,n=1/0){return de(e)?Ve((i,r)=>Y((s,o)=>e(i,s,r,o))(be(t(i,r))),n):(typeof e=="number"&&(n=e),oe((i,r)=>l1(i,r,t,n)))}function Ti(t=1/0){return Ve(Gt,t)}function u1(){return Ti(1)}function Di(...t){return u1()(ve(t,Ii(t)))}function Il(t){return new ie(e=>{be(t()).subscribe(e)})}function M_(...t){let e=ts(t),{args:n,keys:i}=ph(t),r=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let f=!1;be(n[d]).subscribe(re(s,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(i?mh(i,a):a),s.complete())}))}});return e?r.pipe(Ea(e)):r}var P2=["addListener","removeListener"],k2=["addEventListener","removeEventListener"],F2=["on","off"];function Kn(t,e,n,i){if(de(n)&&(i=n,n=void 0),i)return Kn(t,e,n).pipe(Ea(i));let[r,s]=B2(t)?k2.map(o=>a=>t[o](e,a,n)):L2(t)?P2.map(d1(t,e)):V2(t)?F2.map(d1(t,e)):[];if(!r&&ba(t))return Ve(o=>Kn(o,e,n))(be(t));if(!r)throw new TypeError("Invalid event target");return new ie(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function d1(t,e){return n=>i=>t[n](e,i)}function L2(t){return de(t.addListener)&&de(t.removeListener)}function V2(t){return de(t.on)&&de(t.off)}function B2(t){return de(t.addEventListener)&&de(t.removeEventListener)}function Tl(t=0,e,n=I_){let i=-1;return e!=null&&(ih(e)?n=e:i=e),new ie(r=>{let s=fh(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function ss(...t){let e=Ii(t),n=YS(t,1/0),i=t;return i.length?i.length===1?be(i[0]):Ti(n)(ve(i,e)):ht}var{isArray:j2}=Array;function gh(t){return t.length===1&&j2(t[0])?t[0]:t}function qe(t,e){return oe((n,i)=>{let r=0;n.subscribe(re(i,s=>t.call(e,s,r++)&&i.next(s)))})}function R_(...t){return t=gh(t),t.length===1?be(t[0]):new ie(U2(t))}function U2(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(be(t[i]).subscribe(re(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function Dl(...t){let e=ts(t),n=gh(t);return n.length?new ie(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)be(n[o]).subscribe(re(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());i.next(e?e(...c):c),r.some((u,d)=>!u.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):ht}function et(t){return oe((e,n)=>{let i=null,r=!1,s;i=e.subscribe(re(n,void 0,void 0,o=>{s=be(t(o,et(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function _h(t,e,n,i,r){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(re(o,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function h1(t,e){return oe(_h(t,e,arguments.length>=2,!1,!0))}var $2=(t,e)=>(t.push(e),t);function Sl(){return oe((t,e)=>{h1($2,[])(t).subscribe(e)})}function Si(t,e){return de(e)?Ve(t,e,1):Ve(t,1)}function O_(t,e=Ei){return oe((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,i.next(u)}};function c(){let u=o+t,d=e.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}a()}n.subscribe(re(i,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function os(t){return oe((e,n)=>{let i=!1;e.subscribe(re(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function At(t){return t<=0?()=>ht:oe((e,n)=>{let i=0;e.subscribe(re(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Cl(){return oe((t,e)=>{t.subscribe(re(e,hr))})}function Al(t){return Y(()=>t)}function x_(t,e){return e?n=>Di(e.pipe(At(1),Cl()),n.pipe(x_(t))):Ve((n,i)=>be(t(n,i)).pipe(At(1),Al(n)))}function hn(t,e=Ei){let n=Tl(t,e);return x_(()=>n)}function N_(){return oe((t,e)=>{t.subscribe(re(e,n=>S_(n,e)))})}function Ia(t,e=Gt){return t=t??H2,oe((n,i)=>{let r,s=!0;n.subscribe(re(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function H2(t,e){return t===e}function yh(t=G2){return oe((e,n)=>{let i=!1;e.subscribe(re(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function G2(){return new pr}function P_(...t){return e=>Di(e,Z(...t))}function jt(t,e){return e?n=>n.pipe(jt((i,r)=>be(t(i,r)).pipe(Y((s,o)=>e(i,s,r,o))))):oe((n,i)=>{let r=0,s=null,o=!1;n.subscribe(re(i,a=>{s||(s=re(i,void 0,()=>{s=null,o&&i.complete()}),be(t(a,r++)).subscribe(s))},()=>{o=!0,!s&&i.complete()}))})}function ro(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ci(t,e){let n=arguments.length>=2;return i=>i.pipe(t?qe((r,s)=>t(r,s,i)):Gt,At(1),n?os(e):yh(()=>new pr))}function vh(t,e,n,i){return oe((r,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:i}=e;let a=new Map,c=v=>{a.forEach(v),v(s)},u=v=>c(E=>E.error(v)),d=0,f=!1,m=new wl(s,v=>{try{let E=t(v),S=a.get(E);if(!S){a.set(E,S=i?i():new ye);let k=_(E,S);if(s.next(k),n){let H=re(S,()=>{S.complete(),H?.unsubscribe()},void 0,void 0,()=>a.delete(E));m.add(be(n(k)).subscribe(H))}}S.next(o?o(v):v)}catch(E){u(E)}},()=>c(v=>v.complete()),u,()=>a.clear(),()=>(f=!0,d===0));r.subscribe(m);function _(v,E){let S=new ie(k=>{d++;let H=E.subscribe(k);return()=>{H.unsubscribe(),--d===0&&f&&m.unsubscribe()}});return S.key=v,S}})}function Ta(t){return t<=0?()=>ht:oe((e,n)=>{let i=[];e.subscribe(re(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function k_(t,e){let n=arguments.length>=2;return i=>i.pipe(t?qe((r,s)=>t(r,s,i)):Gt,Ta(1),n?os(e):yh(()=>new pr))}function F_(){return oe((t,e)=>{t.subscribe(re(e,n=>{e.next(rs.createNext(n))},()=>{e.next(rs.createComplete()),e.complete()},n=>{e.next(rs.createError(n)),e.complete()}))})}function L_(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return Y(n=>{let i=n;for(let r=0;r<e;r++){let s=i?.[t[r]];if(typeof s<"u")i=s;else return}return i})}function as(t,e){return oe(_h(t,e,arguments.length>=2,!0))}function B_(t={}){let{connector:e=()=>new ye,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),o=c=void 0,d=f=!1},v=()=>{let E=o;_(),E?.unsubscribe()};return oe((E,S)=>{u++,!f&&!d&&m();let k=c=c??e();S.add(()=>{u--,u===0&&!f&&!d&&(a=V_(v,r))}),k.subscribe(S),!o&&u>0&&(o=new fr({next:H=>k.next(H),error:H=>{f=!0,m(),a=V_(_,n,H),k.error(H)},complete:()=>{d=!0,m(),a=V_(_,i),k.complete()}}),be(E).subscribe(o))})(s)}}function V_(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new fr({next:()=>{i.unsubscribe(),t()}});return be(e(...n)).subscribe(i)}function Ml(t){return qe((e,n)=>t<=n)}function Da(...t){let e=Ii(t);return oe((n,i)=>{(e?Di(t,n,e):Di(t,n)).subscribe(i)})}function Mt(t,e){return oe((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(re(i,c=>{r?.unsubscribe();let u=0,d=s++;be(t(c,d)).subscribe(r=re(i,f=>i.next(e?e(c,f,d,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function bt(t){return oe((e,n)=>{be(t).subscribe(re(n,()=>n.complete(),hr)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let i=de(t)||e||n?{next:t,error:e,complete:n}:t;return i?oe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(re(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Gt}function cs(...t){let e=ts(t);return oe((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)be(t[c]).subscribe(re(i,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Gt))&&(o=null))},hr));n.subscribe(re(i,c=>{if(a){let u=[c,...s];i.next(e?e(...u):u)}}))})}var eC="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(lv(e,n)),this.code=e}};function lv(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Gl(t){return{toString:t}.toString()}var wh="__parameters__";function z2(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function uv(t,e,n){return Gl(()=>{let i=z2(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,d){let f=c.hasOwnProperty(wh)?c[wh]:Object.defineProperty(c,wh,{value:[]})[wh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var zt=globalThis;function Xe(t){for(let e in t)if(t[e]===Xe)return e;throw Error("Could not find renamed property on target object.")}function q2(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(pn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ty(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var W2=Xe({__forward_ref__:Xe});function br(t){return t.__forward_ref__=br,t.toString=function(){return pn(this())},t}function fn(t){return tC(t)?t():t}function tC(t){return typeof t=="function"&&t.hasOwnProperty(W2)&&t.__forward_ref__===br}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function le(t){return{providers:t.providers||[],imports:t.imports||[]}}function tf(t){return f1(t,iC)||f1(t,rC)}function nC(t){return tf(t)!==null}function f1(t,e){return t.hasOwnProperty(e)?t[e]:null}function K2(t){let e=t&&(t[iC]||t[rC]);return e||null}function p1(t){return t&&(t.hasOwnProperty(m1)||t.hasOwnProperty(Q2))?t[m1]:null}var iC=Xe({\u0275prov:Xe}),m1=Xe({\u0275inj:Xe}),rC=Xe({ngInjectableDef:Xe}),Q2=Xe({ngInjectorDef:Xe}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sC(t){return t&&!!t.\u0275providers}var Y2=Xe({\u0275cmp:Xe}),J2=Xe({\u0275dir:Xe}),Z2=Xe({\u0275pipe:Xe}),X2=Xe({\u0275mod:Xe}),Nh=Xe({\u0275fac:Xe}),Rl=Xe({__NG_ELEMENT_ID__:Xe}),g1=Xe({__NG_ENV_ID__:Xe});function zl(t){return typeof t=="string"?t:t==null?"":String(t)}function eB(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():zl(t)}function tB(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function dv(t,e){throw new j(-201,!1)}var Me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Me||{}),ny;function oC(){return ny}function Dn(t){let e=ny;return ny=t,e}function aC(t,e,n){let i=tf(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Me.Optional)return null;if(e!==void 0)return e;dv(t,"Injector")}var nB={},xl=nB,iy="__NG_DI_FLAG__",Ph="ngTempTokenPath",iB="ngTokenPath",rB=/\n/gm,sB="\u0275",_1="__source",Ra;function oB(){return Ra}function ls(t){let e=Ra;return Ra=t,e}function aB(t,e=Me.Default){if(Ra===void 0)throw new j(-203,!1);return Ra===null?aC(t,void 0,e):Ra.get(t,e&Me.Optional?null:void 0,e)}function x(t,e=Me.Default){return(oC()||aB)(fn(t),e)}function N(t,e=Me.Default){return x(t,nf(e))}function nf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ry(t){let e=[];for(let n=0;n<t.length;n++){let i=fn(t[n]);if(Array.isArray(i)){if(i.length===0)throw new j(900,!1);let r,s=Me.Default;for(let o=0;o<i.length;o++){let a=i[o],c=cB(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(x(r,s))}else e.push(x(i))}return e}function hv(t,e){return t[iy]=e,t.prototype[iy]=e,t}function cB(t){return t[iy]}function lB(t,e,n,i){let r=t[Ph];throw e[_1]&&r.unshift(e[_1]),t.message=uB(`
`+t.message,r,n,i),t[iB]=r,t[Ph]=null,t}function uB(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sB?t.slice(2):t;let r=pn(e);if(Array.isArray(e))r=e.map(pn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):pn(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(rB,`
  `)}`}var fv=hv(uv("Inject",t=>({token:t})),-1),Rt=hv(uv("Optional"),8);var pv=hv(uv("SkipSelf"),4);function ao(t,e){let n=t.hasOwnProperty(Nh);return n?t[Nh]:null}function dB(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function hB(t){return t.flat(Number.POSITIVE_INFINITY)}function mv(t,e){t.forEach(n=>Array.isArray(n)?mv(n,e):e(n))}function cC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fB(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function pB(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function gv(t,e,n){let i=ql(t,e);return i>=0?t[i|1]=n:(i=~i,pB(t,i,e,n)),i}function j_(t,e){let n=ql(t,e);if(n>=0)return t[n|1]}function ql(t,e){return mB(t,e,1)}function mB(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var xa={},Sn=[],ds=new V(""),lC=new V("",-1),uC=new V(""),Fh=class{get(e,n=xl){if(n===xl){let i=new Error(`NullInjectorError: No provider for ${pn(e)}!`);throw i.name="NullInjectorError",i}return n}},dC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dC||{}),Ri=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ri||{}),xt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(xt||{});function gB(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function sy(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];_B(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function hC(t){return t===3||t===4||t===6}function _B(t){return t.charCodeAt(0)===64}function Nl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?y1(t,n,r,null,e[++i]):y1(t,n,r,null,null))}}return t}function y1(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var fC="ng-template";function yB(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&gB(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(_v(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function _v(t){return t.type===4&&t.value!==fC}function vB(t,e,n){let i=t.type===4&&!n?fC:t.value;return e===i}function wB(t,e,n){let i=4,r=t.attrs,s=r!==null?IB(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ui(i)&&!ui(c))return!1;if(o&&ui(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!vB(t,c,n)||c===""&&e.length===1){if(ui(i))return!1;o=!0}}else if(i&8){if(r===null||!yB(t,r,c,n)){if(ui(i))return!1;o=!0}}else{let u=e[++a],d=bB(c,r,_v(t),n);if(d===-1){if(ui(i))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=r[d+1].toLowerCase(),i&2&&u!==f){if(ui(i))return!1;o=!0}}}}return ui(i)||o}function ui(t){return(t&1)===0}function bB(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return TB(e,t)}function pC(t,e,n=!1){for(let i=0;i<e.length;i++)if(wB(t,e[i],n))return!0;return!1}function EB(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function IB(t){for(let e=0;e<t.length;e++){let n=t[e];if(hC(n))return e}return t.length}function TB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function DB(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function v1(t,e){return t?":not("+e.trim()+")":e}function SB(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!ui(o)&&(e+=v1(s,r),r=""),i=o,s=s||!ui(i);n++}return r!==""&&(e+=v1(s,r)),e}function CB(t){return t.map(SB).join(",")}function AB(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!ui(r))break;r=s}i++}return{attrs:e,classes:n}}function He(t){return Gl(()=>{let e=wC(t),n=Q(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ri.Emulated,styles:t.styles||Sn,_:null,schemas:t.schemas||null,tView:null,id:""});bC(n);let i=t.dependencies;return n.directiveDefs=b1(i,!1),n.pipeDefs=b1(i,!0),n.id=OB(n),n})}function MB(t){return mr(t)||gC(t)}function RB(t){return t!==null}function ue(t){return Gl(()=>({type:t.type,bootstrap:t.bootstrap||Sn,declarations:t.declarations||Sn,imports:t.imports||Sn,exports:t.exports||Sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function w1(t,e){if(t==null)return xa;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=xt.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==xt.None?[i,a]:i,e[s]=o):n[s]=i}return n}function Ge(t){return Gl(()=>{let e=wC(t);return bC(e),e})}function mC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function mr(t){return t[Y2]||null}function gC(t){return t[J2]||null}function _C(t){return t[Z2]||null}function yC(t){let e=mr(t)||gC(t)||_C(t);return e!==null?e.standalone:!1}function vC(t,e){let n=t[X2]||null;if(!n&&e===!0)throw new Error(`Type ${pn(t)} does not have '\u0275mod' property.`);return n}function wC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:w1(t.inputs,e),outputs:w1(t.outputs),debugInfo:null}}function bC(t){t.features?.forEach(e=>e(t))}function b1(t,e){if(!t)return null;let n=e?_C:MB;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(RB)}function OB(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function xB(...t){return{\u0275providers:EC(!0,t),\u0275fromNgModule:!0}}function EC(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return mv(e,o=>{let a=o;oy(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&IC(r,s),n}function IC(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];yv(r,s=>{e(s,i)})}}function oy(t,e,n,i){if(t=fn(t),!t)return!1;let r=null,s=p1(t),o=!s&&mr(t);if(!s&&!o){let c=t.ngModule;if(s=p1(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)oy(u,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{mv(s.imports,d=>{oy(d,e,n,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&IC(u,e)}if(!a){let u=ao(r)||(()=>new r);e({provide:r,useFactory:u,deps:Sn},r),e({provide:uC,useValue:r,multi:!0},r),e({provide:ds,useValue:()=>x(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;yv(c,d=>{e(d,u)})}}else return!1;return r!==t&&t.providers!==void 0}function yv(t,e){for(let n of t)sC(n)&&(n=n.\u0275providers),Array.isArray(n)?yv(n,e):e(n)}var NB=Xe({provide:String,useValue:Xe});function TC(t){return t!==null&&typeof t=="object"&&NB in t}function PB(t){return!!(t&&t.useExisting)}function kB(t){return!!(t&&t.useFactory)}function Na(t){return typeof t=="function"}function FB(t){return!!t.useClass}var rf=new V(""),Ch={},LB={},U_;function sf(){return U_===void 0&&(U_=new Fh),U_}var qt=class{},Pl=class extends qt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cy(e,o=>this.processProvider(o)),this.records.set(lC,Sa(void 0,this)),r.has("environment")&&this.records.set(qt,Sa(void 0,this));let s=this.records.get(rf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uC,Sn,Me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ls(this),i=Dn(void 0),r;try{return e()}finally{ls(n),Dn(i)}}get(e,n=xl,i=Me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(g1))return e[g1](this);i=nf(i);let r,s=ls(this),o=Dn(void 0);try{if(!(i&Me.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=$B(e)&&tf(e);u&&this.injectableDefInScope(u)?c=Sa(ay(e),Ch):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Me.Self?sf():this.parent;return n=i&Me.Optional&&n===xl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ph]=a[Ph]||[]).unshift(pn(e)),s)throw a;return lB(a,e,"R3InjectorError",this.source)}else throw a}finally{Dn(o),ls(s)}}resolveInjectorInitializers(){let e=xe(null),n=ls(this),i=Dn(void 0),r;try{let s=this.get(ds,Sn,Me.Self);for(let o of s)o()}finally{ls(n),Dn(i),xe(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(pn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=fn(e);let n=Na(e)?e:fn(e&&e.provide),i=BB(e);if(!Na(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Sa(void 0,Ch,!0),r.factory=()=>ry(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=xe(null);try{return n.value===Ch&&(n.value=LB,n.value=n.factory()),typeof n.value=="object"&&n.value&&UB(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=fn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ay(t){let e=tf(t),n=e!==null?e.factory:ao(t);if(n!==null)return n;if(t instanceof V)throw new j(204,!1);if(t instanceof Function)return VB(t);throw new j(204,!1)}function VB(t){if(t.length>0)throw new j(204,!1);let n=K2(t);return n!==null?()=>n.factory(t):()=>new t}function BB(t){if(TC(t))return Sa(void 0,t.useValue);{let e=DC(t);return Sa(e,Ch)}}function DC(t,e,n){let i;if(Na(t)){let r=fn(t);return ao(r)||ay(r)}else if(TC(t))i=()=>fn(t.useValue);else if(kB(t))i=()=>t.useFactory(...ry(t.deps||[]));else if(PB(t))i=()=>x(fn(t.useExisting));else{let r=fn(t&&(t.useClass||t.provide));if(jB(t))i=()=>new r(...ry(t.deps));else return ao(r)||ay(r)}return i}function Sa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jB(t){return!!t.deps}function UB(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $B(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function cy(t,e){for(let n of t)Array.isArray(n)?cy(n,e):n&&sC(n)?cy(n.\u0275providers,e):e(n)}function Er(t,e){t instanceof Pl&&t.assertNotDestroyed();let n,i=ls(t),r=Dn(void 0);try{return e()}finally{ls(i),Dn(r)}}function SC(){return oC()!==void 0||oB()!=null}function of(t){if(!SC())throw new j(-203,!1)}function HB(t){let e=zt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function GB(t){return typeof t=="function"}var Ni=0,we=1,pe=2,Wt=3,hi=4,Nn=5,Pa=6,kl=7,Xt=8,ka=9,fi=10,Et=11,Fl=12,E1=13,ja=14,Qn=15,Wl=16,Ca=17,gr=18,af=19,CC=20,us=21,$_=22,co=23,tn=25,vv=1;var lo=7,Lh=8,Fa=9,en=10,wv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wv||{});function so(t){return Array.isArray(t)&&typeof t[vv]=="object"}function Ir(t){return Array.isArray(t)&&t[vv]===!0}function bv(t){return(t.flags&4)!==0}function cf(t){return t.componentOffset>-1}function lf(t){return(t.flags&1)===1}function _r(t){return!!t.template}function zB(t){return(t[pe]&512)!==0}var ly=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function AC(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Yn(){return MC}function MC(t){return t.type.prototype.ngOnChanges&&(t.setInput=WB),qB}Yn.ngInherit=!0;function qB(){let t=OC(this),e=t?.current;if(e){let n=t.previous;if(n===xa)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function WB(t,e,n,i,r){let s=this.declaredInputs[i],o=OC(t)||KB(t,{previous:xa,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new ly(u&&u.currentValue,n,c===xa),AC(t,e,r,n)}var RC="__ngSimpleChanges__";function OC(t){return t[RC]||null}function KB(t,e){return t[RC]=e}var I1=null;var Ai=function(t,e,n){I1?.(t,e,n)},QB="svg",YB="math",JB=!1;function ZB(){return JB}function Oi(t){for(;Array.isArray(t);)t=t[Ni];return t}function XB(t){for(;Array.isArray(t);){if(typeof t[vv]=="object")return t;t=t[Ni]}return null}function xC(t,e){return Oi(e[t])}function Jn(t,e){return Oi(e[t.index])}function Ev(t,e){return t.data[e]}function NC(t,e){return t[e]}function ps(t,e){let n=e[t];return so(n)?n:n[Ni]}function ej(t){return(t[pe]&4)===4}function Iv(t){return(t[pe]&128)===128}function tj(t){return Ir(t[Wt])}function La(t,e){return e==null?null:t[e]}function PC(t){t[Ca]=0}function nj(t){t[pe]&1024||(t[pe]|=1024,Iv(t)&&Ll(t))}function ij(t,e){for(;t>0;)e=e[ja],t--;return e}function Tv(t){return!!(t[pe]&9216||t[co]?.dirty)}function uy(t){t[fi].changeDetectionScheduler?.notify(1),Tv(t)?Ll(t):t[pe]&64&&(ZB()?(t[pe]|=1024,Ll(t)):t[fi].changeDetectionScheduler?.notify())}function Ll(t){t[fi].changeDetectionScheduler?.notify();let e=Vl(t);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!Iv(e)));)e=Vl(e)}function kC(t,e){if((t[pe]&256)===256)throw new j(911,!1);t[us]===null&&(t[us]=[]),t[us].push(e)}function rj(t,e){if(t[us]===null)return;let n=t[us].indexOf(e);n!==-1&&t[us].splice(n,1)}function Vl(t){let e=t[Wt];return Ir(e)?e[Wt]:e}var Ce={lFrame:zC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sj(){return Ce.lFrame.elementDepthCount}function oj(){Ce.lFrame.elementDepthCount++}function aj(){Ce.lFrame.elementDepthCount--}function FC(){return Ce.bindingsEnabled}function LC(){return Ce.skipHydrationRootTNode!==null}function cj(t){return Ce.skipHydrationRootTNode===t}function lj(){Ce.skipHydrationRootTNode=null}function Ae(){return Ce.lFrame.lView}function Ot(){return Ce.lFrame.tView}function rn(t){return Ce.lFrame.contextLView=t,t[Xt]}function sn(t){return Ce.lFrame.contextLView=null,t}function mn(){let t=VC();for(;t!==null&&t.type===64;)t=t.parent;return t}function VC(){return Ce.lFrame.currentTNode}function uj(){let t=Ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function yo(t,e){let n=Ce.lFrame;n.currentTNode=t,n.isParent=e}function Dv(){return Ce.lFrame.isParent}function Sv(){Ce.lFrame.isParent=!1}function dj(){return Ce.lFrame.contextLView}function BC(){let t=Ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hj(t){return Ce.lFrame.bindingIndex=t}function vo(){return Ce.lFrame.bindingIndex++}function jC(t){let e=Ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fj(){return Ce.lFrame.inI18n}function pj(t,e){let n=Ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,dy(e)}function mj(){return Ce.lFrame.currentDirectiveIndex}function dy(t){Ce.lFrame.currentDirectiveIndex=t}function UC(t){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $C(){return Ce.lFrame.currentQueryIndex}function Cv(t){Ce.lFrame.currentQueryIndex=t}function gj(t){let e=t[we];return e.type===2?e.declTNode:e.type===1?t[Nn]:null}function HC(t,e,n){if(n&Me.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&Me.Host);)if(r=gj(s),r===null||(s=s[ja],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=Ce.lFrame=GC();return i.currentTNode=e,i.lView=t,!0}function Av(t){let e=GC(),n=t[we];Ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function GC(){let t=Ce.lFrame,e=t===null?null:t.child;return e===null?zC(t):e}function zC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qC(){let t=Ce.lFrame;return Ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var WC=qC;function Mv(){let t=qC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _j(t){return(Ce.lFrame.contextLView=ij(t,Ce.lFrame.contextLView))[Xt]}function ms(){return Ce.lFrame.selectedIndex}function uo(t){Ce.lFrame.selectedIndex=t}function uf(){let t=Ce.lFrame;return Ev(t.tView,t.selectedIndex)}function yj(){return Ce.lFrame.currentNamespace}var KC=!0;function df(){return KC}function hf(t){KC=t}function vj(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=MC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ff(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Ah(t,e,n){QC(t,e,3,n)}function Mh(t,e,n,i){(t[pe]&3)===n&&QC(t,e,n,i)}function H_(t,e){let n=t[pe];(n&3)===e&&(n&=16383,n+=1,t[pe]=n)}function QC(t,e,n,i){let r=i!==void 0?t[Ca]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Ca]+=65536),(a<s||s==-1)&&(wj(t,n,e,c),t[Ca]=(t[Ca]&4294901760)+c+2),c++}function T1(t,e){Ai(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),Ai(5,t,e)}}function wj(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[pe]>>14<t[Ca]>>16&&(t[pe]&3)===e&&(t[pe]+=16384,T1(a,s)):T1(a,s)}var Oa=-1,ho=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function bj(t){return t instanceof ho}function Ej(t){return(t.flags&8)!==0}function Ij(t){return(t.flags&16)!==0}function YC(t){return t!==Oa}function Vh(t){return t&32767}function Tj(t){return t>>16}function Bh(t,e){let n=Tj(t),i=e;for(;n>0;)i=i[ja],n--;return i}var hy=!0;function jh(t){let e=hy;return hy=t,e}var Dj=256,JC=Dj-1,ZC=5,Sj=0,Mi={};function Cj(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Rl)&&(i=n[Rl]),i==null&&(i=n[Rl]=Sj++);let r=i&JC,s=1<<r;e.data[t+(r>>ZC)]|=s}function Uh(t,e){let n=XC(t,e);if(n!==-1)return n;let i=e[we];i.firstCreatePass&&(t.injectorIndex=e.length,G_(i.data,t),G_(e,null),G_(i.blueprint,null));let r=Rv(t,e),s=t.injectorIndex;if(YC(r)){let o=Vh(r),a=Bh(r,e),c=a[we].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function G_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function XC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=rA(r),i===null)return Oa;if(n++,r=r[ja],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Oa}function fy(t,e,n){Cj(t,e,n)}function Aj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(hC(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function eA(t,e,n){if(n&Me.Optional||t!==void 0)return t;dv(e,"NodeInjector")}function tA(t,e,n,i){if(n&Me.Optional&&i===void 0&&(i=null),!(n&(Me.Self|Me.Host))){let r=t[ka],s=Dn(void 0);try{return r?r.get(e,i,n&Me.Optional):aC(e,i,n&Me.Optional)}finally{Dn(s)}}return eA(i,e,n)}function nA(t,e,n,i=Me.Default,r){if(t!==null){if(e[pe]&2048&&!(i&Me.Self)){let o=xj(t,e,n,i,Mi);if(o!==Mi)return o}let s=iA(t,e,n,i,Mi);if(s!==Mi)return s}return tA(e,n,i,r)}function iA(t,e,n,i,r){let s=Rj(n);if(typeof s=="function"){if(!HC(e,t,i))return i&Me.Host?eA(r,n,i):tA(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&Me.Optional))dv(n);else return o}finally{WC()}}else if(typeof s=="number"){let o=null,a=XC(t,e),c=Oa,u=i&Me.Host?e[Qn][Nn]:null;for((a===-1||i&Me.SkipSelf)&&(c=a===-1?Rv(t,e):e[a+8],c===Oa||!S1(i,!1)?a=-1:(o=e[we],a=Vh(c),e=Bh(c,e)));a!==-1;){let d=e[we];if(D1(s,a,d.data)){let f=Mj(a,e,n,o,i,u);if(f!==Mi)return f}c=e[a+8],c!==Oa&&S1(i,e[we].data[a+8]===u)&&D1(s,a,e)?(o=d,a=Vh(c),e=Bh(c,e)):a=-1}}return r}function Mj(t,e,n,i,r,s){let o=e[we],a=o.data[t+8],c=i==null?cf(a)&&hy:i!=o&&(a.type&3)!==0,u=r&Me.Host&&s===a,d=Rh(a,o,n,c,u);return d!==null?fo(e,o,d,a):Mi}function Rh(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,f=i?a:a+d,m=r?a+d:u;for(let _=f;_<m;_++){let v=o[_];if(_<c&&n===v||_>=c&&v.type===n)return _}if(r){let _=o[c];if(_&&_r(_)&&_.type===n)return c}return null}function fo(t,e,n,i){let r=t[n],s=e.data;if(bj(r)){let o=r;o.resolving&&tB(eB(s[n]));let a=jh(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Dn(o.injectImpl):null,d=HC(t,i,Me.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&vj(n,s[n],e)}finally{u!==null&&Dn(u),jh(a),o.resolving=!1,WC()}}return r}function Rj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Rl)?t[Rl]:void 0;return typeof e=="number"?e>=0?e&JC:Oj:e}function D1(t,e,n){let i=1<<t;return!!(n[e+(t>>ZC)]&i)}function S1(t,e){return!(t&Me.Self)&&!(t&Me.Host&&e)}var oo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return nA(this._tNode,this._lView,e,nf(i),n)}};function Oj(){return new oo(mn(),Ae())}function Pn(t){return Gl(()=>{let e=t.prototype.constructor,n=e[Nh]||py(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[Nh]||py(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function py(t){return tC(t)?()=>{let e=py(fn(t));return e&&e()}:ao(t)}function xj(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[pe]&2048&&!(o[pe]&512);){let a=iA(s,o,n,i|Me.Self,Mi);if(a!==Mi)return a;let c=s.parent;if(!c){let u=o[CC];if(u){let d=u.get(n,Mi,i);if(d!==Mi)return d}c=rA(o),o=o[ja]}s=c}return r}function rA(t){let e=t[we],n=e.type;return n===2?e.declTNode:n===1?t[Nn]:null}function wo(t){return Aj(mn(),t)}function C1(t,e=null,n=null,i){let r=sA(t,e,n,i);return r.resolveInjectorInitializers(),r}function sA(t,e=null,n=null,i,r=new Set){let s=[n||Sn,xB(t)];return i=i||(typeof t=="object"?void 0:pn(t)),new Pl(s,e||sf(),i||null,r)}var Ye=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return C1({name:""},r,i,"");{let s=i.name??"";return C1({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=xl,e.NULL=new Fh,e.\u0275prov=B({token:e,providedIn:"any",factory:()=>x(lC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Nj="ngOriginalError";function z_(t){return t[Nj]}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&z_(e);for(;n&&z_(n);)n=z_(n);return n||null}},oA=new V("",{providedIn:"root",factory:()=>N(Cn).handleError.bind(void 0)}),Tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Pj,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),my=class extends Tr{constructor(e){super(),this._lView=e}onDestroy(e){return kC(this._lView,e),()=>rj(this._lView,e)}};function Pj(){return new my(Ae())}function kj(){return Ua(mn(),Ae())}function Ua(t,e){return new ft(Jn(t,e))}var ft=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=kj;let t=e;return t})();function Fj(t){return t instanceof ft?t.nativeElement:t}var gy=class extends ye{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,SC()&&(this.destroyRef=N(Tr,{optional:!0})??void 0)}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=q_(s),r&&(r=q_(r)),o&&(o=q_(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ct&&e.add(a),a}};function q_(t){return e=>{setTimeout(t,void 0,e)}}var $e=gy;function Lj(){return this._results[Symbol.iterator]()}var _y=class t{get changes(){return this._changes??=new $e}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Lj)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=hB(e);(this._changesDetected=!dB(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function aA(t){return(t.flags&128)===128}var cA=new Map,Vj=0;function Bj(){return Vj++}function jj(t){cA.set(t[af],t)}function Uj(t){cA.delete(t[af])}var A1="__ngContext__";function hs(t,e){so(e)?(t[A1]=e[af],jj(e)):t[A1]=e}function lA(t){return dA(t[Fl])}function uA(t){return dA(t[hi])}function dA(t){for(;t!==null&&!Ir(t);)t=t[hi];return t}var yy;function hA(t){yy=t}function fA(){if(yy!==void 0)return yy;if(typeof document<"u")return document;throw new j(210,!1)}var pf=new V("",{providedIn:"root",factory:()=>$j}),$j="ng",Ov=new V(""),pi=new V("",{providedIn:"platform",factory:()=>"unknown"});var xv=new V(""),Nv=new V("",{providedIn:"root",factory:()=>fA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Hj="h",Gj="b";var zj=()=>null;function Pv(t,e,n=!1){return zj(t,e,n)}var pA=!1,qj=new V("",{providedIn:"root",factory:()=>pA});var bh;function Wj(){if(bh===void 0&&(bh=null,zt.trustedTypes))try{bh=zt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bh}function mf(t){return Wj()?.createHTML(t)||t}var Eh;function mA(){if(Eh===void 0&&(Eh=null,zt.trustedTypes))try{Eh=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eh}function M1(t){return mA()?.createHTML(t)||t}function R1(t){return mA()?.createScriptURL(t)||t}var yr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eC})`}},vy=class extends yr{getTypeName(){return"HTML"}},wy=class extends yr{getTypeName(){return"Style"}},by=class extends yr{getTypeName(){return"Script"}},Ey=class extends yr{getTypeName(){return"URL"}},Iy=class extends yr{getTypeName(){return"ResourceURL"}};function Zn(t){return t instanceof yr?t.changingThisBreaksApplicationSecurity:t}function Dr(t,e){let n=Kj(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eC})`)}return n===e}function Kj(t){return t instanceof yr&&t.getTypeName()||null}function gA(t){return new vy(t)}function _A(t){return new wy(t)}function yA(t){return new by(t)}function vA(t){return new Ey(t)}function wA(t){return new Iy(t)}function Qj(t){let e=new Dy(t);return Yj()?new Ty(e):e}var Ty=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(mf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Dy=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=mf(e),n}};function Yj(){try{return!!new window.DOMParser().parseFromString(mf(""),"text/html")}catch{return!1}}var Jj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gf(t){return t=String(t),t.match(Jj)?t:"unsafe:"+t}function Sr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Kl(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var bA=Sr("area,br,col,hr,img,wbr"),EA=Sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IA=Sr("rp,rt"),Zj=Kl(IA,EA),Xj=Kl(EA,Sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eU=Kl(IA,Sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O1=Kl(bA,Xj,eU,Zj),TA=Sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tU=Sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nU=Sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),iU=Kl(TA,tU,nU),rU=Sr("script,style,template"),Sy=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=aU(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=oU(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=x1(e).toLowerCase();if(!O1.hasOwnProperty(n))return this.sanitizedSomething=!0,!rU.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!iU.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;TA[a]&&(c=gf(c)),this.buf.push(" ",o,'="',N1(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=x1(e).toLowerCase();O1.hasOwnProperty(n)&&!bA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(N1(e))}};function sU(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function oU(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw DA(e);return e}function aU(t){let e=t.firstChild;if(e&&sU(t,e))throw DA(e);return e}function x1(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function DA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var cU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lU=/([^\#-~ |!])/g;function N1(t){return t.replace(/&/g,"&amp;").replace(cU,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(lU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ih;function kv(t,e){let n=null;try{Ih=Ih||Qj(t);let i=e?String(e):"";n=Ih.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Ih.getInertBodyElement(i)}while(i!==s);let a=new Sy().sanitizeChildren(P1(n)||n);return mf(a)}finally{if(n){let i=P1(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function P1(t){return"content"in t&&uU(t)?t.content:null}function uU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var kn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kn||{});function Fv(t){let e=Vv();return e?M1(e.sanitize(kn.HTML,t)||""):Dr(t,"HTML")?M1(Zn(t)):kv(fA(),zl(t))}function $a(t){let e=Vv();return e?e.sanitize(kn.URL,t)||"":Dr(t,"URL")?Zn(t):gf(zl(t))}function Lv(t){let e=Vv();if(e)return R1(e.sanitize(kn.RESOURCE_URL,t)||"");if(Dr(t,"ResourceURL"))return R1(Zn(t));throw new j(904,!1)}function dU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Lv:$a}function SA(t,e,n){return dU(e,n)(t)}function Vv(){let t=Ae();return t&&t[fi].sanitizer}var hU=/^>|^->|<!--|-->|--!>|<!-$/g,fU=/(<|>)/g,pU="\u200B$1\u200B";function mU(t){return t.replace(hU,e=>e.replace(fU,pU))}function CA(t){return t.ownerDocument.defaultView}function AA(t){return t instanceof Function?t():t}function gU(t){return(t??N(Ye)).get(pi)==="browser"}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(vr||{}),_U;function Bv(t,e){return _U(t,e)}function Aa(t,e,n,i,r){if(i!=null){let s,o=!1;Ir(i)?s=i:so(i)&&(o=!0,i=i[Ni]);let a=Oi(i);t===0&&n!==null?r==null?NA(e,n,a):$h(e,n,a,r||null,!0):t===1&&n!==null?$h(e,n,a,r||null,!0):t===2?NU(e,a,o):t===3&&e.destroyNode(a),s!=null&&kU(e,t,s,n,r)}}function yU(t,e){return t.createText(e)}function vU(t,e,n){t.setValue(e,n)}function wU(t,e){return t.createComment(mU(e))}function MA(t,e,n){return t.createElement(e,n)}function bU(t,e){RA(t,e),e[Ni]=null,e[Nn]=null}function EU(t,e,n,i,r,s){i[Ni]=r,i[Nn]=e,vf(t,i,n,1,r,s)}function RA(t,e){e[fi].changeDetectionScheduler?.notify(1),vf(t,e,e[Et],2,null,null)}function IU(t){let e=t[Fl];if(!e)return W_(t[we],t);for(;e;){let n=null;if(so(e))n=e[Fl];else{let i=e[en];i&&(n=i)}if(!n){for(;e&&!e[hi]&&e!==t;)so(e)&&W_(e[we],e),e=e[Wt];e===null&&(e=t),so(e)&&W_(e[we],e),n=e&&e[hi]}e=n}}function TU(t,e,n,i){let r=en+i,s=n.length;i>0&&(n[r-1][hi]=e),i<s-en?(e[hi]=n[r],cC(n,en+i,e)):(n.push(e),e[hi]=null),e[Wt]=n;let o=e[Wl];o!==null&&n!==o&&DU(o,e);let a=e[gr];a!==null&&a.insertView(t),uy(e),e[pe]|=128}function DU(t,e){let n=t[Fa],r=e[Wt][Wt][Qn];e[Qn]!==r&&(t[pe]|=wv.HasTransplantedViews),n===null?t[Fa]=[e]:n.push(e)}function OA(t,e){let n=t[Fa],i=n.indexOf(e);n.splice(i,1)}function Bl(t,e){if(t.length<=en)return;let n=en+e,i=t[n];if(i){let r=i[Wl];r!==null&&r!==t&&OA(r,i),e>0&&(t[n-1][hi]=i[hi]);let s=kh(t,en+e);bU(i[we],i);let o=s[gr];o!==null&&o.detachView(s[we]),i[Wt]=null,i[hi]=null,i[pe]&=-129}return i}function _f(t,e){if(!(e[pe]&256)){let n=e[Et];n.destroyNode&&vf(t,e,n,3,null,null),IU(e)}}function W_(t,e){if(e[pe]&256)return;let n=xe(null);try{e[pe]&=-129,e[pe]|=256,e[co]&&NS(e[co]),CU(t,e),SU(t,e),e[we].type===1&&e[Et].destroy();let i=e[Wl];if(i!==null&&Ir(e[Wt])){i!==e[Wt]&&OA(i,e);let r=e[gr];r!==null&&r.detachView(t)}Uj(e)}finally{xe(n)}}function SU(t,e){let n=t.cleanup,i=e[kl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[kl]=null);let r=e[us];if(r!==null){e[us]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function CU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof ho)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];Ai(4,a,c);try{c.call(a)}finally{Ai(5,a,c)}}else{Ai(4,r,s);try{s.call(r)}finally{Ai(5,r,s)}}}}}function xA(t,e,n){return AU(t,e.parent,n)}function AU(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Ni];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===Ri.None||s===Ri.Emulated)return null}return Jn(i,n)}}function $h(t,e,n,i,r){t.insertBefore(e,n,i,r)}function NA(t,e,n){t.appendChild(e,n)}function k1(t,e,n,i,r){i!==null?$h(t,e,n,i,r):NA(t,e,n)}function MU(t,e,n,i){t.removeChild(e,n,i)}function jv(t,e){return t.parentNode(e)}function RU(t,e){return t.nextSibling(e)}function PA(t,e,n){return xU(t,e,n)}function OU(t,e,n){return t.type&40?Jn(t,n):null}var xU=OU,F1;function yf(t,e,n,i){let r=xA(t,i,e),s=e[Et],o=i.parent||e[Nn],a=PA(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)k1(s,r,n[c],a,!1);else k1(s,r,n,a,!1);F1!==void 0&&F1(s,i,e,n,r)}function Oh(t,e){if(e!==null){let n=e.type;if(n&3)return Jn(e,t);if(n&4)return Cy(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Oh(t,i);{let r=t[e.index];return Ir(r)?Cy(-1,r):Oi(r)}}else{if(n&32)return Bv(e,t)()||Oi(t[e.index]);{let i=kA(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Vl(t[Qn]);return Oh(r,i)}else return Oh(t,e.next)}}}return null}function kA(t,e){if(e!==null){let i=t[Qn][Nn],r=e.projection;return i.projection[r]}return null}function Cy(t,e){let n=en+t+1;if(n<e.length){let i=e[n],r=i[we].firstChild;if(r!==null)return Oh(i,r)}return e[lo]}function NU(t,e,n){let i=jv(t,e);i&&MU(t,i,e,n)}function Uv(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&hs(Oi(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Uv(t,e,n.child,i,r,s,!1),Aa(e,t,r,a,s);else if(c&32){let u=Bv(n,i),d;for(;d=u();)Aa(e,t,r,d,s);Aa(e,t,r,a,s)}else c&16?FA(t,e,i,n,r,s):Aa(e,t,r,a,s);n=o?n.projectionNext:n.next}}function vf(t,e,n,i,r,s){Uv(n,i,t.firstChild,e,r,s,!1)}function PU(t,e,n){let i=e[Et],r=xA(t,n,e),s=n.parent||e[Nn],o=PA(s,n,e);FA(i,0,e,n,r,o)}function FA(t,e,n,i,r,s){let o=n[Qn],c=o[Nn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Aa(e,t,r,d,s)}else{let u=c,d=o[Wt];aA(i)&&(u.flags|=128),Uv(t,e,u,d,r,s,!0)}}function kU(t,e,n,i,r){let s=n[lo],o=Oi(n);s!==o&&Aa(e,t,i,s,r);for(let a=en;a<n.length;a++){let c=n[a];vf(c[we],c,t,e,i,s)}}function FU(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:vr.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=vr.Important),t.setStyle(n,i,r,s))}}function LU(t,e,n){t.setAttribute(e,"style",n)}function LA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VA(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&sy(t,e,i),r!==null&&LA(t,e,r),s!==null&&LU(t,e,s)}var Cr={};function G(t=1){BA(Ot(),Ae(),ms()+t,!1)}function BA(t,e,n,i){if(!i)if((e[pe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ah(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Mh(e,s,0,n)}uo(n)}function W(t,e=Me.Default){let n=Ae();if(n===null)return x(t,e);let i=mn();return nA(i,n,fn(t),e)}function jA(){let t="invalid";throw new Error(t)}function UA(t,e,n,i,r,s){let o=xe(null);try{let a=null;r&xt.SignalBased&&(a=e[i][Xr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&xt.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):AC(e,a,i,s)}finally{xe(o)}}function VU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)uo(~r);else{let s=r,o=n[++i],a=n[++i];pj(o,s);let c=e[s];a(2,c)}}}finally{uo(-1)}}function wf(t,e,n,i,r,s,o,a,c,u,d){let f=e.blueprint.slice();return f[Ni]=r,f[pe]=i|4|128|8|64,(u!==null||t&&t[pe]&2048)&&(f[pe]|=2048),PC(f),f[Wt]=f[ja]=t,f[Xt]=n,f[fi]=o||t&&t[fi],f[Et]=a||t&&t[Et],f[ka]=c||t&&t[ka]||null,f[Nn]=s,f[af]=Bj(),f[Pa]=d,f[CC]=u,f[Qn]=e.type==2?t[Qn]:f,f}function Ha(t,e,n,i,r){let s=t.data[e];if(s===null)s=BU(t,e,n,i,r),fj()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=uj();s.injectorIndex=o===null?-1:o.injectorIndex}return yo(s,!0),s}function BU(t,e,n,i,r){let s=VC(),o=Dv(),a=o?s:s&&s.parent,c=t.data[e]=zU(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function $A(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function HA(t,e,n,i,r){let s=ms(),o=i&2;try{uo(-1),o&&e.length>tn&&BA(t,e,tn,!1),Ai(o?2:0,r),n(i,r)}finally{uo(s),Ai(o?3:1,r)}}function $v(t,e,n){if(bv(e)){let i=xe(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{xe(i)}}}function Hv(t,e,n){FC()&&(JU(t,e,n,Jn(n,e)),(n.flags&64)===64&&qA(t,e,n))}function Gv(t,e,n=Jn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function GA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zv(t,e,n,i,r,s,o,a,c,u,d){let f=tn+i,m=f+r,_=jU(f,m),v=typeof u=="function"?u():u;return _[we]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function jU(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Cr);return n}function UU(t,e,n,i){let s=i.get(qj,pA)||n===Ri.ShadowDom,o=t.selectRootElement(e,s);return $U(o),o}function $U(t){HU(t)}var HU=()=>null;function GU(t,e,n,i){let r=QA(e);r.push(n),t.firstCreatePass&&YA(t).push(i,r.length-1)}function zU(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return LC()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function L1(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=xt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?V1(i,n,u,a,c):V1(i,n,u,a)}return i}function V1(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function qU(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=i;d<r;d++){let f=s[d],m=n?n.get(f):null,_=m?m.inputs:null,v=m?m.outputs:null;c=L1(0,f.inputs,d,c,_),u=L1(1,f.outputs,d,u,v);let E=c!==null&&o!==null&&!_v(e)?c$(c,d,o):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function WU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qv(t,e,n,i,r,s,o,a){let c=Jn(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(Kv(t,n,d,i,r),cf(e)&&KU(n,e.index)):e.type&3?(i=WU(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function KU(t,e){let n=ps(e,t);n[pe]&16||(n[pe]|=64)}function Wv(t,e,n,i){if(FC()){let r=i===null?null:{"":-1},s=XU(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&zA(t,e,n,o,r,a),r&&e$(n,i,r)}n.mergedAttrs=Nl(n.mergedAttrs,n.attrs)}function zA(t,e,n,i,r,s){for(let u=0;u<i.length;u++)fy(Uh(n,e),t,i[u].type);n$(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=$A(t,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];n.mergedAttrs=Nl(n.mergedAttrs,d.hostAttrs),i$(t,n,e,c,d),t$(c,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}qU(t,n,s)}function QU(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;YU(o)!=a&&o.push(a),o.push(n,i,s)}}function YU(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function JU(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;cf(n)&&r$(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Uh(n,e),hs(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=fo(e,t,a,n);if(hs(u,e),o!==null&&a$(e,a-r,u,c,n,o),_r(c)){let d=ps(n.index,e);d[Xt]=fo(e,t,a,n)}}}function qA(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=mj();try{uo(s);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];dy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ZU(c,u)}}finally{uo(-1),dy(o)}}function ZU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function XU(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(pC(e,o.selectors,!1))if(i||(i=[]),_r(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;Ay(t,e,c)}else i.unshift(o),Ay(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Ay(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function e$(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new j(-301,!1);i.push(e[r],s)}}}function t$(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;_r(e)&&(n[""]=t)}}function n$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function i$(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=ao(r.type,!0)),o=new ho(s,_r(r),W);t.blueprint[i]=o,n[i]=o,QU(t,e,i,$A(t,n,r.hostVars,Cr),r)}function r$(t,e,n){let i=Jn(e,t),r=GA(n),s=t[fi].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=bf(t,wf(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function s$(t,e,n,i,r,s){let o=Jn(t,e);o$(e[Et],o,s,t.value,n,i,r)}function o$(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?zl(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function a$(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],f=o[a++];UA(i,n,c,u,d,f)}}function c$(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function WA(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function KA(t,e){let n=t.contentQueries;if(n!==null){let i=xe(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Cv(s),a.contentQueries(2,e[o],o)}}}finally{xe(i)}}}function bf(t,e){return t[Fl]?t[E1][hi]=e:t[Fl]=e,t[E1]=e,e}function My(t,e,n){Cv(0);let i=xe(null);try{e(t,n)}finally{xe(i)}}function QA(t){return t[kl]||(t[kl]=[])}function YA(t){return t.cleanup||(t.cleanup=[])}function l$(t,e,n){return(t===null||_r(t))&&(n=XB(n[e.index])),n[Et]}function JA(t,e){let n=t[ka],i=n?n.get(Cn,null):null;i&&i.handleError(e)}function Kv(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];UA(d,u,i,a,c,r)}}function u$(t,e,n){let i=xC(e,t);vU(t[Et],i,n)}function d$(t,e){let n=ps(e,t),i=n[we];h$(i,n);let r=n[Ni];r!==null&&n[Pa]===null&&(n[Pa]=Pv(r,n[ka])),Qv(i,n,n[Xt])}function h$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Qv(t,e,n){Av(e);try{let i=t.viewQuery;i!==null&&My(1,i,n);let r=t.template;r!==null&&HA(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gr]?.finishViewCreation(t),t.staticContentQueries&&KA(t,e),t.staticViewQueries&&My(2,t.viewQuery,n);let s=t.components;s!==null&&f$(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[pe]&=-5,Mv()}}function f$(t,e){for(let n=0;n<e.length;n++)d$(t,e[n])}function Ef(t,e,n,i){let r=xe(null);try{let s=e.tView,a=t[pe]&4096?4096:16,c=wf(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[Wl]=u;let d=t[gr];return d!==null&&(c[gr]=d.createEmbeddedView(s)),Qv(s,c,n),c}finally{xe(r)}}function ZA(t,e){let n=en+e;if(n<t.length)return t[n]}function jl(t,e){return!e||e.firstChild===null||aA(t)}function If(t,e,n,i=!0){let r=e[we];if(TU(r,e,t,n),i){let o=Cy(n,t),a=e[Et],c=jv(a,t[lo]);c!==null&&EU(r,t[Nn],a,e,c,o)}let s=e[Pa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function XA(t,e){let n=Bl(t,e);return n!==void 0&&_f(n[we],n),n}function Hh(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Oi(s)),Ir(s)&&p$(s,i);let o=n.type;if(o&8)Hh(t,e,n.child,i);else if(o&32){let a=Bv(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=kA(e,n);if(Array.isArray(a))i.push(...a);else{let c=Vl(e[Qn]);Hh(c[we],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function p$(t,e){for(let n=en;n<t.length;n++){let i=t[n],r=i[we].firstChild;r!==null&&Hh(i[we],i,r,e)}t[lo]!==t[Ni]&&e.push(t[lo])}var eM=[];function m$(t){return t[co]??g$(t)}function g$(t){let e=eM.pop()??Object.create(y$);return e.lView=t,e}function _$(t){t.lView[co]!==t&&(t.lView=null,eM.push(t))}var y$=Q(R({},qd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ll(t.lView)},consumerOnSignalRead(){this.lView[co]=this}}),tM=100;function nM(t,e=!0,n=0){let i=t[fi],r=i.rendererFactory,s=!1;s||r.begin?.();try{v$(t,n)}catch(o){throw e&&JA(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function v$(t,e){Ry(t,e);let n=0;for(;Tv(t);){if(n===tM)throw new j(103,!1);n++,Ry(t,1)}}function w$(t,e,n,i){let r=e[pe];if((r&256)===256)return;let s=!1;!s&&e[fi].inlineEffectRunner?.flush(),Av(e);let o=null,a=null;!s&&b$(t)&&(a=m$(e),o=h_(a));try{PC(e),hj(t.bindingStartIndex),n!==null&&HA(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&Ah(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Mh(e,f,0,null),H_(e,0)}if(E$(e),iM(e,0),t.contentQueries!==null&&KA(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&Ah(e,f)}else{let f=t.contentHooks;f!==null&&Mh(e,f,1),H_(e,1)}VU(t,e);let u=t.components;u!==null&&sM(e,u,0);let d=t.viewQuery;if(d!==null&&My(2,d,i),!s)if(c){let f=t.viewCheckHooks;f!==null&&Ah(e,f)}else{let f=t.viewHooks;f!==null&&Mh(e,f,2),H_(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$_]){for(let f of e[$_])f();e[$_]=null}s||(e[pe]&=-73)}catch(c){throw Ll(e),c}finally{a!==null&&(f_(a,o),_$(a)),Mv()}}function b$(t){return t.type!==2}function iM(t,e){for(let n=lA(t);n!==null;n=uA(n))for(let i=en;i<n.length;i++){let r=n[i];rM(r,e)}}function E$(t){for(let e=lA(t);e!==null;e=uA(e)){if(!(e[pe]&wv.HasTransplantedViews))continue;let n=e[Fa];for(let i=0;i<n.length;i++){let r=n[i],s=r[Wt];nj(r)}}}function I$(t,e,n){let i=ps(e,t);rM(i,n)}function rM(t,e){Iv(t)&&Ry(t,e)}function Ry(t,e){let i=t[we],r=t[pe],s=t[co],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&p_(s)),s&&(s.dirty=!1),t[pe]&=-9217,o)w$(i,t,i.template,t[Xt]);else if(r&8192){iM(t,1);let a=i.components;a!==null&&sM(t,a,1)}}function sM(t,e,n){for(let i=0;i<e.length;i++)I$(t,e[i],n)}function Yv(t){for(t[fi].changeDetectionScheduler?.notify();t;){t[pe]|=64;let e=Vl(t);if(zB(t)&&!e)return t;t=e}return null}var po=class{get rootNodes(){let e=this._lView,n=e[we];return Hh(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return(this._lView[pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Wt];if(Ir(e)){let n=e[Lh],i=n?n.indexOf(this):-1;i>-1&&(Bl(e,i),kh(n,i))}this._attachedToViewContainer=!1}_f(this._lView[we],this._lView)}onDestroy(e){kC(this._lView,e)}markForCheck(){Yv(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){uy(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,nM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,RA(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,uy(this._lView)}},xi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S$;let t=e;return t})(),T$=xi,D$=class extends T${constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Ef(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new po(r)}};function S$(){return Jv(mn(),Ae())}function Jv(t,e){return t.type&4?new D$(e,t,Ua(t,e)):null}var oae=new RegExp(`^(\\d+)*(${Gj}|${Hj})*(.*)`);var C$=()=>null;function Ul(t,e){return C$(t,e)}var Va=class{},Oy=class{},Gh=class{};function A$(t){let e=Error(`No component factory found for ${pn(t)}.`);return e[M$]=t,e}var M$="ngComponent";var xy=class{resolveComponentFactory(e){throw A$(e)}},Ga=(()=>{let e=class e{};e.NULL=new xy;let t=e;return t})(),mo=class{},mi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>R$();let t=e;return t})();function R$(){let t=Ae(),e=mn(),n=ps(e.index,t);return(so(n)?n:t)[Et]}var O$=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),K_={};var B1=new Set;function gs(t){B1.has(t)||(B1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function j1(...t){}function x$(){let t=typeof zt.requestAnimationFrame=="function",e=zt[t?"requestAnimationFrame":"setTimeout"],n=zt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var fe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=x$().nativeRequestAnimationFrame,k$(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,N$,j1,j1);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},N$={};function Zv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function P$(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ny(t),t.isCheckStableRunning=!0,Zv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ny(t))}function k$(t){let e=()=>{P$(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(F$(a))return n.invokeTask(r,s,o,a);try{return U1(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),$1(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return U1(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),$1(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ny(t),Zv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ny(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function U1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $1(t){t._nesting--,Zv(t)}var Py=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function F$(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function L$(t="zone.js",e){return t==="noop"?new Py:t==="zone.js"?new fe(e):t}var Ma=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ma||{}),V$={destroy(){}};function Tf(t,e){!e&&of(Tf);let n=e?.injector??N(Ye);if(!gU(n))return V$;gs("NgAfterNextRender");let i=n.get(Xv),r=i.handler??=new Fy,s=e?.phase??Ma.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(Tr).onDestroy(o),c=Er(n,()=>new ky(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var ky=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=N(fe),this.errorHandler=N(Cn,{optional:!0}),N(Va,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Fy=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ma.EarlyRead]:new Set,[Ma.Write]:new Set,[Ma.MixedReadWrite]:new Set,[Ma.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Xv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function zh(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=ty(r,a);else if(s==2){let c=a,u=e[++o];i=ty(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var qh=class extends Ga{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mr(e);return new go(n,this.ngModule)}};function H1(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function B$(t){let e=t.toLowerCase();return e==="svg"?QB:e==="math"?YB:null}var Ly=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=nf(i);let r=this.injector.get(e,K_,i);return r!==K_||n===K_?r:this.parentInjector.get(e,n,i)}},go=class extends Gh{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=H1(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return H1(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CB(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=xe(null);try{r=r||this.ngModule;let o=r instanceof qt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ly(e,o):e,c=a.get(mo,null);if(c===null)throw new j(407,!1);let u=a.get(O$,null),d=a.get(Xv,null),f=a.get(Va,null),m={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},_=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=i?UU(_,i,this.componentDef.encapsulation,a):MA(_,v,B$(v)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let k=null;E!==null&&(k=Pv(E,a,!0));let H=zv(0,null,null,1,0,null,null,null,null,null,null),J=wf(null,H,null,S,null,null,m,_,a,null,k);Av(J);let $,ae;try{let q=this.componentDef,T,y=null;q.findHostDirectiveDefs?(T=[],y=new Map,q.findHostDirectiveDefs(q,T,y),T.push(q)):T=[q];let w=j$(J,E),D=U$(w,E,q,T,J,m,_);ae=Ev(H,tn),E&&G$(_,q,E,i),n!==void 0&&z$(ae,this.ngContentSelectors,n),$=H$(D,q,T,y,J,[q$]),Qv(H,J,null)}finally{Mv()}return new Vy(this.componentType,$,Ua(ae,J),J,ae)}finally{xe(s)}}},Vy=class extends Oy{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new po(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Kv(s[we],s,r,e,n),this.previousInputValues.set(e,n);let o=ps(this._tNode.index,s);Yv(o)}}get injector(){return new oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function j$(t,e){let n=t[we],i=tn;return t[i]=e,Ha(n,i,2,"#host",null)}function U$(t,e,n,i,r,s,o){let a=r[we];$$(i,t,e,o);let c=null;e!==null&&(c=Pv(e,r[ka]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=wf(r,GA(n),null,d,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Ay(a,t,i.length-1),bf(r,f),r[t.index]=f}function $$(t,e,n,i){for(let r of t)e.mergedAttrs=Nl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(zh(e,e.mergedAttrs,!0),n!==null&&VA(i,n,e))}function H$(t,e,n,i,r,s){let o=mn(),a=r[we],c=Jn(o,r);zA(a,r,o,n,null,i);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,m=fo(r,a,f,o);hs(m,r)}qA(a,r,o),c&&hs(c,r);let u=fo(r,a,o.directiveStart+o.componentOffset,o);if(t[Xt]=r[Xt]=u,s!==null)for(let d of s)d(u,e);return $v(a,o,r),u}function G$(t,e,n,i){if(i)sy(t,n,["ng-version","17.3.11"]);else{let{attrs:r,classes:s}=AB(e.selectors[0]);r&&sy(t,n,r),s&&s.length>0&&LA(t,n,s.join(" "))}}function z$(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function q$(){let t=mn();ff(Ae()[we],t)}var Pi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=W$;let t=e;return t})();function W$(){let t=mn();return aM(t,Ae())}var K$=Pi,oM=class extends K${constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new oo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rv(this._hostTNode,this._hostLView);if(YC(e)){let n=Bh(e,this._hostLView),i=Vh(e),r=n[we].data[i+8];return new oo(r,n)}else return new oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=G1(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-en}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Ul(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,jl(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!GB(e),a;if(o)a=n;else{let v=n||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let c=o?e:new go(mr(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let E=(o?u:this.parentInjector).get(qt,null);E&&(s=E)}let d=mr(c.componentType??{}),f=Ul(this._lContainer,d?.id??null),m=f?.firstChild??null,_=c.create(u,r,m,s);return this.insertImpl(_.hostView,a,jl(this._hostTNode,f)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(tj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Wt],u=new oM(c,c[Nn],c[Wt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return If(o,r,s,i),e.attachToViewContainerRef(),cC(Q_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=G1(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Bl(this._lContainer,n);i&&(kh(Q_(this._lContainer),n),_f(i[we],i))}detach(e){let n=this._adjustIndex(e,-1),i=Bl(this._lContainer,n);return i&&kh(Q_(this._lContainer),n)!=null?new po(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function G1(t){return t[Lh]}function Q_(t){return t[Lh]||(t[Lh]=[])}function aM(t,e){let n,i=e[t.index];return Ir(i)?n=i:(n=WA(i,e,null,t),e[t.index]=n,bf(e,n)),Y$(n,e,t,i),new oM(n,t,e)}function Q$(t,e){let n=t[Et],i=n.createComment(""),r=Jn(e,t),s=jv(n,r);return $h(n,s,i,RU(n,r),!1),i}var Y$=X$,J$=()=>!1;function Z$(t,e,n){return J$(t,e,n)}function X$(t,e,n,i){if(t[lo])return;let r;n.type&8?r=Oi(i):r=Q$(e,n),t[lo]=r}var By=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},jy=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)e0(e,n).matches!==null&&this.queries[n].setDirty()}},Wh=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=aH(e):this.predicate=e}},Uy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$y=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,eH(n,s)),this.matchTNodeWithReadOption(e,n,Rh(n,e,s,!1,!1))}else i===xi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Rh(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ft||r===Pi||r===xi&&n.type&4)this.addMatch(n.index,-2);else{let s=Rh(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function eH(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function tH(t,e){return t.type&11?Ua(t,e):t.type&4?Jv(t,e):null}function nH(t,e,n,i){return n===-1?tH(e,t):n===-2?iH(t,e,i):fo(t,t[we],n,e)}function iH(t,e,n){if(n===ft)return Ua(e,t);if(n===xi)return Jv(e,t);if(n===Pi)return aM(e,t)}function cM(t,e,n,i){let r=e[gr].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(nH(e,d,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function Hy(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=cM(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let f=en;f<d.length;f++){let m=d[f];m[Wl]===m[Wt]&&Hy(m[we],m,u,i)}if(d[Fa]!==null){let f=d[Fa];for(let m=0;m<f.length;m++){let _=f[m];Hy(_[we],_,u,i)}}}}}return i}function rH(t,e){return t[gr].queries[e].queryList}function lM(t,e,n){let i=new _y((n&4)===4);return GU(t,e,i,i.destroy),(e[gr]??=new jy).queries.push(new By(i))-1}function sH(t,e,n){let i=Ot();return i.firstCreatePass&&(uM(i,new Wh(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),lM(i,Ae(),e)}function oH(t,e,n,i){let r=Ot();if(r.firstCreatePass){let s=mn();uM(r,new Wh(e,n,i),s.index),cH(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return lM(r,Ae(),n)}function aH(t){return t.split(",").map(e=>e.trim())}function uM(t,e,n){t.queries===null&&(t.queries=new Uy),t.queries.track(new $y(e,n))}function cH(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function e0(t,e){return t.queries.getByIndex(e)}function lH(t,e){let n=t[we],i=e0(n,e);return i.crossesNgTemplate?Hy(n,t,e,[]):cM(n,t,i,e)}function _s(t,e){gs("NgSignals");let n=jS(t),i=n[Xr];return e?.equal&&(i.equal=e.equal),n.set=r=>m_(i,r),n.update=r=>US(i,r),n.asReadonly=uH.bind(n),n}function uH(){let t=this[Xr];if(t.readonlyFn===void 0){let e=()=>this();e[Xr]=t,t.readonlyFn=e}return t.readonlyFn}function dH(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(mH))}return s}return Kh.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((f,m)=>{a.push(""),o.push(i(f).then(_=>{a[u+m]=_,d.splice(d.indexOf(f),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>gH(s));e.push(c)}),fH(),Promise.all(e).then(()=>{})}var Kh=new Map,hH=new Set;function fH(){let t=Kh;return Kh=new Map,t}function pH(){return Kh.size===0}function mH(t){return typeof t=="string"?t:t.text()}function gH(t){hH.delete(t)}function _H(t){return Object.getPrototypeOf(t.prototype).constructor}function Xn(t){let e=_H(t.type),n=!0,i=[t];for(;e;){let r;if(_r(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=Th(t.inputs),o.inputTransforms=Th(t.inputTransforms),o.declaredInputs=Th(t.declaredInputs),o.outputs=Th(t.outputs);let a=r.hostBindings;a&&EH(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&wH(t,c),u&&bH(t,u),yH(t,r),q2(t.outputs,r.outputs),_r(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Xn&&(n=!1)}}e=Object.getPrototypeOf(e)}vH(i)}function yH(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function vH(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Nl(r.hostAttrs,n=Nl(n,r.hostAttrs))}}function Th(t){return t===xa?{}:t===Sn?[]:t}function wH(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function bH(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function EH(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function t0(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var fs=class{},$l=class{};var Qh=class extends fs{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qh(this);let r=vC(e);this._bootstrapComponents=AA(r.bootstrap),this._r3Injector=sA(e,n,[{provide:fs,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver},...i],pn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yh=class extends $l{constructor(e){super(),this.moduleType=e}create(e){return new Qh(this.moduleType,e,[])}};function IH(t,e,n){return new Qh(t,e,n)}var Gy=class extends fs{constructor(e){super(),this.componentFactoryResolver=new qh(this),this.instance=null;let n=new Pl([...e.providers,{provide:fs,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver}],e.parent||sf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Df(t,e,n=null){return new Gy({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Sf=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dM(t){return DH(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function TH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function DH(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function SH(t,e,n){return t[e]=n}function ki(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function CH(t){return(t.flags&32)===32}function AH(t,e,n,i,r,s,o,a,c){let u=e.consts,d=Ha(e,t,4,o||null,La(u,a));Wv(e,n,d,La(u,c)),ff(e,d);let f=d.tView=zv(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function Se(t,e,n,i,r,s,o,a){let c=Ae(),u=Ot(),d=t+tn,f=u.firstCreatePass?AH(d,u,c,e,n,i,r,s,o):u.data[d];yo(f,!1);let m=MH(u,c,f,t);df()&&yf(u,c,m,f),hs(m,c);let _=WA(m,c,m,f);return c[d]=_,bf(c,_),Z$(_,f,c),lf(f)&&Hv(u,c,f),o!=null&&Gv(c,f,a),Se}var MH=RH;function RH(t,e,n,i){return hf(!0),e[Et].createComment("")}function gn(t,e,n,i){let r=Ae(),s=vo();if(ki(r,s,e)){let o=Ot(),a=uf();s$(a,r,t,e,n,i)}return gn}function OH(t,e,n,i){return ki(t,vo(),n)?e+zl(n)+i:Cr}function Dh(t,e){return t<<17|e<<2}function _o(t){return t>>17&32767}function xH(t){return(t&2)==2}function NH(t,e){return t&131071|e<<17}function zy(t){return t|2}function Ba(t){return(t&131068)>>2}function Y_(t,e){return t&-131069|e<<2}function PH(t){return(t&1)===1}function qy(t){return t|1}function kH(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=_o(o),c=Ba(o);t[i]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||ql(f,d)>0)&&(u=!0)}else d=n;if(r)if(c!==0){let m=_o(t[a+1]);t[i+1]=Dh(m,a),m!==0&&(t[m+1]=Y_(t[m+1],i)),t[a+1]=NH(t[a+1],i)}else t[i+1]=Dh(a,0),a!==0&&(t[a+1]=Y_(t[a+1],i)),a=i;else t[i+1]=Dh(c,0),a===0?a=i:t[c+1]=Y_(t[c+1],i),c=i;u&&(t[i+1]=zy(t[i+1])),z1(t,d,i,!0),z1(t,d,i,!1),FH(e,d,t,i,s),o=Dh(a,c),s?e.classBindings=o:e.styleBindings=o}function FH(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ql(s,e)>=0&&(n[i+1]=qy(n[i+1]))}function z1(t,e,n,i){let r=t[n+1],s=e===null,o=i?_o(r):Ba(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];LH(c,e)&&(a=!0,t[o+1]=i?qy(u):zy(u)),o=i?_o(u):Ba(u)}a&&(t[n+1]=i?zy(r):qy(r))}function LH(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ql(t,e)>=0:!1}var di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VH(t){return t.substring(di.key,di.keyEnd)}function BH(t){return jH(t),hM(t,fM(t,0,di.textEnd))}function hM(t,e){let n=di.textEnd;return n===e?-1:(e=di.keyEnd=UH(t,di.key=e,n),fM(t,e,n))}function jH(t){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=t.length}function fM(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function UH(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ee(t,e,n){let i=Ae(),r=vo();if(ki(i,r,e)){let s=Ot(),o=uf();qv(s,o,i,t,e,i[Et],n,!1)}return ee}function Wy(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";Kv(t,n,s[o],o,i)}function Fi(t,e,n){return pM(t,e,n,!1),Fi}function ei(t,e){return pM(t,e,null,!0),ei}function Fn(t){HH(QH,$H,t,!0)}function $H(t,e){for(let n=BH(e);n>=0;n=hM(e,n))gv(t,VH(e),!0)}function pM(t,e,n,i){let r=Ae(),s=Ot(),o=jC(2);if(s.firstUpdatePass&&gM(s,t,o,i),e!==Cr&&ki(r,o,e)){let a=s.data[ms()];_M(s,a,r,r[Et],t,r[o+1]=JH(e,n),i,o)}}function HH(t,e,n,i){let r=Ot(),s=jC(2);r.firstUpdatePass&&gM(r,null,s,i);let o=Ae();if(n!==Cr&&ki(o,s,n)){let a=r.data[ms()];if(yM(a,i)&&!mM(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ty(c,n||"")),Wy(r,a,o,n,i)}else YH(r,a,o,o[Et],o[s+1],o[s+1]=KH(t,e,n),i,s)}}function mM(t,e){return e>=t.expandoStartIndex}function gM(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[ms()],o=mM(t,n);yM(s,i)&&e===null&&!o&&(e=!1),e=GH(r,s,e,i),kH(r,s,e,n,o,i)}}function GH(t,e,n,i){let r=UC(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=J_(null,t,e,n,i),n=Hl(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=J_(r,t,e,n,i),s===null){let c=zH(t,e,i);c!==void 0&&Array.isArray(c)&&(c=J_(null,t,e,c[1],i),c=Hl(c,e.attrs,i),qH(t,e,i,c))}else s=WH(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function zH(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Ba(i)!==0)return t[_o(i)]}function qH(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[_o(r)]=i}function WH(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=Hl(i,o,n)}return Hl(i,e.attrs,n)}function J_(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=Hl(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Hl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gv(t,o,n?!0:e[++s]))}return t===void 0?null:t}function KH(t,e,n){if(n==null||n==="")return Sn;let i=[],r=Zn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function QH(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&gv(t,i,n)}function YH(t,e,n,i,r,s,o,a){r===Cr&&(r=Sn);let c=0,u=0,d=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=c<r.length?r[c+1]:void 0,_=u<s.length?s[u+1]:void 0,v=null,E;d===f?(c+=2,u+=2,m!==_&&(v=f,E=_)):f===null||d!==null&&d<f?(c+=2,v=d):(u+=2,v=f,E=_),v!==null&&_M(t,e,n,i,v,E,o,a),d=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function _M(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=PH(u)?q1(c,e,n,r,Ba(u),o):void 0;if(!Jh(d)){Jh(s)||xH(u)&&(s=q1(c,null,n,r,a,o));let f=xC(ms(),n);FU(i,o,f,r,s)}}function q1(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=n[r+1];m===Cr&&(m=f?Sn:void 0);let _=f?j_(m,i):d===i?m:void 0;if(u&&!Jh(_)&&(_=j_(c,i)),Jh(_)&&(a=_,o))return a;let v=t[r+1];r=o?_o(v):Ba(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=j_(c,i))}return a}function Jh(t){return t!==void 0}function JH(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pn(Zn(t)))),t}function yM(t,e){return(t.flags&(e?8:16))!==0}var Ky=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,n){this.attach(n,this.detach(e))}};function Z_(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function ZH(t,e,n){let i,r,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],d=Z_(s,c,s,u,n);if(d!==0){d<0&&t.updateValue(s,u),s++;continue}let f=t.at(o),m=e[a],_=Z_(o,f,a,m,n);if(_!==0){_<0&&t.updateValue(o,m),o--,a--;continue}let v=n(s,c),E=n(o,f),S=n(s,u);if(Object.is(S,E)){let k=n(a,m);Object.is(k,v)?(t.swap(s,o),t.updateValue(o,m),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(i??=new Zh,r??=K1(t,s,o,n),Qy(t,i,s,S))t.updateValue(s,u),s++,o++;else if(r.has(S))i.set(v,t.detach(s)),o--;else{let k=t.create(s,e[s]);t.attach(s,k),s++,o++}}for(;s<=a;)W1(t,i,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),d=c.value,f=Z_(s,u,s,d,n);if(f!==0)f<0&&t.updateValue(s,d),s++,c=a.next();else{i??=new Zh,r??=K1(t,s,o,n);let m=n(s,d);if(Qy(t,i,s,m))t.updateValue(s,d),s++,o++,c=a.next();else if(!r.has(m))t.attach(s,t.create(s,d)),s++,o++,c=a.next();else{let _=n(s,u);i.set(_,t.detach(s)),o--}}}for(;!c.done;)W1(t,i,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));i?.forEach(a=>{t.destroy(a)})}function Qy(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function W1(t,e,n,i,r){if(Qy(t,e,i,n(i,r)))t.updateValue(i,r);else{let s=t.create(i,r);t.attach(i,s)}}function K1(t,e,n,i){let r=new Set;for(let s=e;s<=n;s++)r.add(i(s,t.at(s)));return r}var Zh=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function vM(t,e,n){gs("NgControlFlow");let i=Ae(),r=vo(),s=Xy(i,tn+t),o=0;if(ki(i,r,e)){let a=xe(null);try{if(XA(s,o),e!==-1){let c=ev(i[we],tn+e),u=Ul(s,c.tView.ssrId),d=Ef(i,c,n,{dehydratedView:u});If(s,d,o,jl(c,u))}}finally{xe(a)}}else{let a=ZA(s,o);a!==void 0&&(a[Xt]=n)}}var Yy=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-en}};function wM(t,e){return e}var Jy=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function bM(t,e,n,i,r,s,o,a,c,u,d,f,m){gs("NgControlFlow");let _=c!==void 0,v=Ae(),E=a?o.bind(v[Qn][Xt]):o,S=new Jy(_,E);v[tn+t]=S,Se(t+1,e,n,i,r,s),_&&Se(t+2,c,u,d,f,m)}var Zy=class extends Ky{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-en}at(e){return this.getLView(e)[Xt].$implicit}attach(e,n){let i=n[Pa];this.needsIndexUpdate||=e!==this.length,If(this.lContainer,n,e,jl(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,XH(this.lContainer,e)}create(e,n){let i=Ul(this.lContainer,this.templateTNode.tView.ssrId);return Ef(this.hostLView,this.templateTNode,new Yy(this.lContainer,n,e),{dehydratedView:i})}destroy(e){_f(e[we],e)}updateValue(e,n){this.getLView(e)[Xt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Xt].$index=e}getLView(e){return e3(this.lContainer,e)}};function EM(t){let e=xe(null),n=ms();try{let i=Ae(),r=i[we],s=i[n];if(s.liveCollection===void 0){let a=n+1,c=Xy(i,a),u=ev(r,a);s.liveCollection=new Zy(c,i,u)}else s.liveCollection.reset();let o=s.liveCollection;if(ZH(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=vo(),c=o.length===0;if(ki(i,a,c)){let u=n+2,d=Xy(i,u);if(c){let f=ev(r,u),m=Ul(d,f.tView.ssrId),_=Ef(i,f,void 0,{dehydratedView:m});If(d,_,0,jl(f,m))}else XA(d,0)}}}finally{xe(e)}}function Xy(t,e){return t[e]}function XH(t,e){return Bl(t,e)}function e3(t,e){return ZA(t,e)}function ev(t,e){return Ev(t,e)}function t3(t,e,n,i,r,s){let o=e.consts,a=La(o,r),c=Ha(e,t,2,i,a);return Wv(e,n,c,La(o,s)),c.attrs!==null&&zh(c,c.attrs,!1),c.mergedAttrs!==null&&zh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function P(t,e,n,i){let r=Ae(),s=Ot(),o=tn+t,a=r[Et],c=s.firstCreatePass?t3(o,s,r,e,n,i):s.data[o],u=n3(s,r,c,a,e,t);r[o]=u;let d=lf(c);return yo(c,!0),VA(a,u,c),!CH(c)&&df()&&yf(s,r,u,c),sj()===0&&hs(u,r),oj(),d&&(Hv(s,r,c),$v(s,c,r)),i!==null&&Gv(r,c),P}function F(){let t=mn();Dv()?Sv():(t=t.parent,yo(t,!1));let e=t;cj(e)&&lj(),aj();let n=Ot();return n.firstCreatePass&&(ff(n,t),bv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Ej(e)&&Wy(n,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ij(e)&&Wy(n,e,Ae(),e.stylesWithoutHost,!1),F}function _e(t,e,n,i){return P(t,e,n,i),F(),_e}var n3=(t,e,n,i,r,s)=>(hf(!0),MA(i,r,yj()));function i3(t,e,n,i,r){let s=e.consts,o=La(s,i),a=Ha(e,t,8,"ng-container",o);o!==null&&zh(a,o,!0);let c=La(s,r);return Wv(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function on(t,e,n){let i=Ae(),r=Ot(),s=t+tn,o=r.firstCreatePass?i3(s,r,i,e,n):r.data[s];yo(o,!0);let a=r3(r,i,o,t);return i[s]=a,df()&&yf(r,i,a,o),hs(a,i),lf(o)&&(Hv(r,i,o),$v(r,o,i)),n!=null&&Gv(i,o),on}function an(){let t=mn(),e=Ot();return Dv()?Sv():(t=t.parent,yo(t,!1)),e.firstCreatePass&&(ff(e,t),bv(t)&&e.queries.elementEnd(t)),an}var r3=(t,e,n,i)=>(hf(!0),wU(e[Et],""));function _n(){return Ae()}function Ql(t,e,n){let i=Ae(),r=vo();if(ki(i,r,e)){let s=Ot(),o=uf();qv(s,o,i,t,e,i[Et],n,!0)}return Ql}function n0(t,e,n){let i=Ae(),r=vo();if(ki(i,r,e)){let s=Ot(),o=uf(),a=UC(s.data),c=l$(a,o,i);qv(s,o,i,t,e,c,n,!0)}return n0}var Xh="en-US";var s3=Xh;function o3(t){typeof t=="string"&&(s3=t.toLowerCase().replace(/_/g,"-"))}function Be(t,e,n,i){let r=Ae(),s=Ot(),o=mn();return c3(s,r,r[Et],o,t,e,i),Be}function a3(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[kl],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function c3(t,e,n,i,r,s,o){let a=lf(i),u=t.firstCreatePass&&YA(t),d=e[Xt],f=QA(e),m=!0;if(i.type&3||o){let E=Jn(i,e),S=o?o(E):E,k=f.length,H=o?$=>o(Oi($[i.index])):i.index,J=null;if(!o&&a&&(J=a3(t,e,r,i.index)),J!==null){let $=J.__ngLastListenerFn__||J;$.__ngNextListenerFn__=s,J.__ngLastListenerFn__=s,m=!1}else{s=Y1(i,e,d,s,!1);let $=n.listen(S,r,s);f.push(s,$),u&&u.push(r,H,k,k+1)}}else s=Y1(i,e,d,s,!1);let _=i.outputs,v;if(m&&_!==null&&(v=_[r])){let E=v.length;if(E)for(let S=0;S<E;S+=2){let k=v[S],H=v[S+1],ae=e[k][H].subscribe(s),q=f.length;f.push(s,ae),u&&u.push(r,i.index,q,-(q+1))}}}function Q1(t,e,n,i){let r=xe(null);try{return Ai(6,e,n),n(i)!==!1}catch(s){return JA(t,s),!1}finally{Ai(7,e,n),xe(r)}}function Y1(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?ps(t.index,e):e;Yv(a);let c=Q1(e,n,i,o),u=s.__ngNextListenerFn__;for(;u;)c=Q1(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function Re(t=1){return _j(t)}function l3(t,e){let n=null,i=EB(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?pC(t,s,!0):DB(i,s))return r}return n}function IM(t){let e=Ae()[Qn][Nn];if(!e.projection){let n=t?t.length:1,i=e.projection=fB(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?l3(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function TM(t,e=0,n){let i=Ae(),r=Ot(),s=Ha(r,tn+t,16,null,n||null);s.projection===null&&(s.projection=e),Sv(),(!i[Pa]||LC())&&(s.flags&32)!==32&&PU(r,i,s)}function za(t,e,n,i){oH(t,e,n,i)}function i0(t,e,n){sH(t,e,n)}function ys(t){let e=Ae(),n=Ot(),i=$C();Cv(i+1);let r=e0(n,i);if(t.dirty&&ej(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=lH(e,i);t.reset(s,Fj),t.notifyOnChanges()}return!0}return!1}function vs(){return rH(Ae(),$C())}function u3(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function r0(t){let e=dj();return NC(e,tn+t)}function U(t,e=""){let n=Ae(),i=Ot(),r=t+tn,s=i.firstCreatePass?Ha(i,r,1,e,null):i.data[r],o=d3(i,n,s,e,t);n[r]=o,df()&&yf(i,n,o,s),yo(s,!1)}var d3=(t,e,n,i,r)=>(hf(!0),yU(e[Et],i));function st(t){return lt("",t,""),st}function lt(t,e,n){let i=Ae(),r=OH(i,t,e,n);return r!==Cr&&u$(i,ms(),r),lt}function h3(t,e,n){let i=Ot();if(i.firstCreatePass){let r=_r(t);tv(n,i.data,i.blueprint,r,!0),tv(e,i.data,i.blueprint,r,!1)}}function tv(t,e,n,i,r){if(t=fn(t),Array.isArray(t))for(let s=0;s<t.length;s++)tv(t[s],e,n,i,r);else{let s=Ot(),o=Ae(),a=mn(),c=Na(t)?t:fn(t.provide),u=DC(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Na(t)||!t.multi){let _=new ho(u,r,W),v=ey(c,e,r?d:d+m,f);v===-1?(fy(Uh(a,o),s,c),X_(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(_),o.push(_)):(n[v]=_,o[v]=_)}else{let _=ey(c,e,d+m,f),v=ey(c,e,d,d+m),E=_>=0&&n[_],S=v>=0&&n[v];if(r&&!S||!r&&!E){fy(Uh(a,o),s,c);let k=m3(r?p3:f3,n.length,r,i,u);!r&&S&&(n[v].providerFactory=k),X_(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=DM(n[r?v:_],u,!r&&i);X_(s,t,_>-1?_:v,k)}!r&&i&&S&&n[v].componentProviders++}}}function X_(t,e,n,i){let r=Na(e),s=FB(e);if(r||s){let c=(s?fn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[i,c]):u[d+1].push(i,c)}else u.push(n,c)}}}function DM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ey(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function f3(t,e,n,i){return nv(this.multi,[])}function p3(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=fo(n,n[we],this.providerFactory.index,i);s=a.slice(0,o),nv(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],nv(r,s);return s}function nv(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function m3(t,e,n,i,r){let s=new ho(t,n,W);return s.multi=[],s.index=e,s.componentProviders=0,DM(s,r,i&&!n),s}function bo(t,e=[]){return n=>{n.providersResolver=(i,r)=>h3(i,r?r(t):t,e)}}var g3=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=EC(!1,i.type),s=r.length>0?Df([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(x(qt))});let t=e;return t})();function Ar(t){gs("NgStandalone"),t.getStandaloneInjector=e=>e.get(g3).getOrCreateStandaloneInjector(t)}function Cf(t,e,n,i){return SM(Ae(),BC(),t,e,n,i)}function _3(t,e){let n=t[e];return n===Cr?void 0:n}function SM(t,e,n,i,r,s){let o=e+n;return ki(t,o,r)?SH(t,o+1,s?i.call(s,r):i(r)):_3(t,o+1)}function Ft(t,e){let n=Ot(),i,r=t+tn;n.firstCreatePass?(i=y3(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=ao(i.type,!0)),o,a=Dn(W);try{let c=jh(!1),u=s();return jh(c),u3(n,Ae(),r,u),u}finally{Dn(a)}}function y3(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function Lt(t,e,n){let i=t+tn,r=Ae(),s=NC(r,i);return v3(r,i)?SM(r,BC(),e,s.transform,n,s):s.transform(n)}function v3(t,e){return t[we].data[e].pure}var Sh=null;function w3(t){Sh!==null&&(t.defaultEncapsulation!==Sh.defaultEncapsulation||t.preserveWhitespaces!==Sh.preserveWhitespaces)||(Sh=t)}var wr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},CM=new wr("17.3.11"),Af=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var s0=new V(""),Yl=new V(""),Mf=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,o0||(b3(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(x(fe),x(Rf),x(Yl))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Rf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return o0?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function b3(t){o0=t}var o0;function ws(t){return!!t&&typeof t.then=="function"}function a0(t){return!!t&&typeof t.subscribe=="function"}var Of=new V(""),AM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=N(Of,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(ws(o))i.push(o);else if(a0(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),c0=new V("");function E3(){BS(()=>{throw new j(600,!1)})}function I3(t){return t.isBoundToModule}function T3(t,e,n){try{let i=n();return ws(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function MM(t,e){return Array.isArray(e)?e.reduce(MM,t):R(R({},t),e)}var ti=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(oA),this.afterRenderEffectManager=N(Xv),this.externalTestViews=new Set,this.beforeRender=new ye,this.afterTick=new ye,this.componentTypes=[],this.components=[],this.isStable=N(Sf).hasPendingTasks.pipe(Y(i=>!i)),this._injector=N(qt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Gh;if(!this._injector.get(AM).done){let _=!s&&yC(i),v=!1;throw new j(405,v)}let a;s?a=i:a=this._injector.get(Ga).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=I3(a)?void 0:this._injector.get(fs),u=r||a.selector,d=a.create(Ye.NULL,[],u,c),f=d.location.nativeElement,m=d.injector.get(s0,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),xh(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new j(101,!1);let r=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,xe(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===tM)throw new j(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)D3(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>iv(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>iv(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;xh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(c0,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>xh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new j(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function D3(t,e,n){!e&&!iv(t)||S3(t,n,e)}function iv(t){return Tv(t)}function S3(t,e,n){let i;n?(i=0,t[pe]|=1024):t[pe]&64?i=0:i=1,nM(t,e,i)}var rv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xf=(()=>{let e=class e{compileModuleSync(i){return new Yh(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=vC(i),o=AA(s.declarations).reduce((a,c)=>{let u=mr(c);return u&&a.push(new go(u)),a},[]);return new rv(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),C3=new V("");function A3(t,e,n){let i=new Yh(n);return Promise.resolve(i)}function J1(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var M3=(()=>{let e=class e{constructor(){this.zone=N(fe),this.applicationRef=N(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R3(t){return[{provide:fe,useFactory:t},{provide:ds,multi:!0,useFactory:()=>{let e=N(M3,{optional:!0});return()=>e.initialize()}},{provide:ds,multi:!0,useFactory:()=>{let e=N(N3);return()=>{e.initialize()}}},{provide:oA,useFactory:O3}]}function O3(){let t=N(fe),e=N(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function x3(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var N3=(()=>{let e=class e{constructor(){this.subscription=new Ct,this.initialized=!1,this.zone=N(fe),this.pendingTasks=N(Sf)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function P3(){return typeof $localize<"u"&&$localize.locale||Xh}var Nf=new V("",{providedIn:"root",factory:()=>N(Nf,Me.Optional|Me.SkipSelf)||P3()});var RM=new V(""),OM=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=L$(r?.ngZone,x3({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=IH(i.moduleType,this.injector,R3(()=>s)),a=o.injector.get(Cn,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{xh(this._modules,o),c.unsubscribe()})}),T3(a,s,()=>{let c=o.injector.get(AM);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Nf,Xh);return o3(u||Xh),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=MM({},r);return A3(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(ti);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new j(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(RM,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(x(Ye))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ol=null,xM=new V("");function k3(t){if(Ol&&!Ol.get(xM,!1))throw new j(400,!1);E3(),Ol=t;let e=t.get(OM);return V3(t),e}function l0(t,e,n=[]){let i=`Platform: ${e}`,r=new V(i);return(s=[])=>{let o=NM();if(!o||o.injector.get(xM,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):k3(F3(a,i))}return L3(r)}}function F3(t=[],e){return Ye.create({name:e,providers:[{provide:rf,useValue:"platform"},{provide:RM,useValue:new Set([()=>Ol=null])},...t]})}function L3(t){let e=NM();if(!e)throw new j(401,!1);return e}function NM(){return Ol?.get(OM)??null}function V3(t){t.get(Ov,null)?.forEach(n=>n())}function Jl(){return!1}var ni=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=B3;let t=e;return t})();function B3(t){return j3(mn(),Ae(),(t&16)===16)}function j3(t,e,n){if(cf(t)&&!n){let i=ps(t.index,e);return new po(i,i)}else if(t.type&47){let i=e[Qn];return new po(i,e)}return null}var sv=class{constructor(){}supports(e){return dM(e)}create(e){return new ov(e)}},U3=(t,e)=>e,ov=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||U3}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<Z1(i,r,s)?n:i,a=Z1(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,d=c-r;if(u!=d){for(let m=0;m<u;m++){let _=m<s.length?s[m]:s[m]=0,v=_+m;d<=v&&v<u&&(s[m]=_+1)}let f=o.previousIndex;s[f]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!dM(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,TH(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new av(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ef),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ef),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},av=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},ef=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new cv,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Z1(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function X1(){return new u0([new sv])}var u0=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||X1()),deps:[[e,new pv,new Rt]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new j(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:X1});let t=e;return t})();var PM=l0(null,"core",[]),kM=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(x(ti))},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();function qa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Pf(t,e){gs("NgSignals");let n=FS(t);return e?.equal&&(n[Xr].equal=e.equal),n}function kf(t){let e=xe(null);try{return t()}finally{xe(e)}}function Ff(t,e){let n=mr(t),i=e.elementInjector||sf();return new go(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function FM(t){let e=mr(t);if(!e)return null;let n=new go(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var $M=null;function Li(){return $M}function HM(t){$M??=t}var Lf=class{};var ot=new V(""),y0=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>N($3),providedIn:"platform"});let t=e;return t})(),GM=new V(""),$3=(()=>{let e=class e extends y0{constructor(){super(),this._doc=N(ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Li().getBaseHref(this._doc)}onPopState(i){let r=Li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function v0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function LM(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Mr(t){return t&&t[0]!=="?"?"?"+t:t}var Rr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>N(w0),providedIn:"root"});let t=e;return t})(),zM=new V(""),w0=(()=>{let e=class e extends Rr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return v0(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Mr(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(x(y0),x(zM,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qM=(()=>{let e=class e extends Rr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=v0(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Mr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(x(y0),x(zM,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Wa=(()=>{let e=class e{constructor(i){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=z3(LM(VM(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Mr(r))}normalize(i){return e.stripTrailingSlash(G3(this._basePath,VM(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Mr(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Mr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Mr,e.joinWithSlash=v0,e.stripTrailingSlash=LM,e.\u0275fac=function(r){return new(r||e)(x(Rr))},e.\u0275prov=B({token:e,factory:()=>H3(),providedIn:"root"});let t=e;return t})();function H3(){return new Wa(x(Rr))}function G3(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function VM(t){return t.replace(/\/index.html$/,"")}function z3(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function WM(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var d0=/\s+/,BM=[],KM=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=BM,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(d0):BM}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(d0):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(d0).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(W(ft),W(mi))},e.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[xt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var h0=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ii=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new h0(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),jM(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);jM(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(W(Pi),W(xi),W(u0))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function jM(t,e){t.context.$implicit=e.item}var yn=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new f0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){UM("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){UM("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(W(Pi),W(xi))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),f0=class{constructor(){this.$implicit=null,this.ngIf=null}};function UM(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${pn(e)}'.`)}var QM=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(W(Pi))},e.\u0275dir=Ge({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Yn]});let t=e;return t})();function q3(t,e){return new j(2100,!1)}var p0=class{createSubscription(e,n){return kf(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){kf(()=>e.unsubscribe())}},m0=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},W3=new m0,K3=new p0,An=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(ws(i))return W3;if(a0(i))return K3;throw q3(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(W(ni,16))},e.\u0275pipe=mC({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ka=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),b0="browser",Q3="server";function YM(t){return t===b0}function E0(t){return t===Q3}var JM=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>YM(N(pi))?new g0(N(ot),window):new _0});let t=e;return t})(),g0=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Y3(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function Y3(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var _0=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Vf=class{};var D0=class extends Lf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},S0=class t extends D0{static makeCurrent(){HM(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=J3();return n==null?null:Z3(n)}resetBaseElement(){Zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return WM(document.cookie,e)}},Zl=null;function J3(){return Zl=Zl||document.querySelector("base"),Zl?Zl.getAttribute("href"):null}function Z3(t){return new URL(t,document.baseURI).pathname}var C0=class{addToWindow(e){zt.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new j(5103,!1);return s},zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),zt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=zt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Li().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},X3=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),A0=new V(""),eR=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(x(A0),x(fe))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Bf=class{constructor(e){this._doc=e}},I0="ng-app-id",tR=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=E0(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${I0}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(I0),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(I0,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(x(ot),x(pf),x(Nv,8),x(pi))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),T0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R0=/%COMP%/g,nR="%COMP%",eG=`_nghost-${nR}`,tG=`_ngcontent-${nR}`,nG=!0,iG=new V("",{providedIn:"root",factory:()=>nG});function rG(t){return tG.replace(R0,t)}function sG(t){return eG.replace(R0,t)}function iR(t,e){return e.map(n=>n.replace(R0,t))}var jf=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=E0(c),this.defaultRenderer=new Xl(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ri.ShadowDom&&(r=Q(R({},r),{encapsulation:Ri.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Uf?s.applyToHost(i):s instanceof eu&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Ri.Emulated:o=new Uf(u,d,r,this.appId,f,a,c,m);break;case Ri.ShadowDom:return new M0(u,d,i,r,a,c,this.nonce,m);default:o=new eu(u,d,r,f,a,c,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(x(eR),x(tR),x(pf),x(iG),x(ot),x(pi),x(fe),x(Nv))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Xl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(T0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZM(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(ZM(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new j(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=T0[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=T0[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(vr.DashCase|vr.Important)?e.style.setProperty(n,i,r&vr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&vr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Li().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ZM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var M0=class extends Xl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=iR(r.id,r.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eu=class extends Xl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?iR(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uf=class extends eu{constructor(e,n,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,n,i,s,o,a,c,u),this.contentAttr=rG(u),this.hostAttr=sG(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},oG=(()=>{let e=class e extends Bf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(x(ot))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),XM=["alt","control","meta","shift"],aG={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lG=(()=>{let e=class e extends Bf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Li().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),XM.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=aG[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),XM.forEach(a=>{if(a!==s){let c=cG[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(x(ot))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function uG(){S0.makeCurrent()}function dG(){return new Cn}function hG(){return hA(document),document}var fG=[{provide:pi,useValue:b0},{provide:Ov,useValue:uG,multi:!0},{provide:ot,useFactory:hG,deps:[]}],Hae=l0(PM,"browser",fG),pG=new V(""),mG=[{provide:Yl,useClass:C0,deps:[]},{provide:s0,useClass:Mf,deps:[fe,Rf,Yl]},{provide:Mf,useClass:Mf,deps:[fe,Rf,Yl]}],gG=[{provide:rf,useValue:"root"},{provide:Cn,useFactory:dG,deps:[]},{provide:A0,useClass:oG,multi:!0,deps:[ot,fe,pi]},{provide:A0,useClass:lG,multi:!0,deps:[ot]},jf,tR,eR,{provide:mo,useExisting:jf},{provide:Vf,useClass:X3,deps:[]},[]],$f=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:pf,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(x(pG,12))},e.\u0275mod=ue({type:e}),e.\u0275inj=le({providers:[...gG,...mG],imports:[Ka,kM]});let t=e;return t})();var rR=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(x(ot))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=x(_G),s},providedIn:"root"});let t=e;return t})(),_G=(()=>{let e=class e extends tu{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case kn.NONE:return r;case kn.HTML:return Dr(r,"HTML")?Zn(r):kv(this._doc,String(r)).toString();case kn.STYLE:return Dr(r,"Style")?Zn(r):r;case kn.SCRIPT:if(Dr(r,"Script"))return Zn(r);throw new j(5200,!1);case kn.URL:return Dr(r,"URL")?Zn(r):gf(String(r));case kn.RESOURCE_URL:if(Dr(r,"ResourceURL"))return Zn(r);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(i){return gA(i)}bypassSecurityTrustStyle(i){return _A(i)}bypassSecurityTrustScript(i){return yA(i)}bypassSecurityTrustUrl(i){return vA(i)}bypassSecurityTrustResourceUrl(i){return wA(i)}};e.\u0275fac=function(r){return new(r||e)(x(ot))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var De="primary",gu=Symbol("RouteTitle"),F0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xa(t){return new F0(t)}function yG(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function vG(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vi(t[n],e[n]))return!1;return!0}function Vi(t,e){let n=t?L0(t):void 0,i=e?L0(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!fR(t[r],e[r]))return!1;return!0}function L0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function pR(t){return t.length>0?t[t.length-1]:null}function Ds(t){return C_(t)?t:ws(t)?ve(Promise.resolve(t)):Z(t)}var wG={exact:gR,subset:_R},mR={exact:bG,subset:EG,ignored:()=>!0};function sR(t,e,n){return wG[n.paths](t.root,e.root,n.matrixParams)&&mR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bG(t,e){return Vi(t,e)}function gR(t,e,n){if(!Io(t.segments,e.segments)||!zf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!gR(t.children[i],e.children[i],n))return!1;return!0}function EG(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fR(t[n],e[n]))}function _R(t,e,n){return yR(t,e,e.segments,n)}function yR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Io(r,n)||e.hasChildren()||!zf(r,n,i))}else if(t.segments.length===n.length){if(!Io(t.segments,n)||!zf(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!_R(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Io(t.segments,r)||!zf(t.segments,r,i)||!t.children[De]?!1:yR(t.children[De],e,s,i)}}function zf(t,e,n){return e.every((i,r)=>mR[n](t[r].parameters,i.parameters))}var Es=class{constructor(e=new We([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){return DG.serialize(this)}},We=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qf(this)}},Eo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xa(this.parameters),this._parameterMap}toString(){return wR(this)}};function IG(t,e){return Io(t,e)&&t.every((n,i)=>Vi(n.parameters,e[i].parameters))}function Io(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function TG(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===De&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==De&&(n=n.concat(e(r,i)))}),n}var _u=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>new cu,providedIn:"root"});let t=e;return t})(),cu=class{parse(e){let n=new B0(e);return new Es(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nu(e.root,!0)}`,i=AG(e.queryParams),r=typeof e.fragment=="string"?`#${SG(e.fragment)}`:"";return`${n}${i}${r}`}},DG=new cu;function qf(t){return t.segments.map(e=>wR(e)).join("/")}function nu(t,e){if(!t.hasChildren())return qf(t);if(e){let n=t.children[De]?nu(t.children[De],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==De&&i.push(`${r}:${nu(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=TG(t,(i,r)=>r===De?[nu(t.children[De],!1)]:[`${r}:${nu(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[De]!=null?`${qf(t)}/${n[0]}`:`${qf(t)}/(${n.join("//")})`}}function vR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hf(t){return vR(t).replace(/%3B/gi,";")}function SG(t){return encodeURI(t)}function V0(t){return vR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wf(t){return decodeURIComponent(t)}function oR(t){return Wf(t.replace(/\+/g,"%20"))}function wR(t){return`${V0(t.path)}${CG(t.parameters)}`}function CG(t){return Object.entries(t).map(([e,n])=>`;${V0(e)}=${V0(n)}`).join("")}function AG(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Hf(n)}=${Hf(r)}`).join("&"):`${Hf(n)}=${Hf(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var MG=/^[^\/()?;#]+/;function x0(t){let e=t.match(MG);return e?e[0]:""}var RG=/^[^\/()?;=#]+/;function OG(t){let e=t.match(RG);return e?e[0]:""}var xG=/^[^=?&#]+/;function NG(t){let e=t.match(xG);return e?e[0]:""}var PG=/^[^&#]+/;function kG(t){let e=t.match(PG);return e?e[0]:""}var B0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[De]=new We(e,n)),i}parseSegment(){let e=x0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Eo(Wf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=OG(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=x0(this.remaining);r&&(i=r,this.capture(i))}e[Wf(n)]=Wf(i)}parseQueryParam(e){let n=NG(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=kG(this.remaining);o&&(i=o,this.capture(i))}let r=oR(n),s=oR(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=x0(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=De);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[De]:new We([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function bR(t){return t.segments.length>0?new We([],{[De]:t}):t}function ER(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=ER(r);if(i===De&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new We(t.segments,e);return FG(n)}function FG(t){if(t.numberOfChildren===1&&t.children[De]){let e=t.children[De];return new We(t.segments.concat(e.segments),e.children)}return t}function ec(t){return t instanceof Es}function LG(t,e,n=null,i=null){let r=IR(t);return TR(r,e,n,i)}function IR(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new We(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=bR(i);return e??r}function TR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return N0(r,r,r,n,i);let s=VG(e);if(s.toRoot())return N0(r,r,new We([],{}),n,i);let o=BG(s,r,t),a=o.processChildren?su(o.segmentGroup,o.index,s.commands):SR(o.segmentGroup,o.index,s.commands);return N0(r,o.segmentGroup,a,n,i)}function Kf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function lu(t){return typeof t=="object"&&t!=null&&t.outlets}function N0(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=DR(t,e,n);let a=bR(ER(o));return new Es(a,s,r)}function DR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=DR(s,e,n)}),new We(t.segments,i)}var Qf=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Kf(i[0]))throw new j(4003,!1);let r=i.find(lu);if(r&&r!==pR(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VG(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Qf(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Qf(n,e,i)}var Ja=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function BG(t,e,n){if(t.isAbsolute)return new Ja(e,!0,0);if(!n)return new Ja(e,!1,NaN);if(n.parent===null)return new Ja(n,!0,0);let i=Kf(t.commands[0])?0:1,r=n.segments.length-1+i;return jG(n,r,t.numberOfDoubleDots)}function jG(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new Ja(i,!1,r-s)}function UG(t){return lu(t[0])?t[0].outlets:{[De]:t}}function SR(t,e,n){if(t??=new We([],{}),t.segments.length===0&&t.hasChildren())return su(t,e,n);let i=$G(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new We(t.segments.slice(0,i.pathIndex),{});return s.children[De]=new We(t.segments.slice(i.pathIndex),t.children),su(s,0,r)}else return i.match&&r.length===0?new We(t.segments,{}):i.match&&!t.hasChildren()?j0(t,e,n):i.match?su(t,0,r):j0(t,e,n)}function su(t,e,n){if(n.length===0)return new We(t.segments,{});{let i=UG(n),r={};if(Object.keys(i).some(s=>s!==De)&&t.children[De]&&t.numberOfChildren===1&&t.children[De].segments.length===0){let s=su(t.children[De],e,n);return new We(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=SR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new We(t.segments,r)}}function $G(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(lu(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!cR(c,u,o))return s;i+=2}else{if(!cR(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function j0(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(lu(s)){let c=HG(s.outlets);return new We(i,c)}if(r===0&&Kf(n[0])){let c=t.segments[e];i.push(new Eo(c.path,aR(n[0]))),r++;continue}let o=lu(s)?s.outlets[De]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Kf(a)?(i.push(new Eo(o,aR(a))),r+=2):(i.push(new Eo(o,{})),r++)}return new We(i,{})}function HG(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=j0(new We([],{}),0,i))}),e}function aR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function cR(t,e,n){return t==n.path&&Vi(e,n.parameters)}var ou="imperative",Ut=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ut||{}),ri=class{constructor(e,n){this.id=e,this.url=n}},tc=class extends ri{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Ut.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gi=class extends ri{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Vn||{}),Yf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yf||{}),Is=class extends ri{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ts=class extends ri{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ut.NavigationSkipped}},uu=class extends ri{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jf=class extends ri{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U0=class extends ri{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$0=class extends ri{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},H0=class extends ri{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},G0=class extends ri{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z0=class{constructor(e){this.route=e,this.type=Ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},q0=class{constructor(e){this.route=e,this.type=Ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},W0=class{constructor(e){this.snapshot=e,this.type=Ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K0=class{constructor(e){this.snapshot=e,this.type=Ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Q0=class{constructor(e){this.snapshot=e,this.type=Ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Y0=class{constructor(e){this.snapshot=e,this.type=Ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zf=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Ut.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},du=class{},hu=class{constructor(e){this.url=e}};var J0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yu,this.attachRef=null}},yu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new J0,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Z0(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Z0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=X0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return X0(e,this._root).map(n=>n.value)}};function Z0(t,e){if(t===e.value)return e;for(let n of e.children){let i=Z0(t,n);if(i)return i}return null}function X0(t,e){if(t===e.value)return[e];for(let n of e.children){let i=X0(t,n);if(i.length)return i.unshift(e),i}return[]}var Ln=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ya(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ep=class extends Xf{constructor(e,n){super(e),this.snapshot=n,lw(this,e)}toString(){return this.snapshot.toString()}};function CR(t){let e=GG(t),n=new wt([new Eo("",{})]),i=new wt({}),r=new wt({}),s=new wt({}),o=new wt(""),a=new To(n,i,s,o,r,De,t,e.root);return a.snapshot=e.root,new ep(new Ln(a,[]),e)}function GG(t){let e={},n={},i={},r="",s=new fu([],e,i,r,n,De,t,null,{});return new tp("",new Ln(s,[]))}var To=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(u=>u[gu]))??Z(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Xa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Xa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cw(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),r?.data),t._resolvedData)}:i={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},r&&MR(r)&&(i.resolve[gu]=r.title),i}var fu=class{get title(){return this.data?.[gu]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},tp=class extends Xf{constructor(e,n){super(n),this.url=e,lw(this,n)}toString(){return AR(this._root)}};function lw(t,e){e.value._routerState=t,e.children.forEach(n=>lw(t,n))}function AR(t){let e=t.children.length>0?` { ${t.children.map(AR).join(", ")} } `:"";return`${t.value}${e}`}function P0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vi(e.params,n.params)||t.paramsSubject.next(n.params),vG(e.url,n.url)||t.urlSubject.next(n.url),Vi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ew(t,e){let n=Vi(t.params,e.params)&&IG(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||ew(t.parent,e.parent))}function MR(t){return typeof t.title=="string"||t.title===null}var vu=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=De,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=N(yu),this.location=N(Pi),this.changeDetector=N(ni),this.environmentInjector=N(qt),this.inputBinder=N(ap,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new tw(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]});let t=e;return t})(),tw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===To?this.route:e===yu?this.childContexts:this.parent.get(e,n)}},ap=new V(""),lR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Tn([r.queryParams,r.params,r.data]).pipe(Mt(([o,a,c],u)=>(c=R(R(R({},o),a),c),u===0?Z(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=FM(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function zG(t,e,n){let i=pu(t,e._root,n?n._root:void 0);return new ep(i,e)}function pu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=qG(t,e,n);return new Ln(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pu(t,a)),o}}let i=WG(e.value),r=e.children.map(s=>pu(t,s));return new Ln(i,r)}}function qG(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return pu(t,i,r);return pu(t,i)})}function WG(t){return new To(new wt(t.url),new wt(t.params),new wt(t.queryParams),new wt(t.fragment),new wt(t.data),t.outlet,t.component,t)}var RR="ngNavigationCancelingError";function OR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=xR(!1,Vn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function xR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RR]=!0,n.cancellationCode=e,n}function KG(t){return NR(t)&&ec(t.url)}function NR(t){return!!t&&t[RR]}var QG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ar],decls:1,vars:0,template:function(r,s){r&1&&_e(0,"router-outlet")},dependencies:[vu],encapsulation:2});let t=e;return t})();function YG(t,e){return t.providers&&!t._injector&&(t._injector=Df(t.providers,e,`Route: ${t.path}`)),t._injector??e}function uw(t){let e=t.children&&t.children.map(uw),n=e?Q(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=QG),n}function Bi(t){return t.outlet||De}function JG(t,e){let n=t.filter(i=>Bi(i)===e);return n.push(...t.filter(i=>Bi(i)!==e)),n}function wu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ZG=(t,e,n,i)=>Y(r=>(new nw(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),nw=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),P0(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ya(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ya(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ya(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ya(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Y0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new K0(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(P0(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),P0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=wu(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},np=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Za=class{constructor(e,n){this.component=e,this.route=n}};function XG(t,e,n){let i=t._root,r=e?e._root:null;return iu(i,r,n,[i.value])}function ez(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ic(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!nC(t)?t:e.get(t):i}function iu(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ya(e);return t.children.forEach(o=>{tz(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>au(a,n.getContext(o),r)),r}function tz(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=nz(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new np(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?iu(t,e,a?a.children:null,i,r):iu(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Za(a.outlet.component,o))}else o&&au(e,a,r),r.canActivateChecks.push(new np(i)),s.component?iu(t,null,a?a.children:null,i,r):iu(t,null,n,i,r);return r}function nz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Io(t.url,e.url)||!Vi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ew(t,e)||!Vi(t.queryParams,e.queryParams);case"paramsChange":default:return!ew(t,e)}}function au(t,e,n){let i=Ya(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?au(o,e.children.getContext(s),n):au(o,null,n):au(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Za(e.outlet.component,r)):n.canDeactivateChecks.push(new Za(null,r)):n.canDeactivateChecks.push(new Za(null,r))}function bu(t){return typeof t=="function"}function iz(t){return typeof t=="boolean"}function rz(t){return t&&bu(t.canLoad)}function sz(t){return t&&bu(t.canActivate)}function oz(t){return t&&bu(t.canActivateChild)}function az(t){return t&&bu(t.canDeactivate)}function cz(t){return t&&bu(t.canMatch)}function PR(t){return t instanceof pr||t?.name==="EmptyError"}var Gf=Symbol("INITIAL_VALUE");function nc(){return Mt(t=>Tn(t.map(e=>e.pipe(At(1),Da(Gf)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===Gf)return Gf;if(n===!1||n instanceof Es)return n}return!0}),qe(e=>e!==Gf),At(1)))}function lz(t,e){return Ve(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(Q(R({},n),{guardsResult:!0})):uz(o,i,r,t).pipe(Ve(a=>a&&iz(a)?dz(i,s,t,e):Z(a)),Y(a=>Q(R({},n),{guardsResult:a})))})}function uz(t,e,n,i){return ve(t).pipe(Ve(r=>gz(r.component,r.route,n,e,i)),Ci(r=>r!==!0,!0))}function dz(t,e,n,i){return ve(e).pipe(Si(r=>Di(fz(r.route.parent,i),hz(r.route,i),mz(t,r.path,n),pz(t,r.route,n))),Ci(r=>r!==!0,!0))}function hz(t,e){return t!==null&&e&&e(new Q0(t)),Z(!0)}function fz(t,e){return t!==null&&e&&e(new W0(t)),Z(!0)}function pz(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Z(!0);let r=i.map(s=>Il(()=>{let o=wu(e)??n,a=ic(s,o),c=sz(a)?a.canActivate(e,t):Er(o,()=>a(e,t));return Ds(c).pipe(Ci())}));return Z(r).pipe(nc())}function mz(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ez(o)).filter(o=>o!==null).map(o=>Il(()=>{let a=o.guards.map(c=>{let u=wu(o.node)??n,d=ic(c,u),f=oz(d)?d.canActivateChild(i,t):Er(u,()=>d(i,t));return Ds(f).pipe(Ci())});return Z(a).pipe(nc())}));return Z(s).pipe(nc())}function gz(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let c=wu(e)??r,u=ic(a,c),d=az(u)?u.canDeactivate(t,e,n,i):Er(c,()=>u(t,e,n,i));return Ds(d).pipe(Ci())});return Z(o).pipe(nc())}function _z(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Z(!0);let s=r.map(o=>{let a=ic(o,t),c=rz(a)?a.canLoad(e,n):Er(t,()=>a(e,n));return Ds(c)});return Z(s).pipe(nc(),kR(i))}function kR(t){return Zd(Ne(e=>{if(ec(e))throw OR(t,e)}),Y(e=>e===!0))}function yz(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Z(!0);let s=r.map(o=>{let a=ic(o,t),c=cz(a)?a.canMatch(e,n):Er(t,()=>a(e,n));return Ds(c)});return Z(s).pipe(nc(),kR(i))}var mu=class{constructor(e){this.segmentGroup=e||null}},ip=class extends Error{constructor(e){super(),this.urlTree=e}};function Qa(t){return is(new mu(t))}function vz(t){return is(new j(4e3,!1))}function wz(t){return is(xR(!1,Vn.GuardRejected))}var iw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Z(i);if(r.numberOfChildren>1||!r.children[De])return vz(e.redirectTo);r=r.children[De]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new ip(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new Es(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new We(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bz(t,e,n,i,r){let s=dw(t,e,n);return s.matched?(i=YG(e,i),yz(i,e,n,r).pipe(Y(o=>o===!0?s:R({},rw)))):Z(s)}function dw(t,e,n){if(e.path==="**")return Ez(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},rw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||yG)(n,t,e);if(!r)return R({},rw);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?R(R({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Ez(t){return{matched:!0,parameters:t.length>0?pR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function uR(t,e,n,i){return n.length>0&&Dz(t,n,i)?{segmentGroup:new We(e,Tz(i,new We(n,t.children))),slicedSegments:[]}:n.length===0&&Sz(t,n,i)?{segmentGroup:new We(t.segments,Iz(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new We(t.segments,t.children),slicedSegments:n}}function Iz(t,e,n,i){let r={};for(let s of n)if(cp(t,e,s)&&!i[Bi(s)]){let o=new We([],{});r[Bi(s)]=o}return R(R({},i),r)}function Tz(t,e){let n={};n[De]=e;for(let i of t)if(i.path===""&&Bi(i)!==De){let r=new We([],{});n[Bi(i)]=r}return n}function Dz(t,e,n){return n.some(i=>cp(t,e,i)&&Bi(i)!==De)}function Sz(t,e,n){return n.some(i=>cp(t,e,i))}function cp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Cz(t,e,n,i){return Bi(t)!==i&&(i===De||!cp(e,n,t))?!1:dw(e,t,n).matched}function Az(t,e,n){return e.length===0&&!t.children[n]}var sw=class{};function Mz(t,e,n,i,r,s,o="emptyOnly"){return new ow(t,e,n,i,r,o,s).recognize()}var Rz=31,ow=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new iw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=uR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(n=>{let i=new fu([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},De,this.rootComponentType,null,{}),r=new Ln(i,n),s=new tp("",r),o=LG(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,De).pipe(et(i=>{if(i instanceof ip)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof mu?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=cw(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Y(s=>s instanceof Ln?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return ve(r).pipe(Si(s=>{let o=i.children[s],a=JG(n,s);return this.processSegmentGroup(e,a,o,s)}),as((s,o)=>(s.push(...o),s)),os(null),k_(),Ve(s=>{if(s===null)return Qa(i);let o=FR(s);return Oz(o),Z(o)}))}processSegment(e,n,i,r,s,o){return ve(n).pipe(Si(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(et(c=>{if(c instanceof mu)return Z(null);throw c}))),Ci(a=>!!a),et(a=>{if(PR(a))return Az(i,r,s)?Z(new sw):Qa(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return Cz(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Qa(r):Qa(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:d}=dw(n,r,s);if(!a)return Qa(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Rz&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(Ve(m=>this.processSegment(e,i,n,m.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=bz(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Mt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mt(({routes:c})=>{let u=i._loadedInjector??e,{consumedSegments:d,remainingSegments:f,parameters:m}=a,_=new fu(d,m,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Nz(i),Bi(i),i.component??i._loadedComponent??null,i,Pz(i)),{segmentGroup:v,slicedSegments:E}=uR(n,d,f,c);if(E.length===0&&v.hasChildren())return this.processChildren(u,c,v).pipe(Y(k=>k===null?null:new Ln(_,k)));if(c.length===0&&E.length===0)return Z(new Ln(_,[]));let S=Bi(i)===s;return this.processSegment(u,c,v,E,S?De:s,!0).pipe(Y(k=>new Ln(_,k instanceof Ln?[k]:[])))}))):Qa(n)))}getChildConfig(e,n,i){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):_z(e,n,i,this.urlSerializer).pipe(Ve(r=>r?this.configLoader.loadChildren(e,n).pipe(Ne(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):wz(n))):Z({routes:[],injector:e})}};function Oz(t){t.sort((e,n)=>e.value.outlet===De?-1:n.value.outlet===De?1:e.value.outlet.localeCompare(n.value.outlet))}function xz(t){let e=t.value.routeConfig;return e&&e.path===""}function FR(t){let e=[],n=new Set;for(let i of t){if(!xz(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=FR(i.children);e.push(new Ln(i.value,r))}return e.filter(i=>!n.has(i))}function Nz(t){return t.data||{}}function Pz(t){return t.resolve||{}}function kz(t,e,n,i,r,s){return Ve(o=>Mz(t,e,n,i,o.extractedUrl,r,s).pipe(Y(({state:a,tree:c})=>Q(R({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Fz(t,e){return Ve(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Z(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of LR(c))o.add(u);let a=0;return ve(o).pipe(Si(c=>s.has(c)?Lz(c,i,t,e):(c.data=cw(c,c.parent,t).resolve,Z(void 0))),Ne(()=>a++),Ta(1),Ve(c=>a===o.size?Z(n):ht))})}function LR(t){let e=t.children.map(n=>LR(n)).flat();return[t,...e]}function Lz(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!MR(r)&&(s[gu]=r.title),Vz(s,t,e,i).pipe(Y(o=>(t._resolvedData=o,t.data=cw(t,t.parent,n).resolve,null)))}function Vz(t,e,n,i){let r=L0(t);if(r.length===0)return Z({});let s={};return ve(r).pipe(Ve(o=>Bz(t[o],e,n,i).pipe(Ci(),Ne(a=>{s[o]=a}))),Ta(1),Al(s),et(o=>PR(o)?ht:is(o)))}function Bz(t,e,n,i){let r=wu(e)??i,s=ic(t,r),o=s.resolve?s.resolve(e,n):Er(r,()=>s(e,n));return Ds(o)}function k0(t){return Mt(e=>{let n=t(e);return n?ve(n).pipe(Y(()=>e)):Z(e)})}var VR=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===De);return r}getResolvedTitleForRoute(i){return i.data[gu]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>N(jz),providedIn:"root"});let t=e;return t})(),jz=(()=>{let e=class e extends VR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(x(rR))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Eu=new V("",{providedIn:"root",factory:()=>({})}),rp=new V(""),hw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(xf)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Z(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Ds(i.loadComponent()).pipe(Y(BR),Ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),ro(()=>{this.componentLoaders.delete(i)})),s=new ga(r,()=>new ye).pipe(ma());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Uz(r,this.compiler,i,this.onLoadEndListener).pipe(ro(()=>{this.childrenLoaders.delete(r)})),a=new ga(o,()=>new ye).pipe(ma());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Uz(t,e,n,i){return Ds(t.loadChildren()).pipe(Y(BR),Ve(r=>r instanceof $l||Array.isArray(r)?Z(r):ve(e.compileModuleAsync(r))),Y(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(rp,[],{optional:!0,self:!0}).flat()),{routes:o.map(uw),injector:s}}))}function $z(t){return t&&typeof t=="object"&&"default"in t}function BR(t){return $z(t)?t.default:t}var fw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>N(Hz),providedIn:"root"});let t=e;return t})(),Hz=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jR=new V(""),UR=new V("");function Gz(t,e,n){let i=t.get(UR),r=t.get(ot);return t.get(fe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),zz(t))),{onViewTransitionCreated:c}=i;return c&&Er(t,()=>c({transition:a,from:e,to:n})),o})}function zz(t){return new Promise(e=>{Tf(e,{injector:t})})}var pw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ye,this.transitionAbortSubject=new ye,this.configLoader=N(hw),this.environmentInjector=N(qt),this.urlSerializer=N(_u),this.rootContexts=N(yu),this.location=N(Wa),this.inputBindingEnabled=N(ap,{optional:!0})!==null,this.titleStrategy=N(VR),this.options=N(Eu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(fw),this.createViewTransition=N(jR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let i=s=>this.events.next(new z0(s)),r=s=>this.events.next(new q0(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Q(R(R({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new wt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ou,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qe(o=>o.id!==0),Y(o=>Q(R({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mt(o=>{let a=!1,c=!1;return Z(o).pipe(Mt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Vn.SupersededByNewNavigation),ht;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Q(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new Ts(u.id,this.urlSerializer.serialize(u.rawUrl),m,Yf.IgnoredSameUrlNavigation)),u.resolve(null),ht}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(Mt(m=>{let _=this.transitions?.getValue();return this.events.next(new tc(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?ht:Promise.resolve(m)}),kz(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Q(R({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new Jf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:_,source:v,restoredState:E,extras:S}=u,k=new tc(m,this.urlSerializer.serialize(_),v,E);this.events.next(k);let H=CR(this.rootComponentType).snapshot;return this.currentTransition=o=Q(R({},u),{targetSnapshot:H,urlAfterRedirects:_,extras:Q(R({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Z(o)}else{let m="";return this.events.next(new Ts(u.id,this.urlSerializer.serialize(u.extractedUrl),m,Yf.IgnoredByUrlHandlingStrategy)),u.resolve(null),ht}}),Ne(u=>{let d=new U0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Y(u=>(this.currentTransition=o=Q(R({},u),{guards:XG(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),lz(this.environmentInjector,u=>this.events.next(u)),Ne(u=>{if(o.guardsResult=u.guardsResult,ec(u.guardsResult))throw OR(this.urlSerializer,u.guardsResult);let d=new $0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),qe(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Vn.GuardRejected),!1)),k0(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(Ne(d=>{let f=new H0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Mt(d=>{let f=!1;return Z(d).pipe(Fz(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Vn.NoDataFromResolver)}}))}),Ne(d=>{let f=new G0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),k0(u=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ne(_=>{f.component=_}),Y(()=>{})));for(let _ of f.children)m.push(...d(_));return m};return Tn(d(u.targetSnapshot.root)).pipe(os(null),At(1))}),k0(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?ve(f).pipe(Y(()=>o)):Z(o)}),Y(u=>{let d=zG(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Q(R({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Ne(()=>{this.events.next(new du)}),ZG(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),At(1),Ne({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),bt(this.transitionAbortSubject.pipe(Ne(u=>{throw u}))),ro(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Vn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),et(u=>{if(c=!0,NR(u))this.events.next(new Is(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),KG(u)?this.events.next(new hu(u.url)):o.resolve(!1);else{this.events.next(new uu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ht}))}))}cancelNavigationTransition(i,r,s){let o=new Is(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qz(t){return t!==ou}var Wz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>N(Kz),providedIn:"root"});let t=e;return t})(),aw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Kz=(()=>{let e=class e extends aw{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$R=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>N(Qz),providedIn:"root"});let t=e;return t})(),Qz=(()=>{let e=class e extends $R{constructor(){super(...arguments),this.location=N(Wa),this.urlSerializer=N(_u),this.options=N(Eu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(fw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Es,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof tc)this.stateMemento=this.createStateMemento();else if(i instanceof Ts)this.rawUrlTree=r.initialUrl;else if(i instanceof Jf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof du?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Is&&(i.code===Vn.GuardRejected||i.code===Vn.NoDataFromResolver)?this.restoreHistory(r):i instanceof uu?this.restoreHistory(r,!0):i instanceof gi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=R(R({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=R(R({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ru=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ru||{});function HR(t,e){t.events.pipe(qe(n=>n instanceof gi||n instanceof Is||n instanceof uu||n instanceof Ts),Y(n=>n instanceof gi||n instanceof Ts?ru.COMPLETE:(n instanceof Is?n.code===Vn.Redirect||n.code===Vn.SupersededByNewNavigation:!1)?ru.REDIRECTING:ru.FAILED),qe(n=>n!==ru.REDIRECTING),At(1)).subscribe(()=>{e()})}function Yz(t){throw t}var Jz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(Af),this.stateManager=N($R),this.options=N(Eu,{optional:!0})||{},this.pendingTasks=N(Sf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(pw),this.urlSerializer=N(_u),this.location=N(Wa),this.urlHandlingStrategy=N(fw),this._events=new ye,this.errorHandler=this.options.errorHandler||Yz,this.navigated=!1,this.routeReuseStrategy=N(Wz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(rp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(ap,{optional:!0}),this.eventsSubscription=new Ct,this.isNgZoneEnabled=N(fe)instanceof fe&&fe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Is&&r.code!==Vn.Redirect&&r.code!==Vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof gi)this.navigated=!0;else if(r instanceof hu){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||qz(s.source)};this.scheduleNavigation(a,ou,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}e4(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ou,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=R({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(uw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let _=s?s.snapshot:this.routerState.snapshot.root;m=IR(_)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),m=this.currentUrlTree.root}return TR(m,i,f,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ec(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ou,null,r)}navigate(i,r={skipLocationChange:!1}){return Xz(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=R({},Jz):r===!1?s=R({},Zz):s=r,ec(i))return sR(this.currentUrlTree,i,s);let o=this.parseUrl(i);return sR(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,_)=>{c=m,u=_});let f=this.pendingTasks.add();return HR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function e4(t){return!(t instanceof du)&&!(t instanceof hu)}var sp=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:SA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(W(vn),W(To),wo("tabindex"),W(mi),W(ft),W(Rr))},e.\u0275dir=Ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Be("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&gn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[xt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",qa],skipLocationChange:[xt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",qa],replaceUrl:[xt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",qa],routerLink:"routerLink"},standalone:!0,features:[t0,Yn]});let t=e;return t})(),GR=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new $e,this.routerEventsSubscription=i.events.subscribe(c=>{c instanceof gi&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Ti()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ve(i).pipe(Ti()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=t4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(W(vn),W(ft),W(mi),W(ni),W(sp,8))},e.\u0275dir=Ge({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&za(o,sp,5),r&2){let a;ys(a=vs())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yn]});let t=e;return t})();function t4(t){return!!t.paths}var op=class{};var n4=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(qe(i=>i instanceof gi),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Df(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ve(s).pipe(Ti())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=Z(null);let o=s.pipe(Ve(a=>a===null?Z(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ve([o,a]).pipe(Ti())}else return o})}};e.\u0275fac=function(r){return new(r||e)(x(vn),x(xf),x(qt),x(op),x(hw))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zR=new V(""),i4=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=N(qt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof tc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof gi?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Ts&&i.code===Yf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Zf&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>I(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Tf(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Zf(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){jA()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function r4(t){return t.routerState.root}function Iu(t,e){return{\u0275kind:t,\u0275providers:e}}function s4(){let t=N(Ye);return e=>{let n=t.get(ti);if(e!==n.components[0])return;let i=t.get(vn),r=t.get(qR);t.get(mw)===1&&i.initialNavigation(),t.get(WR,null,Me.Optional)?.setUpPreloading(),t.get(zR,null,Me.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var qR=new V("",{factory:()=>new ye}),mw=new V("",{providedIn:"root",factory:()=>1});function o4(){return Iu(2,[{provide:mw,useValue:0},{provide:Of,multi:!0,deps:[Ye],useFactory:e=>{let n=e.get(GM,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(vn),s=e.get(qR);HR(r,()=>{i(!0)}),e.get(pw).afterPreactivation=()=>(i(!0),s.closed?Z(void 0):s),r.initialNavigation()}))}}])}function a4(){return Iu(3,[{provide:Of,multi:!0,useFactory:()=>{let e=N(vn);return()=>{e.setUpLocationChangeListener()}}},{provide:mw,useValue:2}])}var WR=new V("");function c4(t){return Iu(0,[{provide:WR,useExisting:n4},{provide:op,useExisting:t}])}function l4(){return Iu(8,[lR,{provide:ap,useExisting:lR}])}function u4(t){let e=[{provide:jR,useValue:Gz},{provide:UR,useValue:R({skipNextTransition:!!t?.skipInitialTransition},t)}];return Iu(9,e)}var dR=new V("ROUTER_FORROOT_GUARD"),d4=[Wa,{provide:_u,useClass:cu},vn,yu,{provide:To,useFactory:r4,deps:[vn]},hw,[]],rc=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[d4,[],{provide:rp,multi:!0,useValue:i},{provide:dR,useFactory:m4,deps:[[vn,new Rt,new pv]]},{provide:Eu,useValue:r||{}},r?.useHash?f4():p4(),h4(),r?.preloadingStrategy?c4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?g4(r):[],r?.bindToComponentInputs?l4().\u0275providers:[],r?.enableViewTransitions?u4().\u0275providers:[],_4()]}}static forChild(i){return{ngModule:e,providers:[{provide:rp,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(x(dR,8))},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();function h4(){return{provide:zR,useFactory:()=>{let t=N(JM),e=N(fe),n=N(Eu),i=N(pw),r=N(_u);return n.scrollOffset&&t.setOffset(n.scrollOffset),new i4(r,i,t,e,n)}}}function f4(){return{provide:Rr,useClass:qM}}function p4(){return{provide:Rr,useClass:w0}}function m4(t){return"guarded"}function g4(t){return[t.initialNavigation==="disabled"?a4().\u0275providers:[],t.initialNavigation==="enabledBlocking"?o4().\u0275providers:[]]}var hR=new V("");function _4(){return[{provide:hR,useFactory:s4},{provide:c0,multi:!0,useExisting:hR}]}function lp(t){t||(of(lp),t=N(Tr));let e=new ie(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(bt(e))}function Du(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&of(Du);let i=n?e?.injector?.get(Tr)??N(Tr):null,r;e?.requireSync?r=_s({kind:0}):r=_s({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return i?.onDestroy(s.unsubscribe.bind(s)),Pf(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var vw={};function Iw(t,e){if(vw[t]=(vw[t]||0)+1,typeof e=="function")return gw(t,(...i)=>Q(R({},e(...i)),{type:t}));switch(e?e._as:"empty"){case"empty":return gw(t,()=>({type:t}));case"props":return gw(t,i=>Q(R({},i),{type:t}));default:throw new Error("Unexpected config.")}}function It(){return{_as:"props",_p:void 0}}function gw(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}function Tw(t){return t.charAt(0).toUpperCase()+t.substring(1)}function y4(t){return t.charAt(0).toLowerCase()+t.substring(1)}function ac(t){let{source:e,events:n}=t;return Object.keys(n).reduce((i,r)=>Q(R({},i),{[v4(r)]:Iw(w4(e,r),n[r])}),{})}function Bn(){return It()}function v4(t){return t.trim().split(" ").map((e,n)=>n===0?y4(e):Tw(e)).join("")}function w4(t,e){return`[${t}] ${e}`}var Cu="@ngrx/store/init",ji=(()=>{let e=class e extends wt{constructor(){super({type:Cu})}next(i){if(typeof i=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof i>"u")throw new TypeError("Actions must be objects");if(typeof i.type>"u")throw new TypeError("Actions must have a type property");super.next(i)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),b4=[ji],lO=new V("@ngrx/store Internal Root Guard"),KR=new V("@ngrx/store Internal Initial State"),Au=new V("@ngrx/store Initial State"),uO=new V("@ngrx/store Reducer Factory"),QR=new V("@ngrx/store Internal Reducer Factory Provider"),dO=new V("@ngrx/store Initial Reducers"),_w=new V("@ngrx/store Internal Initial Reducers"),YR=new V("@ngrx/store Store Features"),JR=new V("@ngrx/store Internal Store Reducers"),yw=new V("@ngrx/store Internal Feature Reducers"),ZR=new V("@ngrx/store Internal Feature Configs"),hO=new V("@ngrx/store Internal Store Features"),XR=new V("@ngrx/store Internal Feature Reducers Token"),fO=new V("@ngrx/store Feature Reducers"),eO=new V("@ngrx/store User Provided Meta Reducers"),up=new V("@ngrx/store Meta Reducers"),tO=new V("@ngrx/store Internal Resolved Meta Reducers"),nO=new V("@ngrx/store User Runtime Checks Config"),iO=new V("@ngrx/store Internal User Runtime Checks Config"),Su=new V("@ngrx/store Internal Runtime Checks"),Dw=new V("@ngrx/store Check if Action types are unique"),E4=new V("@ngrx/store Root Store Provider"),I4=new V("@ngrx/store Feature State Provider");function Sw(t,e={}){let n=Object.keys(t),i={};for(let s=0;s<n.length;s++){let o=n[s];typeof t[o]=="function"&&(i[o]=t[o])}let r=Object.keys(i);return function(o,a){o=o===void 0?e:o;let c=!1,u={};for(let d=0;d<r.length;d++){let f=r[d],m=i[f],_=o[f],v=m(_,a);u[f]=v,c=c||v!==_}return c?u:o}}function T4(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,i)=>Object.assign(n,{[i]:t[i]}),{})}function pO(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),n(e))}}function mO(t,e){return Array.isArray(e)&&e.length>0&&(t=pO.apply(null,[...e,t])),(n,i)=>{let r=t(n);return(s,o)=>(s=s===void 0?i:s,r(s,o))}}function D4(t){let e=Array.isArray(t)&&t.length>0?pO(...t):n=>n;return(n,i)=>(n=e(n),(r,s)=>(r=r===void 0?i:r,n(r,s)))}var Do=class extends ie{},sc=class extends ji{},hp="@ngrx/store/update-reducers",dp=(()=>{let e=class e extends wt{get currentReducers(){return this.reducers}constructor(i,r,s,o){super(o(s,r)),this.dispatcher=i,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(i){this.addFeatures([i])}addFeatures(i){let r=i.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:u,key:d})=>{let f=typeof o=="function"?D4(c)(o,u):mO(a,c)(o,u);return s[d]=f,s},{});this.addReducers(r)}removeFeature(i){this.removeFeatures([i])}removeFeatures(i){this.removeReducers(i.map(r=>r.key))}addReducer(i,r){this.addReducers({[i]:r})}addReducers(i){this.reducers=R(R({},this.reducers),i),this.updateReducers(Object.keys(i))}removeReducer(i){this.removeReducers([i])}removeReducers(i){i.forEach(r=>{this.reducers=T4(this.reducers,r)}),this.updateReducers(i)}updateReducers(i){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:hp,features:i})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(x(sc),x(Au),x(dO),x(uO))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),S4=[dp,{provide:Do,useExisting:dp},{provide:sc,useExisting:ji}],So=(()=>{let e=class e extends ye{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),C4=[So],oc=class extends ie{},rO=(()=>{let e=class e extends wt{constructor(i,r,s,o){super(o);let c=i.pipe(Wn(no)).pipe(cs(r)),u={state:o},d=c.pipe(as(A4,u));this.stateSubscription=d.subscribe(({state:f,action:m})=>{this.next(f),s.next(m)}),this.state=Du(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=Cu,e.\u0275fac=function(r){return new(r||e)(x(ji),x(Do),x(So),x(Au))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function A4(t={state:void 0},[e,n]){let{state:i}=t;return{state:n(i,e),action:e}}var M4=[rO,{provide:oc,useExisting:rO}],pt=(()=>{let e=class e extends ie{constructor(i,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=i,this.state=i.state}select(i,...r){return O4.call(null,i,...r)(this)}selectSignal(i,r){return Pf(()=>i(this.state()),r)}lift(i){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=i,r}dispatch(i){this.actionsObserver.next(i)}next(i){this.actionsObserver.next(i)}error(i){this.actionsObserver.error(i)}complete(){this.actionsObserver.complete()}addReducer(i,r){this.reducerManager.addReducer(i,r)}removeReducer(i){this.reducerManager.removeReducer(i)}};e.\u0275fac=function(r){return new(r||e)(x(oc),x(ji),x(dp))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),R4=[pt];function O4(t,e,...n){return function(r){let s;if(typeof t=="string"){let o=[e,...n].filter(Boolean);s=r.pipe(L_(t,...o))}else if(typeof t=="function")s=r.pipe(Y(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(Ia())}}var Cw="https://ngrx.io/guide/store/configuration/runtime-checks";function sO(t){return t===void 0}function oO(t){return t===null}function gO(t){return Array.isArray(t)}function x4(t){return typeof t=="string"}function N4(t){return typeof t=="boolean"}function P4(t){return typeof t=="number"}function _O(t){return typeof t=="object"&&t!==null}function k4(t){return _O(t)&&!gO(t)}function yO(t){if(!k4(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function ww(t){return typeof t=="function"}function F4(t){return ww(t)&&t.hasOwnProperty("\u0275cmp")}function L4(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var V4=!1;function B4(){return V4}function aO(t,e){return t===e}function j4(t,e,n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function vO(t,e=aO,n=aO){let i=null,r=null,s;function o(){i=null,r=null}function a(d=void 0){s={result:d}}function c(){s=void 0}function u(){if(s!==void 0)return s.result;if(!i)return r=t.apply(null,arguments),i=arguments,r;if(!j4(arguments,i,e))return r;let d=t.apply(null,arguments);return i=arguments,n(r,d)?r:(r=d,d)}return{memoized:u,reset:o,setResult:a,clearResult:c}}function wO(...t){return $4(vO)(...t)}function U4(t,e,n,i){if(n===void 0){let s=e.map(o=>o(t));return i.memoized.apply(null,s)}let r=e.map(s=>s(t,n));return i.memoized.apply(null,[...r,n])}function $4(t,e={stateFn:U4}){return function(...n){let i=n;if(Array.isArray(i[0])){let[d,...f]=i;i=[...d,...f]}else i.length===1&&G4(i[0])&&(i=z4(i[0]));let r=i.slice(0,i.length-1),s=i[i.length-1],o=r.filter(d=>d.release&&typeof d.release=="function"),a=t(function(...d){return s.apply(null,d)}),c=vO(function(d,f){return e.stateFn.apply(null,[d,r,f,a])});function u(){c.reset(),a.reset(),o.forEach(d=>d.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function H4(t){return wO(e=>{let n=e[t];return!B4()&&Jl()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},e=>e)}function G4(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function z4(t){let e=Object.values(t),n=Object.keys(t),i=(...r)=>n.reduce((s,o,a)=>Q(R({},s),{[o]:r[a]}),{});return[...e,i]}function cc(t){let{name:e,reducer:n,extraSelectors:i}=t,r=H4(e),s=q4(r,n),o=R({[`select${Tw(e)}State`]:r},s),a=i?i(o):{};return R(R({name:e,reducer:n},o),a)}function q4(t,e){let n=W4(e);return(yO(n)?Object.keys(n):[]).reduce((r,s)=>Q(R({},r),{[`select${Tw(s)}`]:wO(t,o=>o?.[s])}),{})}function W4(t){return t(void 0,{type:"@ngrx/feature/init"})}function K4(t){return t instanceof V?N(t):t}function Q4(t,e){return e.map((n,i)=>{if(t[i]instanceof V){let r=N(t[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:Sw,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Y4(t){return t.map(e=>e instanceof V?N(e):e)}function bO(t){return typeof t=="function"?t():t}function J4(t,e){return t.concat(e)}function Z4(){if(N(pt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function X4(t,e){return function(n,i){let r=e.action(i)?bw(i):i,s=t(n,r);return e.state()?bw(s):s}}function bw(t){Object.freeze(t);let e=ww(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&L4(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let i=t[n];(_O(i)||ww(i))&&!Object.isFrozen(i)&&bw(i)}}),t}function eq(t,e){return function(n,i){if(e.action(i)){let s=Ew(i);cO(s,"action")}let r=t(n,i);if(e.state()){let s=Ew(r);cO(s,"state")}return r}}function Ew(t,e=[]){return(sO(t)||oO(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((i,r)=>{if(i)return i;let s=t[r];return F4(s)?i:sO(s)||oO(s)||P4(s)||N4(s)||x4(s)||gO(s)?!1:yO(s)?Ew(s,[...e,r]):{path:[...e,r],value:s}},!1)}function cO(t,e){if(t===!1)return;let n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${Cw}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function tq(t,e){return function(n,i){if(e.action(i)&&!fe.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${Cw}#strictactionwithinngzone`);return t(n,i)}}function nq(t){return Jl()?R({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function iq({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?eq(n,{action:i=>t&&!Aw(i),state:()=>e}):n}function rq({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?X4(n,{action:i=>t&&!Aw(i),state:()=>e}):n}function Aw(t){return t.type.startsWith("@ngrx")}function sq({strictActionWithinNgZone:t}){return e=>t?tq(e,{action:n=>t&&!Aw(n)}):e}function oq(t){return[{provide:iO,useValue:t},{provide:nO,useFactory:aq,deps:[iO]},{provide:Su,deps:[nO],useFactory:nq},{provide:up,multi:!0,deps:[Su],useFactory:rq},{provide:up,multi:!0,deps:[Su],useFactory:iq},{provide:up,multi:!0,deps:[Su],useFactory:sq}]}function EO(){return[{provide:Dw,multi:!0,deps:[Su],useFactory:cq}]}function aq(t){return t}function cq(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(vw).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${Cw}#strictactiontypeuniqueness`)}function lq(t={},e={}){return[{provide:lO,useFactory:Z4},{provide:KR,useValue:e.initialState},{provide:Au,useFactory:bO,deps:[KR]},{provide:_w,useValue:t},{provide:JR,useExisting:t instanceof V?t:_w},{provide:dO,deps:[_w,[new fv(JR)]],useFactory:K4},{provide:eO,useValue:e.metaReducers?e.metaReducers:[]},{provide:tO,deps:[up,eO],useFactory:J4},{provide:QR,useValue:e.reducerFactory?e.reducerFactory:Sw},{provide:uO,deps:[QR,tO],useFactory:mO},b4,S4,C4,M4,R4,oq(e.runtimeChecks),EO()]}function uq(t,e,n={}){return[{provide:ZR,multi:!0,useValue:t instanceof Object?{}:n},{provide:YR,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(n instanceof V)&&n.reducerFactory?n.reducerFactory:Sw,metaReducers:!(n instanceof V)&&n.metaReducers?n.metaReducers:[],initialState:!(n instanceof V)&&n.initialState?n.initialState:void 0}},{provide:hO,deps:[ZR,YR],useFactory:Q4},{provide:yw,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:XR,multi:!0,useExisting:e instanceof V?e:yw},{provide:fO,multi:!0,deps:[yw,[new fv(XR)]],useFactory:Y4},EO()]}var Mu=(()=>{let e=class e{constructor(i,r,s,o,a,c){}};e.\u0275fac=function(r){return new(r||e)(x(ji),x(Do),x(So),x(pt),x(lO,8),x(Dw,8))},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),fp=(()=>{let e=class e{constructor(i,r,s,o,a){this.features=i,this.featureReducers=r,this.reducerManager=s;let c=i.map((u,d)=>{let m=r.shift()[d];return Q(R({},u),{reducers:m,initialState:bO(u.initialState)})});s.addFeatures(c)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};e.\u0275fac=function(r){return new(r||e)(x(hO),x(fO),x(dp),x(Mu),x(Dw,8))},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),lc=(()=>{let e=class e{static forRoot(i,r){return{ngModule:Mu,providers:[...lq(i,r)]}}static forFeature(i,r,s={}){return{ngModule:fp,providers:[...uq(i,r,s)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();function Ke(...t){let e=t.pop(),n=t.map(i=>i.type);return{reducer:e,types:n}}function uc(t,...e){let n=new Map;for(let i of e)for(let r of i.types){let s=n.get(r);if(s){let o=(a,c)=>i.reducer(s(a,c),c);n.set(r,o)}else n.set(r,i.reducer)}return function(i=t,r){let s=n.get(r.type);return s?s(i,r):i}}var Je=ac({source:"auth",events:{Login:It(),"Login Success":It(),"Login Failed":It(),"Get Current User":Bn(),"Sign Out":Bn(),"Sign Success":Bn(),"Sign Failed":Bn()}});var Mw=(()=>{let e=class e{constructor(i,r){this.store=i,this.router=r}click(){this.store.dispatch(Je.signOut())}};e.\u0275fac=function(r){return new(r||e)(W(pt),W(vn))},e.\u0275cmp=He({type:e,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[3,"click"]],template:function(r,s){r&1&&(P(0,"p"),U(1,"dashboard works!"),F(),P(2,"button",0),Be("click",function(){return s.click()}),U(3,"Logout"),F())}});let t=e;return t})();var dc={toFirestore:t=>t,fromFirestore:t=>t.data()},$i=function(t){return t.STUDENT="STUDENT",t.TEACHER="TEACHER",t.GUEST="GUEST",t}($i||{});var TO=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},dq=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},DO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),i.push(n[d],n[f],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||f==null)throw new Ow;let m=s<<2|a>>4;if(i.push(m),u!==64){let _=a<<4&240|u>>2;if(i.push(_),f!==64){let v=u<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ow=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hq=function(t){let e=TO(t);return DO.encodeByteArray(e,!0)},Ru=function(t){return hq(t).replace(/\./g,"")},Nw=function(t){try{return DO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pq=()=>fq().__FIREBASE_DEFAULTS__,mq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Nw(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return pq()||mq()||gq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pw=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gp=t=>{let e=Pw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},kw=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},Fw=t=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${t}`]};var pp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function _p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ru(JSON.stringify(n)),Ru(JSON.stringify(o)),""].join(".")}function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function _q(){var t;let e=(t=mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CO(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MO(){let t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RO(){return!_q()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lw(){try{return typeof indexedDB=="object"}catch{return!1}}function OO(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var yq="FirebaseError",wn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=yq,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}},Or=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?vq(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new wn(r,a,i)}};function vq(t,e){return t.replace(wq,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var wq=/\{\$([^}]+)}/g;function xO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(IO(s)&&IO(o)){if(!Ss(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function IO(t){return t!==null&&typeof t=="object"}function Ou(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function fc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NO(t,e){let n=new xw(t,e);return n.subscribe.bind(n)}var xw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bq(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Rw),r.error===void 0&&(r.error=Rw),r.complete===void 0&&(r.complete=Rw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bq(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rw(){}var Ace=4*60*60*1e3;function ut(t){return t&&t._delegate?t._delegate:t}var Mn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Co="[DEFAULT]";var Vw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new pp;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Iq(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Eq(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Eq(t){return t===Co?void 0:t}function Iq(t){return t.instantiationMode==="EAGER"}var yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Tq=[],Fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Fe||{}),Dq={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Sq=Fe.INFO,Cq={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Aq=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=Cq[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cs=class{constructor(e){this.name=e,this._logLevel=Sq,this._logHandler=Aq,this._userLogHandler=null,Tq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}};var Mq=(t,e)=>e.some(n=>t instanceof n),PO,kO;function Rq(){return PO||(PO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oq(){return kO||(kO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FO=new WeakMap,jw=new WeakMap,LO=new WeakMap,Bw=new WeakMap,$w=new WeakMap;function xq(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FO.set(n,t)}).catch(()=>{}),$w.set(e,t),e}function Nq(t){if(jw.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jw.set(t,e)}var Uw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VO(t){Uw=t(Uw)}function Pq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(vp(this),e,...n);return LO.set(i,e.sort?e.sort():[e]),Hi(i)}:Oq().includes(t)?function(...e){return t.apply(vp(this),e),Hi(FO.get(this))}:function(...e){return Hi(t.apply(vp(this),e))}}function kq(t){return typeof t=="function"?Pq(t):(t instanceof IDBTransaction&&Nq(t),Mq(t,Rq())?new Proxy(t,Uw):t)}function Hi(t){if(t instanceof IDBRequest)return xq(t);if(Bw.has(t))return Bw.get(t);let e=kq(t);return e!==t&&(Bw.set(t,e),$w.set(e,t)),e}var vp=t=>$w.get(t);function jO(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=Hi(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Hi(o.result),c.oldVersion,c.newVersion,Hi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Fq=["get","getKey","getAll","getAllKeys","count"],Lq=["put","add","delete","clear"],Hw=new Map;function BO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hw.get(e))return Hw.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=Lq.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Fq.includes(n)))return;let s=function(o,...a){return I(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return Hw.set(e,s),s}VO(t=>Q(R({},t),{get:(e,n,i)=>BO(e,n)||t.get(e,n,i),has:(e,n)=>!!BO(e,n)||t.has(e,n)}));var zw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vq(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Vq(t){let e=t.getComponent();return e?.type==="VERSION"}var qw="@firebase/app",UO="0.10.6";var Ao=new Cs("@firebase/app"),Bq="@firebase/app-compat",jq="@firebase/analytics-compat",Uq="@firebase/analytics",$q="@firebase/app-check-compat",Hq="@firebase/app-check",Gq="@firebase/auth",zq="@firebase/auth-compat",qq="@firebase/database",Wq="@firebase/database-compat",Kq="@firebase/functions",Qq="@firebase/functions-compat",Yq="@firebase/installations",Jq="@firebase/installations-compat",Zq="@firebase/messaging",Xq="@firebase/messaging-compat",eW="@firebase/performance",tW="@firebase/performance-compat",nW="@firebase/remote-config",iW="@firebase/remote-config-compat",rW="@firebase/storage",sW="@firebase/storage-compat",oW="@firebase/firestore",aW="@firebase/vertexai-preview",cW="@firebase/firestore-compat",lW="firebase",uW="10.12.3";var Ww="[DEFAULT]",dW={[qw]:"fire-core",[Bq]:"fire-core-compat",[Uq]:"fire-analytics",[jq]:"fire-analytics-compat",[Hq]:"fire-app-check",[$q]:"fire-app-check-compat",[Gq]:"fire-auth",[zq]:"fire-auth-compat",[qq]:"fire-rtdb",[Wq]:"fire-rtdb-compat",[Kq]:"fire-fn",[Qq]:"fire-fn-compat",[Yq]:"fire-iid",[Jq]:"fire-iid-compat",[Zq]:"fire-fcm",[Xq]:"fire-fcm-compat",[eW]:"fire-perf",[tW]:"fire-perf-compat",[nW]:"fire-rc",[iW]:"fire-rc-compat",[rW]:"fire-gcs",[sW]:"fire-gcs-compat",[oW]:"fire-fst",[cW]:"fire-fst-compat",[aW]:"fire-vertex","fire-js":"fire-js",[lW]:"fire-js-all"};var xu=new Map,hW=new Map,Kw=new Map;function $O(t,e){try{t.container.addComponent(e)}catch(n){Ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gi(t){let e=t.name;if(Kw.has(e))return Ao.debug(`There were multiple attempts to register component ${e}.`),!1;Kw.set(e,t);for(let n of xu.values())$O(n,t);for(let n of hW.values())$O(n,t);return!0}function Mo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zi(t){return t.settings!==void 0}var fW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Or("app","Firebase",fW);var Qw=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}};var qi=uW;function Zw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Ww,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw As.create("bad-app-name",{appName:String(r)});if(n||(n=kw()),!n)throw As.create("no-options");let s=xu.get(r);if(s){if(Ss(n,s.options)&&Ss(i,s.config))return s;throw As.create("duplicate-app",{appName:r})}let o=new yp(r);for(let c of Kw.values())o.addComponent(c);let a=new Qw(n,i,o);return xu.set(r,a),a}function Ms(t=Ww){let e=xu.get(t);if(!e&&t===Ww&&kw())return Zw();if(!e)throw As.create("no-app",{appName:t});return e}function wp(){return Array.from(xu.values())}function dt(t,e,n){var i;let r=(i=dW[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ao.warn(a.join(" "));return}Gi(new Mn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var pW="firebase-heartbeat-database",mW=1,Nu="firebase-heartbeat-store",Gw=null;function qO(){return Gw||(Gw=jO(pW,mW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),Gw}function gW(t){return I(this,null,function*(){try{let n=(yield qO()).transaction(Nu),i=yield n.objectStore(Nu).get(WO(t));return yield n.done,i}catch(e){if(e instanceof wn)Ao.warn(e.message);else{let n=As.create("idb-get",{originalErrorMessage:e?.message});Ao.warn(n.message)}}})}function HO(t,e){return I(this,null,function*(){try{let i=(yield qO()).transaction(Nu,"readwrite");yield i.objectStore(Nu).put(e,WO(t)),yield i.done}catch(n){if(n instanceof wn)Ao.warn(n.message);else{let i=As.create("idb-set",{originalErrorMessage:n?.message});Ao.warn(i.message)}}})}function WO(t){return`${t.name}!${t.options.appId}`}var _W=1024,yW=30*24*60*60*1e3,Yw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Jw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return I(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GO();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=yW}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=GO(),{heartbeatsToSend:i,unsentEntries:r}=vW(this._heartbeatsCache.heartbeats),s=Ru(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function GO(){return new Date().toISOString().substring(0,10)}function vW(t,e=_W){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),zO(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),zO(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Jw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Lw()?OO().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield gW(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return HO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return HO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function zO(t){return Ru(JSON.stringify({version:2,heartbeats:t})).length}function wW(t){Gi(new Mn("platform-logger",e=>new zw(e),"PRIVATE")),Gi(new Mn("heartbeat",e=>new Yw(e),"PRIVATE")),dt(qw,UO,t),dt(qw,UO,"esm2017"),dt("fire-js","")}wW("");var bW="firebase",EW="10.12.3";dt(bW,EW,"app");var xr=new wr("ANGULARFIRE2_VERSION");function mc(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oo=(t,e)=>{let n=e?[e]:wp(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Rs=class{constructor(){return Oo(IW)}},IW="app-check";function pc(){}var bp=class{zone;delegate;constructor(e,n=no){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Xw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pc,{},pc,pc)),n.pipe(Ne({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Os=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bp(Zone.current)),this.insideAngular=n.run(()=>new bp(Zone.current,Ei)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(x(fe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ep(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function TW(t){return Ep().ngZone.runOutsideAngular(()=>t())}function Ro(t){return Ep().ngZone.run(()=>t())}function DW(t){return SW(Ep())(t)}function SW(t){return function(n){return n=n.lift(new Xw(t.ngZone)),n.pipe(ns(t.outsideAngular),Wn(t.insideAngular))}}var CW=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ro(()=>t.apply(void 0,i))},mt=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pc,{},pc,pc))),i[s]=CW(i[s],n));let r=TW(()=>t.apply(this,i));if(!e)if(r instanceof ie){let s=Ep();return r.pipe(ns(s.outsideAngular),Wn(s.insideAngular))}else return Ro(()=>r);return r instanceof ie?r.pipe(DW):r instanceof Promise?Ro(()=>new Promise((s,o)=>r.then(a=>Ro(()=>s(a)),a=>Ro(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Ro(()=>r)};var _i=class{constructor(e){return e}},Nr=class{constructor(){return wp()}};function AW(t){return t&&t.length===1?t[0]:new _i(Ms())}var eb=new V("angularfire2._apps"),MW={provide:_i,useFactory:AW,deps:[[new Rt,eb]]},RW={provide:Nr,deps:[[new Rt,eb]]};function OW(t){return(e,n)=>{let i=n.get(pi);dt("angularfire",xr.full,"core"),dt("angularfire",xr.full,"app"),dt("angular",CM.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new _i(r)}}function KO(t,...e){return nn([MW,RW,{provide:eb,useFactory:OW(t),multi:!0,deps:[fe,Ye,Os,...e]}])}var QO=mt(Zw,!0);function fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var px=fx,mx=new Or("auth","Firebase",fx());var Ap=new Cs("@firebase/auth");function xW(t,...e){Ap.logLevel<=Fe.WARN&&Ap.warn(`Auth (${qi}): ${t}`,...e)}function Tp(t,...e){Ap.logLevel<=Fe.ERROR&&Ap.error(`Auth (${qi}): ${t}`,...e)}function Ki(t,...e){throw Eb(t,...e)}function xo(t,...e){return Eb(t,...e)}function gx(t,e,n){let i=Object.assign(Object.assign({},px()),{[e]:n});return new Or("auth","Firebase",i).create(e,{appName:t.name})}function Ns(t){return gx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eb(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return mx.create(t,...e)}function me(t,e,...n){if(!t)throw Eb(e,...n)}function Pr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function Ps(t,e){t||Pr(e)}function rb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NW(){return YO()==="http:"||YO()==="https:"}function YO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NW()||CO()||"connection"in navigator)?navigator.onLine:!0}function kW(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var No=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=SO()||AO()}get(){return PW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ib(t,e){Ps(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Mp=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var FW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LW=new No(3e4,6e4);function ko(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ks(s,o,a,c){return I(this,arguments,function*(t,e,n,i,r={}){return _x(t,r,()=>I(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let f=Ou(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Mp.fetch()(yx(t,t.config.apiHost,n,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))})}function _x(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},FW),e);try{let r=new sb(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ip(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ip(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ip(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ip(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gx(t,d,u);Ki(t,d)}}catch(r){if(r instanceof wn)throw r;Ki(t,"network-request-failed",{message:String(r)})}})}function Bp(s,o,a,c){return I(this,arguments,function*(t,e,n,i,r={}){let u=yield ks(t,e,n,i,r);return"mfaPendingCredential"in u&&Ki(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function yx(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?Ib(t.config,r):`${t.config.apiScheme}://${r}`}function VW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var sb=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(xo(this.auth,"network-request-failed")),LW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ip(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=xo(t,e,i);return r.customData._tokenResponse=n,r}function JO(t){return t!==void 0&&t.enterprise!==void 0}var ob=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function BW(t,e){return I(this,null,function*(){return ks(t,"GET","/v2/recaptchaConfig",ko(t,e))})}function jW(t,e){return I(this,null,function*(){return ks(t,"POST","/v1/accounts:delete",e)})}function vx(t,e){return I(this,null,function*(){return ks(t,"POST","/v1/accounts:lookup",e)})}function Pu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tb(t,e=!1){return I(this,null,function*(){let n=ut(t),i=yield n.getIdToken(e),r=Db(i);me(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Pu(tb(r.auth_time)),issuedAtTime:Pu(tb(r.iat)),expirationTime:Pu(tb(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function tb(t){return Number(t)*1e3}function Db(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{let r=Nw(n);return r?JSON.parse(r):(Tp("Failed to decode base64 JWT payload"),null)}catch(r){return Tp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ZO(t){let e=Db(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fu(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof wn&&UW(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function UW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ab=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rp(t){return I(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Fu(t,vx(n,{idToken:i}));me(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wx(s.providerUserInfo):[],a=$W(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function Sb(t){return I(this,null,function*(){let e=ut(t);yield Rp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $W(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function wx(t){return t.map(e=>{var{providerId:n}=e,i=D_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function HW(t,e){return I(this,null,function*(){let n=yield _x(t,{},()=>I(this,null,function*(){let i=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=yx(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mp.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function GW(t,e){return I(this,null,function*(){return ks(t,"POST","/v2/accounts:revokeToken",ko(t,e))})}var ku=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");let n=ZO(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield HW(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(me(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(me(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pr("not implemented")}};function xs(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var gc=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=D_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ab(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Fu(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Tb(this,e)}reload(){return Sb(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Rp(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(zi(this.auth.app))return Promise.reject(Ns(this.auth));let e=yield this.getIdToken();return yield Fu(this,jW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,d;let f=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,H=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:J,emailVerified:$,isAnonymous:ae,providerData:q,stsTokenManager:T}=n;me(J&&T,e,"internal-error");let y=ku.fromJSON(this.name,T);me(typeof J=="string",e,"internal-error"),xs(f,e.name),xs(m,e.name),me(typeof $=="boolean",e,"internal-error"),me(typeof ae=="boolean",e,"internal-error"),xs(_,e.name),xs(v,e.name),xs(E,e.name),xs(S,e.name),xs(k,e.name),xs(H,e.name);let w=new t({uid:J,auth:e,email:m,emailVerified:$,displayName:f,isAnonymous:ae,photoURL:v,phoneNumber:_,tenantId:E,stsTokenManager:y,createdAt:k,lastLoginAt:H});return q&&Array.isArray(q)&&(w.providerData=q.map(D=>Object.assign({},D))),S&&(w._redirectEventId=S),w}static _fromIdTokenResponse(e,n,i=!1){return I(this,null,function*(){let r=new ku;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Rp(s),s})}static _fromGetAccountInfoResponse(e,n,i){return I(this,null,function*(){let r=n.users[0];me(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?wx(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new ku;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Lu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var XO=new Map;function kr(t){Ps(t instanceof Function,"Expected a class definition");let e=XO.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XO.set(t,e),e)}var zW=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,i){return I(this,null,function*(){this.storage[n]=i})}_get(n){return I(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),cb=zW;function Dp(t,e,n){return`firebase:${t}:${e}:${n}`}var Op=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Dp(this.userKey,r.apiKey,s),this.fullPersistenceKey=Dp("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?gc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return I(this,null,function*(){if(!n.length)return new t(kr(cb),e,i);let r=(yield Promise.all(n.map(u=>I(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||kr(cb),o=Dp(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f=gc._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>I(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function ex(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ix(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dx(e))return"Blackberry";if(Sx(e))return"Webos";if(Cb(e))return"Safari";if((e.includes("chrome/")||Ex(e))&&!e.includes("edge/"))return"Chrome";if(Tx(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function bx(t=Vt()){return/firefox\//i.test(t)}function Cb(t=Vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ex(t=Vt()){return/crios\//i.test(t)}function Ix(t=Vt()){return/iemobile/i.test(t)}function Tx(t=Vt()){return/android/i.test(t)}function Dx(t=Vt()){return/blackberry/i.test(t)}function Sx(t=Vt()){return/webos/i.test(t)}function jp(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qW(t=Vt()){var e;return jp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WW(){return MO()&&document.documentMode===10}function Cx(t=Vt()){return jp(t)||Tx(t)||Sx(t)||Dx(t)||/windows phone/i.test(t)||Ix(t)}function KW(){try{return!!(window&&window!==window.top)}catch{return!1}}function Ax(t,e=[]){let n;switch(t){case"Browser":n=ex(Vt());break;case"Worker":n=`${ex(Vt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${i}`}var lb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function QW(n){return I(this,arguments,function*(t,e={}){return ks(t,"GET","/v2/passwordPolicy",ko(t,e))})}var YW=6,ub=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var db=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new lb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Op.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield vx(this,{idToken:e}),i=yield gc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(zi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=kW()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(zi(this.app))return Promise.reject(Ns(this));let n=e?ut(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return zi(this.app)?Promise.reject(Ns(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return zi(this.app)?Promise.reject(Ns(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(kr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield QW(this),n=new ub(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield GW(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&kr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=yield Op.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ax(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xW(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _c(t){return ut(t)}var xp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NO(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Up={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JW(t){Up=t}function Mx(t){return Up.loadJS(t)}function ZW(){return Up.recaptchaEnterpriseScript}function XW(){return Up.gapiScript}function Rx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var e5="recaptcha-enterprise",t5="NO_RECAPTCHA",hb=class{constructor(e){this.type=e5,this.auth=_c(e)}verify(e="verify",n=!1){return I(this,null,function*(){function i(s){return I(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>I(this,null,function*(){BW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new ob(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;JO(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(t5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&JO(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=ZW();c.length!==0&&(c+=a),Mx(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function tx(t,e,n,i=!1){return I(this,null,function*(){let r=new hb(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function nx(t,e,n,i){return I(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield tx(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>I(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield tx(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function Ab(t,e){let n=Mo(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(Ss(s,e??{}))return r;Ki(r,"already-initialized")}return n.initialize({options:e})}function n5(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Mb(t,e,n){let i=_c(t);me(i._canInitEmulator,i,"emulator-config-failed"),me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=Ox(e),{host:o,port:a}=i5(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||r5()}function Ox(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i5(t){let e=Ox(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:ix(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:ix(o)}}}function ix(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function r5(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Vu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}};function s5(t,e){return I(this,null,function*(){return ks(t,"POST","/v1/accounts:signUp",e)})}function o5(t,e){return I(this,null,function*(){return Bp(t,"POST","/v1/accounts:signInWithPassword",ko(t,e))})}function a5(t,e){return I(this,null,function*(){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))})}function c5(t,e){return I(this,null,function*(){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))})}var Bu=class t extends Vu{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nx(e,n,"signInWithPassword",o5);case"emailLink":return a5(e,{email:this._email,oobCode:this._password});default:Ki(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nx(e,i,"signUpPassword",s5);case"emailLink":return c5(e,{idToken:n,email:this._email,oobCode:this._password});default:Ki(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function nb(t,e){return I(this,null,function*(){return Bp(t,"POST","/v1/accounts:signInWithIdp",ko(t,e))})}function l5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u5(t){let e=hc(fc(t)).link,n=e?hc(fc(e)).deep_link_id:null,i=hc(fc(t)).deep_link_id;return(i?hc(fc(i)).link:null)||i||n||e||t}var Np=class t{constructor(e){var n,i,r,s,o,a;let c=hc(fc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(i=c.oobCode)!==null&&i!==void 0?i:null,f=l5((r=c.mode)!==null&&r!==void 0?r:null);me(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=u5(e);try{return new t(n)}catch{return null}}};var xx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Bu._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Np.parseLink(i);return me(r,"argument-error"),Bu._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fb=class extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ju=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return I(this,null,function*(){let s=yield gc._fromIdTokenResponse(e,i,r),o=rx(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return I(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=rx(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function rx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var pb=class t extends wn{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function Nx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pb._fromErrorAndOperation(t,s,e,i):s})}function d5(t,e,n=!1){return I(this,null,function*(){let i=yield Fu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ju._forOperation(t,"link",i)})}function h5(t,e,n=!1){return I(this,null,function*(){let{auth:i}=t;if(zi(i.app))return Promise.reject(Ns(i));let r="reauthenticate";try{let s=yield Fu(t,Nx(i,r,e,t),n);me(s.idToken,i,"internal-error");let o=Db(s.idToken);me(o,i,"internal-error");let{sub:a}=o;return me(t.uid===a,i,"user-mismatch"),ju._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ki(i,"user-mismatch"),s}})}function Px(t,e,n=!1){return I(this,null,function*(){if(zi(t.app))return Promise.reject(Ns(t));let i="signIn",r=yield Nx(t,i,e),s=yield ju._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Rb(t,e){return I(this,null,function*(){return Px(_c(t),e)})}function f5(t){return I(this,null,function*(){let e=_c(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ob(t,e,n){return zi(t.app)?Promise.reject(Ns(t)):Rb(ut(t),xx.credential(e,n)).catch(i=>I(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&f5(t),i}))}function $p(t,e,n,i){return ut(t).onIdTokenChanged(e,n,i)}function xb(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function Hp(t,e,n,i){return ut(t).onAuthStateChanged(e,n,i)}function Nb(t){return ut(t).signOut()}var kp="__sak";var Fp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function p5(){let t=Vt();return Cb(t)||jp(t)}var m5=1e3,g5=10,_5=(()=>{class t extends Fp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=p5()&&KW(),this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);WW()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,g5):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},m5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return I(this,null,function*(){yield Zr(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return I(this,null,function*(){let i=yield Zr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return I(this,null,function*(){yield Zr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),kx=_5;var y5=(()=>{class t extends Fp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Pb=y5;function v5(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var w5=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>I(this,null,function*(){return d(i.origin,o)})),u=yield v5(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Fx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var mb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return I(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Fx("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Wi(){return window}function b5(t){Wi().location.href=t}function Lx(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}function E5(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function I5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T5(){return Lx()?self:null}var Vx="firebaseLocalStorageDb",D5=1,Lp="firebaseLocalStorage",Bx="fbase_key",Po=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Gp(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function S5(){let t=indexedDB.deleteDatabase(Vx);return new Po(t).toPromise()}function gb(){let t=indexedDB.open(Vx,D5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Lp,{keyPath:Bx})}catch(r){n(r)}}),t.addEventListener("success",()=>I(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Lp)?e(i):(i.close(),yield S5(),e(yield gb()))}))})}function sx(t,e,n){return I(this,null,function*(){let i=Gp(t,!0).put({[Bx]:e,value:n});return new Po(i).toPromise()})}function C5(t,e){return I(this,null,function*(){let n=Gp(t,!1).get(e),i=yield new Po(n).toPromise();return i===void 0?null:i.value})}function ox(t,e){let n=Gp(t,!0).delete(e);return new Po(n).toPromise()}var A5=800,M5=3,R5=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield gb(),this.db)})}_withRetries(n){return I(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>M5)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return Lx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=w5._getInstance(T5()),this.receiver._subscribe("keyChanged",(n,i)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,i;if(this.activeServiceWorker=yield E5(),!this.activeServiceWorker)return;this.sender=new mb(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||I5()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield gb();return yield sx(n,kp,"1"),yield ox(n,kp),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>sx(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let i=yield this._withRetries(r=>C5(r,n));return this.localCache[n]=i,i})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>ox(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(s=>{let o=Gp(s,!1).getAll();return new Po(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),A5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),jx=R5;var ble=Rx("rcb"),Ele=new No(3e4,6e4);function O5(t,e){return e?kr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Uu=class extends Vu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nb(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nb(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nb(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function x5(t){return Px(t.auth,new Uu(t),t.bypassAuthState)}function N5(t){let{auth:e,user:n}=t;return me(n,e,"internal-error"),h5(n,new Uu(t),t.bypassAuthState)}function P5(t){return I(this,null,function*(){let{auth:e,user:n}=t;return me(n,e,"internal-error"),d5(n,new Uu(t),t.bypassAuthState)})}var _b=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x5;case"linkViaPopup":case"linkViaRedirect":return P5;case"reauthViaPopup":case"reauthViaRedirect":return N5;default:Ki(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ile=new No(2e3,1e4);var k5="pendingRedirect",Sp=new Map,yb=class t extends _b{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return I(this,null,function*(){let e=Sp.get(this.auth._key());if(!e){try{let i=(yield F5(this.resolver,this.auth))?yield Zr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Sp.set(this.auth._key(),e)}return this.bypassAuthState||Sp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Zr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Zr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function F5(t,e){return I(this,null,function*(){let n=B5(e),i=V5(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function L5(t,e){Sp.set(t._key(),e)}function V5(t){return kr(t._redirectPersistence)}function B5(t){return Dp(k5,t.config.apiKey,t.name)}function j5(t,e,n=!1){return I(this,null,function*(){if(zi(t.app))return Promise.reject(Ns(t));let i=_c(t),r=O5(i,e),o=yield new yb(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var U5=10*60*1e3,vb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Ux(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(xo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ax(e))}saveEventToCache(e){this.cachedEventUids.add(ax(e)),this.lastProcessedEventTime=Date.now()}};function ax(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ux({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ux(t);default:return!1}}function H5(n){return I(this,arguments,function*(t,e={}){return ks(t,"GET","/v1/projects",e)})}var G5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z5=/^https?/;function q5(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield H5(t);for(let n of e)try{if(W5(n))return}catch{}Ki(t,"unauthorized-domain")})}function W5(t){let e=rb(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!z5.test(n))return!1;if(G5.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var K5=new No(3e4,6e4);function cx(){let t=Wi().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q5(t){return new Promise((e,n)=>{var i,r,s;function o(){cx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cx(),n(xo(t,"network-request-failed"))},timeout:K5.get()})}if(!((r=(i=Wi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Wi().gapi)===null||s===void 0)&&s.load)o();else{let a=Rx("iframefcb");return Wi()[a]=()=>{gapi.load?o():n(xo(t,"network-request-failed"))},Mx(`${XW()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Cp=null,e})}var Cp=null;function Y5(t){return Cp=Cp||Q5(t),Cp}var J5=new No(5e3,15e3),Z5="__/auth/iframe",X5="emulator/auth/iframe",e6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n6(t){let e=t.config;me(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ib(e,X5):`https://${t.config.authDomain}/${Z5}`,i={apiKey:e.apiKey,appName:t.name,v:qi},r=t6.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ou(i).slice(1)}`}function i6(t){return I(this,null,function*(){let e=yield Y5(t),n=Wi().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:n6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e6,dontclear:!0},i=>new Promise((r,s)=>I(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=xo(t,"network-request-failed"),a=Wi().setTimeout(()=>{s(o)},J5.get());function c(){Wi().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var r6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s6=500,o6=600,a6="_blank",c6="http://localhost",Vp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function l6(t,e,n,i=s6,r=o6){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},r6),{width:i.toString(),height:r.toString(),top:s,left:o}),u=Vt().toLowerCase();n&&(a=Ex(u)?a6:n),bx(u)&&(e=e||c6,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[_,v])=>`${m}${_}=${v},`,"");if(qW(u)&&a!=="_self")return u6(e||"",a),new Vp(null);let f=window.open(e||"",a,d);me(f,t,"popup-blocked");try{f.focus()}catch{}return new Vp(f)}function u6(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var d6="__/auth/handler",h6="emulator/auth/handler",f6=encodeURIComponent("fac");function lx(t,e,n,i,r,s){return I(this,null,function*(){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:qi,eventId:r};if(e instanceof Pp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof fb){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${f6}=${encodeURIComponent(c)}`:"";return`${p6(t)}?${Ou(a).slice(1)}${u}`})}function p6({config:t}){return t.emulator?Ib(t,h6):`https://${t.authDomain}/${d6}`}var ib="webStorageSupport",wb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pb,this._completeRedirectFn=j5,this._overrideRedirectResult=L5}_openPopup(e,n,i,r){return I(this,null,function*(){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield lx(e,n,i,rb(),r);return l6(e,o,Fx())})}_openRedirect(e,n,i,r){return I(this,null,function*(){yield this._originValidation(e);let s=yield lx(e,n,i,rb(),r);return b5(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ps(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return I(this,null,function*(){let n=yield i6(e),i=new vb(e);return n.register("authEvent",r=>(me(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ib,{type:ib},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[ib];o!==void 0&&n(!!o),Ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cx()||Cb()||jp()}},$x=wb;var ux="@firebase/auth",dx="1.7.5";var bb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function m6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g6(t){Gi(new Mn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ax(t)},u=new db(i,r,s,c);return n5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Gi(new Mn("auth-internal",e=>{let n=_c(e.getProvider("auth").getImmediate());return(i=>new bb(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(ux,dx,m6(t)),dt(ux,dx,"esm2017")}var _6=5*60,y6=Fw("authIdTokenMaxAge")||_6,hx=null,v6=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>y6)return;let r=n?.token;hx!==r&&(hx=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function kb(t=Ms()){let e=Mo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ab(t,{popupRedirectResolver:$x,persistence:[jx,kx,Pb]}),i=Fw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=v6(s.toString());xb(n,o,()=>o(n.currentUser)),$p(n,a=>o(a))}}let r=Pw("auth");return r&&Mb(n,`http://${r}`),n}function w6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JW({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=xo("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",w6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g6("Browser");function Gx(t){return new ie(function(e){var n=Hp(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var zx="auth",Fo=class{constructor(e){return e}},Lo=class{constructor(){return Oo(zx)}};var Fb=new V("angularfire2.auth-instances");function l8(t,e){let n=mc(zx,t,e);return n&&new Fo(n)}function u8(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Fo(i)}}var d8={provide:Lo,deps:[[new Rt,Fb]]},h8={provide:Fo,useFactory:l8,deps:[[new Rt,Fb],_i]};function qx(t,...e){return dt("angularfire",xr.full,"auth"),nn([h8,d8,{provide:Fb,useFactory:u8(t),multi:!0,deps:[fe,Ye,Os,Nr,[new Rt,Rs],...e]}])}var Wx=mt(Gx,!0);var Kx=mt(kb,!0);var Qx=mt(Ob,!0);var Yx=mt(Nb,!0);var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zx={};var Fs,Lb;(function(){var t;function e(T,y){function w(){}w.prototype=y.prototype,T.D=y.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(D,C,M){for(var b=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)b[zn-2]=arguments[zn];return y.prototype[C].apply(D,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,w){w||(w=0);var D=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)D[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)D[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=T.g[0],w=T.g[1],C=T.g[2];var M=T.g[3],b=y+(M^w&(C^M))+D[0]+3614090360&4294967295;y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+D[1]+3905402710&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+D[2]+606105819&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+D[3]+3250441966&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(M^w&(C^M))+D[4]+4118548399&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+D[5]+1200080426&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+D[6]+2821735955&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+D[7]+4249261313&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(M^w&(C^M))+D[8]+1770035416&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+D[9]+2336552879&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+D[10]+4294925233&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+D[11]+2304563134&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(M^w&(C^M))+D[12]+1804603682&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+D[13]+4254626195&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+D[14]+2792965006&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+D[15]+1236535329&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(C^M&(w^C))+D[1]+4129170786&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+D[6]+3225465664&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+D[11]+643717713&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+D[0]+3921069994&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(C^M&(w^C))+D[5]+3593408605&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+D[10]+38016083&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+D[15]+3634488961&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+D[4]+3889429448&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(C^M&(w^C))+D[9]+568446438&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+D[14]+3275163606&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+D[3]+4107603335&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+D[8]+1163531501&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(C^M&(w^C))+D[13]+2850285829&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+D[2]+4243563512&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+D[7]+1735328473&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+D[12]+2368359562&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(w^C^M)+D[5]+4294588738&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+D[8]+2272392833&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+D[11]+1839030562&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+D[14]+4259657740&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(w^C^M)+D[1]+2763975236&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+D[4]+1272893353&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+D[7]+4139469664&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+D[10]+3200236656&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(w^C^M)+D[13]+681279174&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+D[0]+3936430074&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+D[3]+3572445317&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+D[6]+76029189&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(w^C^M)+D[9]+3654602809&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+D[12]+3873151461&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+D[15]+530742520&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+D[2]+3299628645&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(C^(w|~M))+D[0]+4096336452&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+D[7]+1126891415&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+D[14]+2878612391&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+D[5]+4237533241&4294967295,w=C+(b<<21&4294967295|b>>>11),b=y+(C^(w|~M))+D[12]+1700485571&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+D[3]+2399980690&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+D[10]+4293915773&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+D[1]+2240044497&4294967295,w=C+(b<<21&4294967295|b>>>11),b=y+(C^(w|~M))+D[8]+1873313359&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+D[15]+4264355552&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+D[6]+2734768916&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+D[13]+1309151649&4294967295,w=C+(b<<21&4294967295|b>>>11),b=y+(C^(w|~M))+D[4]+4149444226&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+D[11]+3174756917&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+D[2]+718787259&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(C+(b<<21&4294967295|b>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+M&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var w=y-this.blockSize,D=this.B,C=this.h,M=0;M<y;){if(C==0)for(;M<=w;)r(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<y;)if(D[C++]=T.charCodeAt(M++),C==this.blockSize){r(this,D),C=0;break}}else for(;M<y;)if(D[C++]=T[M++],C==this.blockSize){r(this,D),C=0;break}}this.h=C,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var w=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=w&255,w/=256;for(this.u(T),T=Array(16),y=w=0;4>y;++y)for(var D=0;32>D;D+=8)T[w++]=this.g[y]>>>D&255;return T};function s(T,y){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=y(T)}function o(T,y){this.h=y;for(var w=[],D=!0,C=T.length-1;0<=C;C--){var M=T[C]|0;D&&M==y||(w[C]=M,D=!1)}this.g=w}var a={};function c(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return S(u(-T));for(var y=[],w=1,D=0;T>=w;D++)y[D]=T/w|0,w*=4294967296;return new o(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return S(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),D=f,C=0;C<T.length;C+=8){var M=Math.min(8,T.length-C),b=parseInt(T.substring(C,C+M),y);8>M?(M=u(Math.pow(y,M)),D=D.j(M).add(u(b))):(D=D.j(w),D=D.add(u(b)))}return D}var f=c(0),m=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var T=0,y=1,w=0;w<this.g.length;w++){var D=this.i(w);T+=(0<=D?D:4294967296+D)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(E(this))return"-"+S(this).toString(T);for(var y=u(Math.pow(T,6)),w=this,D="";;){var C=$(w,y).g;w=k(w,C.j(y));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=C,v(w))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=k(this,T),E(T)?-1:v(T)?0:1};function S(T){for(var y=T.g.length,w=[],D=0;D<y;D++)w[D]=~T.g[D];return new o(w,~T.h).add(m)}t.abs=function(){return E(this)?S(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],D=0,C=0;C<=y;C++){var M=D+(this.i(C)&65535)+(T.i(C)&65535),b=(M>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);D=b>>>16,M&=65535,b&=65535,w[C]=b<<16|M}return new o(w,w[w.length-1]&-2147483648?-1:0)};function k(T,y){return T.add(S(y))}t.j=function(T){if(v(this)||v(T))return f;if(E(this))return E(T)?S(this).j(S(T)):S(S(this).j(T));if(E(T))return S(this.j(S(T)));if(0>this.l(_)&&0>T.l(_))return u(this.m()*T.m());for(var y=this.g.length+T.g.length,w=[],D=0;D<2*y;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<T.g.length;C++){var M=this.i(D)>>>16,b=this.i(D)&65535,zn=T.i(C)>>>16,qr=T.i(C)&65535;w[2*D+2*C]+=b*qr,H(w,2*D+2*C),w[2*D+2*C+1]+=M*qr,H(w,2*D+2*C+1),w[2*D+2*C+1]+=b*zn,H(w,2*D+2*C+1),w[2*D+2*C+2]+=M*zn,H(w,2*D+2*C+2)}for(D=0;D<y;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=y;D<2*y;D++)w[D]=0;return new o(w,0)};function H(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function J(T,y){this.g=T,this.h=y}function $(T,y){if(v(y))throw Error("division by zero");if(v(T))return new J(f,f);if(E(T))return y=$(S(T),y),new J(S(y.g),S(y.h));if(E(y))return y=$(T,S(y)),new J(S(y.g),y.h);if(30<T.g.length){if(E(T)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,D=y;0>=D.l(T);)w=ae(w),D=ae(D);var C=q(w,1),M=q(D,1);for(D=q(D,2),w=q(w,2);!v(D);){var b=M.add(D);0>=b.l(T)&&(C=C.add(w),M=b),D=q(D,1),w=q(w,1)}return y=k(T,C.j(y)),new J(C,y)}for(C=f;0<=T.l(y);){for(w=Math.max(1,Math.floor(T.m()/y.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=u(w),b=M.j(y);E(b)||0<b.l(T);)w-=D,M=u(w),b=M.j(y);v(M)&&(M=m),C=C.add(M),T=k(T,b)}return new J(C,T)}t.A=function(T){return $(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)&T.i(D);return new o(w,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)|T.i(D);return new o(w,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)^T.i(D);return new o(w,this.h^T.h)};function ae(T){for(var y=T.g.length+1,w=[],D=0;D<y;D++)w[D]=T.i(D)<<1|T.i(D-1)>>>31;return new o(w,T.h)}function q(T,y){var w=y>>5;y%=32;for(var D=T.g.length-w,C=[],M=0;M<D;M++)C[M]=0<y?T.i(M+w)>>>y|T.i(M+w+1)<<32-y:T.i(M+w);return new o(C,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Lb=Zx.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Fs=Zx.Integer=o}).apply(typeof Jx<"u"?Jx:typeof self<"u"?self:typeof window<"u"?window:{});var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fr={};var Vb,Bb,yc,jb,$u,qp,Ub,$b,Hb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)e:{var p=i;l=l.split(".");for(var g=0;g<l.length-1;g++){var A=l[g];if(!(A in p))break e;p=p[A]}l=l[l.length-1],g=p[l],h=h(g),h!=g&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,g=!1,A={next:function(){if(!g&&p<l.length){var O=p++;return{value:h(O,l[O]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}r("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),l.apply(h,A)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function _(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function v(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,A,O){for(var K=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)K[Ze-2]=arguments[Ze];return h.prototype[A].apply(g,K)}}function E(l){let h=l.length;if(0<h){let p=Array(h);for(let g=0;g<h;g++)p[g]=l[g];return p}return[]}function S(l,h){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let A=l.length||0,O=g.length||0;l.length=A+O;for(let K=0;K<O;K++)l[A+K]=g[K]}else l.push(g)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(l){return/^[\s\xa0]*$/.test(l)}function J(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function $(l){return $[" "](l),l}$[" "]=function(){};var ae=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function q(l,h,p){for(let g in l)h.call(p,l[g],g,l)}function T(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function y(l){let h={};for(let p in l)h[p]=l[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let p,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(p in g)l[p]=g[p];for(let O=0;O<w.length;O++)p=w[O],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function C(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function M(l){a.setTimeout(()=>{throw l},0)}function b(){var l=Oe;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class zn{constructor(){this.h=this.g=null}add(h,p){let g=qr.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var qr=new k(()=>new te,l=>l.reset());class te{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,Oe=new zn,St=()=>{let l=a.Promise.resolve(void 0);se=()=>{l.then(qn)}};var qn=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){M(p)}var h=qr;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ce=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Wr(l,h){if(nt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ae){e:{try{$(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Vg[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Wr.aa.h.call(this)}}v(Wr,nt);var Vg={2:"touch",3:"pen",4:"mouse"};Wr.prototype.h=function(){Wr.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),cr=0;function In(l,h,p,g,A){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=A,this.key=++cr,this.da=this.fa=!1}function lr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Kr(l){this.src=l,this.g={},this.h=0}Kr.prototype.add=function(l,h,p,g,A){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var K=jg(l,h,g,A);return-1<K?(h=l[K],p||(h.fa=!1)):(h=new In(h,this.src,O,!!g,A),h.fa=p,l.push(h)),h};function Bg(l,h){var p=h.type;if(p in l.g){var g=l.g[p],A=Array.prototype.indexOf.call(g,h,void 0),O;(O=0<=A)&&Array.prototype.splice.call(g,A,1),O&&(lr(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function jg(l,h,p,g){for(var A=0;A<l.length;++A){var O=l[A];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==g)return A}return-1}var Ug="closure_lm_"+(1e6*Math.random()|0),$g={};function DD(l,h,p,g,A){if(g&&g.once)return CD(l,h,p,g,A);if(Array.isArray(h)){for(var O=0;O<h.length;O++)DD(l,h[O],p,g,A);return null}return p=qg(p),l&&l[yt]?l.K(h,p,u(g)?!!g.capture:!!g,A):SD(l,h,p,!1,g,A)}function SD(l,h,p,g,A,O){if(!h)throw Error("Invalid event type");var K=u(A)?!!A.capture:!!A,Ze=Gg(l);if(Ze||(l[Ug]=Ze=new Kr(l)),p=Ze.add(h,p,g,K,O),p.proxy)return p;if(g=CV(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)it||(A=K),A===void 0&&(A=!1),l.addEventListener(h.toString(),g,A);else if(l.attachEvent)l.attachEvent(MD(h.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function CV(){function l(p){return h.call(l.src,l.listener,p)}let h=AV;return l}function CD(l,h,p,g,A){if(Array.isArray(h)){for(var O=0;O<h.length;O++)CD(l,h[O],p,g,A);return null}return p=qg(p),l&&l[yt]?l.L(h,p,u(g)?!!g.capture:!!g,A):SD(l,h,p,!0,g,A)}function AD(l,h,p,g,A){if(Array.isArray(h))for(var O=0;O<h.length;O++)AD(l,h[O],p,g,A);else g=u(g)?!!g.capture:!!g,p=qg(p),l&&l[yt]?(l=l.i,h=String(h).toString(),h in l.g&&(O=l.g[h],p=jg(O,p,g,A),-1<p&&(lr(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete l.g[h],l.h--)))):l&&(l=Gg(l))&&(h=l.g[h.toString()],l=-1,h&&(l=jg(h,p,g,A)),(p=-1<l?h[l]:null)&&Hg(p))}function Hg(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[yt])Bg(h.i,l);else{var p=l.type,g=l.proxy;h.removeEventListener?h.removeEventListener(p,g,l.capture):h.detachEvent?h.detachEvent(MD(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=Gg(h))?(Bg(p,l),p.h==0&&(p.src=null,h[Ug]=null)):lr(l)}}}function MD(l){return l in $g?$g[l]:$g[l]="on"+l}function AV(l,h){if(l.da)l=!0;else{h=new Wr(h,this);var p=l.listener,g=l.ha||l.src;l.fa&&Hg(l),l=p.call(g,h)}return l}function Gg(l){return l=l[Ug],l instanceof Kr?l:null}var zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function qg(l){return typeof l=="function"?l:(l[zg]||(l[zg]=function(h){return l.handleEvent(h)}),l[zg])}function Qt(){_t.call(this),this.i=new Kr(this),this.M=this,this.F=null}v(Qt,_t),Qt.prototype[yt]=!0,Qt.prototype.removeEventListener=function(l,h,p,g){AD(this,l,h,p,g)};function un(l,h){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=h.type||h,typeof h=="string")h=new nt(h,l);else if(h instanceof nt)h.target=h.target||l;else{var A=h;h=new nt(g,l),D(h,A)}if(A=!0,p)for(var O=p.length-1;0<=O;O--){var K=h.g=p[O];A=Cd(K,g,!0,h)&&A}if(K=h.g=l,A=Cd(K,g,!0,h)&&A,A=Cd(K,g,!1,h)&&A,p)for(O=0;O<p.length;O++)K=h.g=p[O],A=Cd(K,g,!1,h)&&A}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],g=0;g<p.length;g++)lr(p[g]);delete l.g[h],l.h--}}this.F=null},Qt.prototype.K=function(l,h,p,g){return this.i.add(String(l),h,!1,p,g)},Qt.prototype.L=function(l,h,p,g){return this.i.add(String(l),h,!0,p,g)};function Cd(l,h,p,g){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,O=0;O<h.length;++O){var K=h[O];if(K&&!K.da&&K.capture==p){var Ze=K.listener,Ht=K.ha||K.src;K.fa&&Bg(l.i,K),A=Ze.call(Ht,g)!==!1&&A}}return A&&!g.defaultPrevented}function RD(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function OD(l){l.g=RD(()=>{l.g=null,l.i&&(l.i=!1,OD(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class MV extends _t{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:OD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(l){_t.call(this),this.h=l,this.g={}}v(sl,_t);var xD=[];function ND(l){q(l.g,function(h,p){this.g.hasOwnProperty(p)&&Hg(h)},l),l.g={}}sl.prototype.N=function(){sl.aa.N.call(this),ND(this)},sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wg=a.JSON.stringify,RV=a.JSON.parse,OV=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Kg(){}Kg.prototype.h=null;function PD(l){return l.h||(l.h=l.i())}function kD(){}var ol={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qg(){nt.call(this,"d")}v(Qg,nt);function Yg(){nt.call(this,"c")}v(Yg,nt);var Qs={},FD=null;function Ad(){return FD=FD||new Qt}Qs.La="serverreachability";function LD(l){nt.call(this,Qs.La,l)}v(LD,nt);function al(l){let h=Ad();un(h,new LD(h))}Qs.STAT_EVENT="statevent";function VD(l,h){nt.call(this,Qs.STAT_EVENT,l),this.stat=h}v(VD,nt);function dn(l){let h=Ad();un(h,new VD(h,l))}Qs.Ma="timingevent";function BD(l,h){nt.call(this,Qs.Ma,l),this.size=h}v(BD,nt);function cl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function xV(l,h,p,g,A,O){l.info(function(){if(l.g)if(O)for(var K="",Ze=O.split("&"),Ht=0;Ht<Ze.length;Ht++){var Ue=Ze[Ht].split("=");if(1<Ue.length){var Yt=Ue[0];Ue=Ue[1];var Jt=Yt.split("_");K=2<=Jt.length&&Jt[1]=="type"?K+(Yt+"="+Ue+"&"):K+(Yt+"=redacted&")}}else K=null;else K=O;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+h+`
`+p+`
`+K})}function NV(l,h,p,g,A,O,K){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+h+`
`+p+`
`+O+" "+K})}function aa(l,h,p,g){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+kV(l,p)+(g?" "+g:"")})}function PV(l,h){l.info(function(){return"TIMEOUT: "+h})}ll.prototype.info=function(){};function kV(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var O=A[0];if(O!="noop"&&O!="stop"&&O!="close")for(var K=1;K<A.length;K++)A[K]=""}}}}return Wg(p)}catch{return h}}var Md={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jg;function Rd(){}v(Rd,Kg),Rd.prototype.g=function(){return new XMLHttpRequest},Rd.prototype.i=function(){return{}},Jg=new Rd;function Qr(l,h,p,g){this.j=l,this.i=h,this.l=p,this.R=g||1,this.U=new sl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new UD}function UD(){this.i=null,this.g="",this.h=!1}var $D={},Zg={};function Xg(l,h,p){l.L=1,l.v=Pd(ur(h)),l.m=p,l.P=!0,HD(l,null)}function HD(l,h){l.F=Date.now(),Od(l),l.A=ur(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),iS(p.i,"t",g),l.C=0,p=l.j.J,l.h=new UD,l.g=bS(l.j,p?h:null,!l.m),0<l.O&&(l.M=new MV(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,g=l.ca;var A="readystatechange";Array.isArray(A)||(A&&(xD[0]=A.toString()),A=xD);for(var O=0;O<A.length;O++){var K=DD(p,A[O],g||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),al(),xV(l.i,l.u,l.A,l.l,l.R,l.m)}Qr.prototype.ca=function(l){l=l.target;let h=this.M;h&&dr(l)==3?h.j():this.Y(l)},Qr.prototype.Y=function(l){try{if(l==this.g)e:{let Jt=dr(this.g);var h=this.g.Ba();let ua=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||uS(this.g)))){this.J||Jt!=4||h==7||(h==8||0>=ua?al(3):al(2)),e_(this);var p=this.g.Z();this.X=p;t:if(GD(this)){var g=uS(this.g);l="";var A=g.length,O=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),ul(this);var K="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,l+=this.h.i.decode(g[h],{stream:!(O&&h==A-1)});g.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=p==200,NV(this.i,this.u,this.A,this.l,this.R,Jt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Ht=this.g;if((Ze=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ze)){var Ue=Ze;break t}}Ue=null}if(p=Ue)aa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,t_(this,p);else{this.o=!1,this.s=3,dn(12),Ys(this),ul(this);break e}}if(this.P){p=!0;let ci;for(;!this.J&&this.C<K.length;)if(ci=FV(this,K),ci==Zg){Jt==4&&(this.s=4,dn(14),p=!1),aa(this.i,this.l,null,"[Incomplete Response]");break}else if(ci==$D){this.s=4,dn(15),aa(this.i,this.l,K,"[Invalid Chunk]"),p=!1;break}else aa(this.i,this.l,ci,null),t_(this,ci);if(GD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||K.length!=0||this.h.h||(this.s=1,dn(16),p=!1),this.o=this.o&&p,!p)aa(this.i,this.l,K,"[Invalid Chunked Response]"),Ys(this),ul(this);else if(0<K.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),a_(Yt),Yt.M=!0,dn(11))}}else aa(this.i,this.l,K,null),t_(this,K);Jt==4&&Ys(this),this.o&&!this.J&&(Jt==4?_S(this.j,this):(this.o=!1,Od(this)))}else XV(this.g),p==400&&0<K.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),Ys(this),ul(this)}}}catch{}finally{}};function GD(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function FV(l,h){var p=l.C,g=h.indexOf(`
`,p);return g==-1?Zg:(p=Number(h.substring(p,g)),isNaN(p)?$D:(g+=1,g+p>h.length?Zg:(h=h.slice(g,g+p),l.C=g+p,h)))}Qr.prototype.cancel=function(){this.J=!0,Ys(this)};function Od(l){l.S=Date.now()+l.I,zD(l,l.I)}function zD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=cl(m(l.ba,l),h)}function e_(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Qr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(PV(this.i,this.A),this.L!=2&&(al(),dn(17)),Ys(this),this.s=2,ul(this)):zD(this,this.S-l)};function ul(l){l.j.G==0||l.J||_S(l.j,l)}function Ys(l){e_(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,ND(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function t_(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||n_(p.h,l))){if(!l.K&&n_(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Bd(p),Ld(p);else break e;o_(p),dn(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=cl(m(p.Za,p),6e3));if(1>=KD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Zs(p,11)}else if((l.K||p.g==l)&&Bd(p),!H(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Ue=A[h];if(p.T=Ue[0],Ue=Ue[1],p.G==2)if(Ue[0]=="c"){p.K=Ue[1],p.ia=Ue[2];let Yt=Ue[3];Yt!=null&&(p.la=Yt,p.j.info("VER="+p.la));let Jt=Ue[4];Jt!=null&&(p.Aa=Jt,p.j.info("SVER="+p.Aa));let ua=Ue[5];ua!=null&&typeof ua=="number"&&0<ua&&(g=1.5*ua,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let ci=l.g;if(ci){let Ud=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ud){var O=g.h;O.g||Ud.indexOf("spdy")==-1&&Ud.indexOf("quic")==-1&&Ud.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(i_(O,O.h),O.h=null))}if(g.D){let c_=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;c_&&(g.ya=c_,rt(g.I,g.D,c_))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var K=l;if(g.qa=wS(g,g.J?g.ia:null,g.W),K.K){QD(g.h,K);var Ze=K,Ht=g.L;Ht&&(Ze.I=Ht),Ze.B&&(e_(Ze),Od(Ze)),g.g=K}else mS(g);0<p.i.length&&Vd(p)}else Ue[0]!="stop"&&Ue[0]!="close"||Zs(p,7);else p.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Zs(p,7):s_(p):Ue[0]!="noop"&&p.l&&p.l.ta(Ue),p.v=0)}}al(4)}catch{}}var LV=class{constructor(l,h){this.g=l,this.map=h}};function qD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function KD(l){return l.h?1:l.g?l.g.size:0}function n_(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function i_(l,h){l.g?l.g.add(h):l.h=h}function QD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}qD.prototype.cancel=function(){if(this.i=YD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function YD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return E(l.i)}function VV(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,g=0;g<p;g++)h.push(l[g]);return h}h=[],p=0;for(g in l)h[p++]=l[g];return h}function BV(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let g in l)h[p++]=g;return h}}}function JD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=BV(l),g=VV(l),A=g.length,O=0;O<A;O++)h.call(void 0,g[O],p&&p[O],l)}var ZD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jV(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),A=null;if(0<=g){var O=l[p].substring(0,g);A=l[p].substring(g+1)}else O=l[p];h(O,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Js(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Js){this.h=l.h,xd(this,l.j),this.o=l.o,this.g=l.g,Nd(this,l.s),this.l=l.l;var h=l.i,p=new fl;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),XD(this,p),this.m=l.m}else l&&(h=String(l).match(ZD))?(this.h=!1,xd(this,h[1]||"",!0),this.o=dl(h[2]||""),this.g=dl(h[3]||"",!0),Nd(this,h[4]),this.l=dl(h[5]||"",!0),XD(this,h[6]||"",!0),this.m=dl(h[7]||"")):(this.h=!1,this.i=new fl(null,this.h))}Js.prototype.toString=function(){var l=[],h=this.j;h&&l.push(hl(h,eS,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(hl(h,eS,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(hl(p,p.charAt(0)=="/"?HV:$V,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",hl(p,zV)),l.join("")};function ur(l){return new Js(l)}function xd(l,h,p){l.j=p?dl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Nd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function XD(l,h,p){h instanceof fl?(l.i=h,qV(l.i,l.h)):(p||(h=hl(h,GV)),l.i=new fl(h,l.h))}function rt(l,h,p){l.i.set(h,p)}function Pd(l){return rt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function dl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function hl(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,UV),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function UV(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var eS=/[#\/\?@]/g,$V=/[#\?:]/g,HV=/[#\?]/g,GV=/[#\?@]/g,zV=/#/g;function fl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Yr(l){l.g||(l.g=new Map,l.h=0,l.i&&jV(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=fl.prototype,t.add=function(l,h){Yr(this),this.i=null,l=ca(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function tS(l,h){Yr(l),h=ca(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function nS(l,h){return Yr(l),h=ca(l,h),l.g.has(h)}t.forEach=function(l,h){Yr(this),this.g.forEach(function(p,g){p.forEach(function(A){l.call(h,A,g,this)},this)},this)},t.na=function(){Yr(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){let A=l[g];for(let O=0;O<A.length;O++)p.push(h[g])}return p},t.V=function(l){Yr(this);let h=[];if(typeof l=="string")nS(this,l)&&(h=h.concat(this.g.get(ca(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return Yr(this),this.i=null,l=ca(this,l),nS(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function iS(l,h,p){tS(l,h),0<p.length&&(l.i=null,l.g.set(ca(l,h),E(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];let O=encodeURIComponent(String(g)),K=this.V(g);for(g=0;g<K.length;g++){var A=O;K[g]!==""&&(A+="="+encodeURIComponent(String(K[g]))),l.push(A)}}return this.i=l.join("&")};function ca(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function qV(l,h){h&&!l.j&&(Yr(l),l.i=null,l.g.forEach(function(p,g){var A=g.toLowerCase();g!=A&&(tS(this,g),iS(this,A,p))},l)),l.j=h}function WV(l,h){let p=new ll;if(a.Image){let g=new Image;g.onload=_(Jr,p,"TestLoadImage: loaded",!0,h,g),g.onerror=_(Jr,p,"TestLoadImage: error",!1,h,g),g.onabort=_(Jr,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=_(Jr,p,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else h(!1)}function KV(l,h){let p=new ll,g=new AbortController,A=setTimeout(()=>{g.abort(),Jr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:g.signal}).then(O=>{clearTimeout(A),O.ok?Jr(p,"TestPingServer: ok",!0,h):Jr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),Jr(p,"TestPingServer: error",!1,h)})}function Jr(l,h,p,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(p)}catch{}}function QV(){this.g=new OV}function YV(l,h,p){let g=p||"";try{JD(l,function(A,O){let K=A;u(A)&&(K=Wg(A)),h.push(g+O+"="+encodeURIComponent(K))})}catch(A){throw h.push(g+"type="+encodeURIComponent("_badmap")),A}}function pl(l){this.l=l.Ub||null,this.j=l.eb||!1}v(pl,Kg),pl.prototype.g=function(){return new kd(this.l,this.j)},pl.prototype.i=function(l){return function(){return l}}({});function kd(l,h){Qt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(kd,Qt),t=kd.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,gl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ml(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rS(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function rS(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ml(this):gl(this),this.readyState==3&&rS(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ml(this))},t.Qa=function(l){this.g&&(this.response=l,ml(this))},t.ga=function(){this.g&&ml(this)};function ml(l){l.readyState=4,l.l=null,l.j=null,l.v=null,gl(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function gl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function sS(l){let h="";return q(l,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function r_(l,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=sS(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):rt(l,h,p))}function vt(l){Qt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(vt,Qt);var JV=/^https?$/i,ZV=["POST","PUT"];t=vt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jg.g(),this.v=this.o?PD(this.o):PD(Jg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(O){oS(this,O);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)p.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let O of g.keys())p.set(O,g.get(O));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),A=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZV,h,void 0))||g||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,K]of p)this.g.setRequestHeader(O,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lS(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){oS(this,O)}};function oS(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,aS(l),Fd(l)}function aS(l){l.A||(l.A=!0,un(l,"complete"),un(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,un(this,"complete"),un(this,"abort"),Fd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fd(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cS(this):this.bb())},t.bb=function(){cS(this)};function cS(l){if(l.h&&typeof o<"u"&&(!l.v[1]||dr(l)!=4||l.Z()!=2)){if(l.u&&dr(l)==4)RD(l.Ea,0,l);else if(un(l,"readystatechange"),dr(l)==4){l.h=!1;try{let K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=K===0){var A=String(l.D).match(ZD)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!JV.test(A?A.toLowerCase():"")}p=g}if(p)un(l,"complete"),un(l,"success");else{l.m=6;try{var O=2<dr(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",aS(l)}}finally{Fd(l)}}}}function Fd(l,h){if(l.g){lS(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||un(l,"ready");try{p.onreadystatechange=g}catch{}}}function lS(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function dr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),RV(h)}};function uS(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function XV(l){let h={};l=(l.g&&2<=dr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(H(l[g]))continue;var p=C(l[g]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let O=h[A]||[];h[A]=O,O.push(p)}T(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _l(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function dS(l){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_l("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_l("baseRetryDelayMs",5e3,l),this.cb=_l("retryDelaySeedMs",1e4,l),this.Wa=_l("forwardChannelMaxRetries",2,l),this.wa=_l("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new qD(l&&l.concurrentRequestLimit),this.Da=new QV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dS.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,g){dn(0),this.W=l,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=wS(this,null,this.W),Vd(this)};function s_(l){if(hS(l),l.G==3){var h=l.U++,p=ur(l.I);if(rt(p,"SID",l.K),rt(p,"RID",h),rt(p,"TYPE","terminate"),yl(l,p),h=new Qr(l,l.j,h),h.L=2,h.v=Pd(ur(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=bS(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Od(h)}vS(l)}function Ld(l){l.g&&(a_(l),l.g.cancel(),l.g=null)}function hS(l){Ld(l),l.u&&(a.clearTimeout(l.u),l.u=null),Bd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Vd(l){if(!WD(l.h)&&!l.s){l.s=!0;var h=l.Ga;se||St(),ce||(se(),ce=!0),Oe.add(h,l),l.B=0}}function e2(l,h){return KD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=cl(m(l.Ga,l,h),yS(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let A=new Qr(this,this.j,l),O=this.o;if(this.S&&(O?(O=y(O),D(O,this.S)):O=this.S),this.m!==null||this.O||(A.H=O,O=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=pS(this,A,h),p=ur(this.I),rt(p,"RID",l),rt(p,"CVER",22),this.D&&rt(p,"X-HTTP-Session-Id",this.D),yl(this,p),O&&(this.O?h="headers="+encodeURIComponent(String(sS(O)))+"&"+h:this.m&&r_(p,this.m,O)),i_(this.h,A),this.Ua&&rt(p,"TYPE","init"),this.P?(rt(p,"$req",h),rt(p,"SID","null"),A.T=!0,Xg(A,p,null)):Xg(A,p,h),this.G=2}}else this.G==3&&(l?fS(this,l):this.i.length==0||WD(this.h)||fS(this))};function fS(l,h){var p;h?p=h.l:p=l.U++;let g=ur(l.I);rt(g,"SID",l.K),rt(g,"RID",p),rt(g,"AID",l.T),yl(l,g),l.m&&l.o&&r_(g,l.m,l.o),p=new Qr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=pS(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),i_(l.h,p),Xg(p,g,h)}function yl(l,h){l.H&&q(l.H,function(p,g){rt(h,g,p)}),l.l&&JD({},function(p,g){rt(h,g,p)})}function pS(l,h,p){p=Math.min(l.i.length,p);var g=l.l?m(l.l.Na,l.l,l):null;e:{var A=l.i;let O=-1;for(;;){let K=["count="+p];O==-1?0<p?(O=A[0].g,K.push("ofs="+O)):O=0:K.push("ofs="+O);let Ze=!0;for(let Ht=0;Ht<p;Ht++){let Ue=A[Ht].g,Yt=A[Ht].map;if(Ue-=O,0>Ue)O=Math.max(0,A[Ht].g-100),Ze=!1;else try{YV(Yt,K,"req"+Ue+"_")}catch{g&&g(Yt)}}if(Ze){g=K.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,g}function mS(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;se||St(),ce||(se(),ce=!0),Oe.add(h,l),l.v=0}}function o_(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=cl(m(l.Fa,l),yS(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,gS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=cl(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),Ld(this),gS(this))};function a_(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function gS(l){l.g=new Qr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=ur(l.qa);rt(h,"RID","rpc"),rt(h,"SID",l.K),rt(h,"AID",l.T),rt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&rt(h,"TO",l.ja),rt(h,"TYPE","xmlhttp"),yl(l,h),l.m&&l.o&&r_(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Pd(ur(h)),p.m=null,p.P=!0,HD(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Ld(this),o_(this),dn(19))};function Bd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function _S(l,h){var p=null;if(l.g==h){Bd(l),a_(l),l.g=null;var g=2}else if(n_(l.h,h))p=h.D,QD(l.h,h),g=1;else return;if(l.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=l.B;g=Ad(),un(g,new BD(g,p)),Vd(l)}else mS(l);else if(A=h.s,A==3||A==0&&0<h.X||!(g==1&&e2(l,h)||g==2&&o_(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),A){case 1:Zs(l,5);break;case 4:Zs(l,10);break;case 3:Zs(l,6);break;default:Zs(l,2)}}}function yS(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Zs(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),g=l.Xa;let A=!g;g=new Js(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xd(g,"https"),Pd(g),A?WV(g.toString(),p):KV(g.toString(),p)}else dn(2);l.G=0,l.l&&l.l.sa(h),vS(l),hS(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function vS(l){if(l.G=0,l.ka=[],l.l){let h=YD(l.h);(h.length!=0||l.i.length!=0)&&(S(l.ka,h),S(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function wS(l,h,p){var g=p instanceof Js?ur(p):new Js(p);if(g.g!="")h&&(g.g=h+"."+g.g),Nd(g,g.s);else{var A=a.location;g=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var O=new Js(null);g&&xd(O,g),h&&(O.g=h),A&&Nd(O,A),p&&(O.l=p),g=O}return p=l.D,h=l.ya,p&&h&&rt(g,p,h),rt(g,"VER",l.la),yl(l,g),g}function bS(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new vt(new pl({eb:p})):new vt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ES(){}t=ES.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jd(){}jd.prototype.g=function(l,h){return new xn(l,h)};function xn(l,h){Qt.call(this),this.g=new dS(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!H(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new la(this)}v(xn,Qt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){s_(this.g)},xn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Wg(l),l=p);h.i.push(new LV(h.Ya++,l)),h.G==3&&Vd(h)},xn.prototype.N=function(){this.g.l=null,delete this.j,s_(this.g),delete this.g,xn.aa.N.call(this)};function IS(l){Qg.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}v(IS,Qg);function TS(){Yg.call(this),this.status=1}v(TS,Yg);function la(l){this.g=l}v(la,ES),la.prototype.ua=function(){un(this.g,"a")},la.prototype.ta=function(l){un(this.g,new IS(l))},la.prototype.sa=function(l){un(this.g,new TS)},la.prototype.ra=function(){un(this.g,"b")},jd.prototype.createWebChannel=jd.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Hb=Fr.createWebChannelTransport=function(){return new jd},$b=Fr.getStatEventTarget=function(){return Ad()},Ub=Fr.Event=Qs,qp=Fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Md.NO_ERROR=0,Md.TIMEOUT=8,Md.HTTP_ERROR=6,$u=Fr.ErrorCode=Md,jD.COMPLETE="complete",jb=Fr.EventType=jD,kD.EventType=ol,ol.OPEN="a",ol.CLOSE="b",ol.ERROR="c",ol.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,yc=Fr.WebChannel=kD,Bb=Fr.FetchXmlHttpFactory=pl,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,Vb=Fr.XhrIo=vt}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});var Xx="@firebase/firestore";var $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");var Bc="10.12.3";var Uo=new Cs("@firebase/firestore");function Hu(){return Uo.logLevel}function ne(t,...e){if(Uo.logLevel<=Fe.DEBUG){let n=e.map(RI);Uo.debug(`Firestore (${Bc}): ${t}`,...n)}}function Lr(t,...e){if(Uo.logLevel<=Fe.ERROR){let n=e.map(RI);Uo.error(`Firestore (${Bc}): ${t}`,...n)}}function Dc(t,...e){if(Uo.logLevel<=Fe.WARN){let n=e.map(RI);Uo.warn(`Firestore (${Bc}): ${t}`,...n)}}function RI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ge(t="Unexpected state"){let e=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function tt(t,e){t||ge()}function Ee(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}},Yb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Jb=class{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yi,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>I(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yi)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string"),new Jp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new $t(e)}},Zb=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Xb=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Zb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new eE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function p8(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Zp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=p8(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function ze(t,e){return t<e?-1:t>e?1:0}function Sc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Kt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Kt(0,0))}static max(){return new t(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xp=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ge(),i===void 0?i=e.length-n:i>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},gt=class t extends Xp{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},m8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Un=class t extends Xp{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return m8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var he=class t{constructor(e){this.path=e}static fromPath(e){return new t(gt.fromString(e))}static fromName(e){return new t(gt.fromString(e).popFirst(5))}static empty(){return new t(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new gt(e.slice()))}};var nE=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};nE.UNKNOWN_ID=-1;function g8(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(i===1e9?new Kt(n+1,0):new Kt(n,i));return new $o(r,he.empty(),e)}function _8(t){return new $o(t.readTime,t.key,-1)}var $o=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(Ie.min(),he.empty(),-1)}static max(){return new t(Ie.max(),he.empty(),-1)}};function y8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}var v8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",iE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function od(t){return I(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==v8)throw t;ne("LocalStore","Unexpectedly lost primary lease")})}var z=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function w8(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ad(t){return t.name==="IndexedDbTransactionError"}var ON=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function xm(t){return t==null}function Qu(t){return t===0&&1/t==-1/0}function b8(t){return typeof t=="number"&&Number.isInteger(t)&&!Qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var E8=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tue=[...E8,"documentOverlays"],I8=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],T8=I8,Due=[...T8,"indexConfiguration","indexState","indexEntries"];function eN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Dt=class t{constructor(e,n){this.comparator=e,this.root=n||Ji.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}},Ec=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ji=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();let e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1;Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Ji(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ln=class t{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new em(this.data.getIterator())}getIteratorFrom(e){return new em(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},em=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var si=class t{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new t([])}unionWith(e){let n=new ln(Un.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sc(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var tm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bn.EMPTY_BYTE_STRING=new bn("");var D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(t){if(tt(!!t),typeof t=="string"){let e=0,n=D8.exec(t);if(tt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}function OI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xI(t){let e=t.mapValue.fields.__previous_value__;return OI(e)?xI(e):e}function Yu(t){let e=Vr(t.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}var rE=class{constructor(e,n,i,r,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},nm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OI(t)?4:NN(t)?9007199254740991:10:ge()}function tr(t,e){if(t===e)return!0;let n=Ho(t);if(n!==Ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yu(t).isEqual(Yu(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Vr(r.timestampValue),a=Vr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Vs(r.bytesValue).isEqual(Vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Tt(r.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(r.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Tt(r.integerValue)===Tt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Tt(r.doubleValue),a=Tt(s.doubleValue);return o===a?Qu(o)===Qu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Sc(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(eN(o)!==eN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!tr(o[c],a[c])))return!1;return!0}(t,e);default:return ge()}}function Ju(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function Cc(t,e){if(t===e)return 0;let n=Ho(t),i=Ho(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Tt(s.integerValue||s.doubleValue),c=Tt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return tN(t.timestampValue,e.timestampValue);case 4:return tN(Yu(t),Yu(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Vs(s),c=Vs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=ze(a[u],c[u]);if(d!==0)return d}return ze(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ze(Tt(s.latitude),Tt(o.latitude));return a!==0?a:ze(Tt(s.longitude),Tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let d=Cc(a[u],c[u]);if(d)return d}return ze(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Wp.mapValue&&o===Wp.mapValue)return 0;if(s===Wp.mapValue)return 1;if(o===Wp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=ze(c[f],d[f]);if(m!==0)return m;let _=Cc(a[c[f]],u[d[f]]);if(_!==0)return _}return ze(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ge()}}function tN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);let n=Vr(t),i=Vr(e),r=ze(n.seconds,i.seconds);return r!==0?r:ze(n.nanos,i.nanos)}function Ac(t){return sE(t)}function sE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Vr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=sE(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${sE(n.fields[o])}`;return r+"}"}(t.mapValue):ge()}function nN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function oE(t){return!!t&&"integerValue"in t}function NI(t){return!!t&&"arrayValue"in t}function iN(t){return!!t&&"nullValue"in t}function rN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qp(t){return!!t&&"mapValue"in t}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=zu(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var jn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Qp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Un.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=zu(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Qp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Wo(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(zu(this.value))}};function PN(t){let e=[];return Wo(t.fields,(n,i)=>{let r=new Un([n]);if(Qp(i)){let s=PN(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new si(e)}var vi=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Ie.min(),Ie.min(),Ie.min(),jn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,Ie.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,Ie.min(),Ie.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ie.min(),Ie.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Mc=class{constructor(e,n){this.position=e,this.inclusive=n}};function sN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=he.comparator(he.fromName(o.referenceValue),n.key):i=Cc(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function oN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}var Go=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function S8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var im=class{},kt=class t extends im{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new cE(e,n,i):n==="array-contains"?new dE(e,i):n==="in"?new hE(e,i):n==="not-in"?new fE(e,i):n==="array-contains-any"?new pE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new lE(e,i):new uE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Cc(n,this.value)):n!==null&&Ho(this.value)===Ho(n)&&this.matchesComparison(Cc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wi=class t extends im{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return kN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function kN(t){return t.op==="and"}function FN(t){return C8(t)&&kN(t)}function C8(t){for(let e of t.filters)if(e instanceof wi)return!1;return!0}function aE(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+Ac(t.value);if(FN(t))return t.filters.map(e=>aE(e)).join(",");{let e=t.filters.map(n=>aE(n)).join(",");return`${t.op}(${e})`}}function LN(t,e){return t instanceof kt?function(i,r){return r instanceof kt&&i.op===r.op&&i.field.isEqual(r.field)&&tr(i.value,r.value)}(t,e):t instanceof wi?function(i,r){return r instanceof wi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&LN(o,r.filters[a]),!0):!1}(t,e):void ge()}function VN(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`}(t):t instanceof wi?function(n){return n.op.toString()+" {"+n.getFilters().map(VN).join(" ,")+"}"}(t):"Filter"}var cE=class extends kt{constructor(e,n,i){super(e,n,i),this.key=he.fromName(i.referenceValue)}matches(e){let n=he.comparator(e.key,this.key);return this.matchesComparison(n)}},lE=class extends kt{constructor(e,n){super(e,"in",n),this.keys=BN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},uE=class extends kt{constructor(e,n){super(e,"not-in",n),this.keys=BN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function BN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>he.fromName(i.referenceValue))}var dE=class extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return NI(n)&&Ju(n.arrayValue,this.value)}},hE=class extends kt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}},fE=class extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ju(this.value.arrayValue,n)}},pE=class extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!NI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ju(this.value.arrayValue,i))}};var mE=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function aN(t,e=null,n=[],i=[],r=null,s=null,o=null){return new mE(t,e,n,i,r,s,o)}function PI(t){let e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>aE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),xm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ac(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ac(i)).join(",")),e.ue=n}return e.ue}function kI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oN(t.startAt,e.startAt)&&oN(t.endAt,e.endAt)}function gE(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Bs=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function A8(t,e,n,i,r,s,o,a){return new Bs(t,e,n,i,r,s,o,a)}function FI(t){return new Bs(t)}function cN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jN(t){return t.collectionGroup!==null}function qu(t){let e=Ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ln(Un.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Go(s,i))}),n.has(Un.keyField().canonicalString())||e.ce.push(new Go(Un.keyField(),i))}return e.ce}function Zi(t){let e=Ee(t);return e.le||(e.le=M8(e,qu(t))),e.le}function M8(t,e){if(t.limitType==="F")return aN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Go(r.field,s)});let n=t.endAt?new Mc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Mc(t.startAt.position,t.startAt.inclusive):null;return aN(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _E(t,e){let n=t.filters.concat([e]);return new Bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yE(t,e,n){return new Bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nm(t,e){return kI(Zi(t),Zi(e))&&t.limitType===e.limitType}function UN(t){return`${PI(Zi(t))}|lt:${t.limitType}`}function vc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>VN(r)).join(", ")}]`),xm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ac(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ac(r)).join(",")),`Target(${i})`}(Zi(t))}; limitType=${t.limitType})`}function Pm(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):he.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of qu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=sN(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,qu(i),r)||i.endAt&&!function(o,a,c){let u=sN(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,qu(i),r))}(t,e)}function R8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $N(t){return(e,n)=>{let i=!1;for(let r of qu(t)){let s=O8(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function O8(t,e,n){let i=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Cc(c,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}var js=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return xN(this.inner)}size(){return this.innerSize}};var x8=new Dt(he.comparator);function Br(){return x8}var HN=new Dt(he.comparator);function Gu(...t){let e=HN;for(let n of t)e=e.insert(n.key,n);return e}function GN(t){let e=HN;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Vo(){return Wu()}function zN(){return Wu()}function Wu(){return new js(t=>t.toString(),(t,e)=>t.isEqual(e))}var N8=new Dt(he.comparator),P8=new ln(he.comparator);function Le(...t){let e=P8;for(let n of t)e=e.add(n);return e}var k8=new ln(ze);function F8(){return k8}function qN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function WN(t){return{integerValue:""+t}}function L8(t,e){return b8(e)?WN(e):qN(t,e)}var Rc=class{constructor(){this._=void 0}};function V8(t,e,n){return t instanceof Oc?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&OI(s)&&(s=xI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Us?QN(t,e):t instanceof zo?YN(t,e):function(r,s){let o=KN(r,s),a=lN(o)+lN(r.Pe);return oE(o)&&oE(r.Pe)?WN(a):qN(r.serializer,a)}(t,e)}function B8(t,e,n){return t instanceof Us?QN(t,e):t instanceof zo?YN(t,e):n}function KN(t,e){return t instanceof xc?function(i){return oE(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Oc=class extends Rc{},Us=class extends Rc{constructor(e){super(),this.elements=e}};function QN(t,e){let n=JN(e);for(let i of t.elements)n.some(r=>tr(r,i))||n.push(i);return{arrayValue:{values:n}}}var zo=class extends Rc{constructor(e){super(),this.elements=e}};function YN(t,e){let n=JN(e);for(let i of t.elements)n=n.filter(r=>!tr(r,i));return{arrayValue:{values:n}}}var xc=class extends Rc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function lN(t){return Tt(t.integerValue||t.doubleValue)}function JN(t){return NI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var vE=class{constructor(e,n){this.field=e,this.transform=n}};function j8(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Us&&r instanceof Us||i instanceof zo&&r instanceof zo?Sc(i.elements,r.elements,tr):i instanceof xc&&r instanceof xc?tr(i.Pe,r.Pe):i instanceof Oc&&r instanceof Oc}(t.transform,e.transform)}var wE=class{constructor(e,n){this.version=e,this.transformResults=n}},yi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Nc=class{};function ZN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pc(t.key,yi.none()):new qo(t.key,t.data,yi.none());{let n=t.data,i=jn.empty(),r=new ln(Un.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new nr(t.key,i,new si(r.toArray()),yi.none())}}function U8(t,e,n){t instanceof qo?function(r,s,o){let a=r.value.clone(),c=dN(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof nr?function(r,s,o){if(!Yp(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=dN(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(XN(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n,i){return t instanceof qo?function(s,o,a,c){if(!Yp(s.precondition,o))return a;let u=s.value.clone(),d=hN(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof nr?function(s,o,a,c){if(!Yp(s.precondition,o))return a;let u=hN(s.fieldTransforms,c,o),d=o.data;return d.setAll(XN(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return Yp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $8(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=KN(i.transform,r||null);s!=null&&(n===null&&(n=jn.empty()),n.set(i.field,s))}return n||null}function uN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Sc(i,r,(s,o)=>j8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var qo=class extends Nc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},nr=class extends Nc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function XN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function dN(t,e,n){let i=new Map;tt(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,B8(o,a,n[r]))}return i}function hN(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,V8(s,o,e))}return i}var Pc=class extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bE=class extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var EE=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&U8(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ku(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ku(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=zN();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=ZN(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Sc(this.mutations,e.mutations,(n,i)=>uN(n,i))&&Sc(this.baseMutations,e.baseMutations,(n,i)=>uN(n,i))}},IE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){tt(e.mutations.length===i.length);let r=function(){return N8}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var TE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var DE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Nt,je;function H8(t){switch(t){default:return ge();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function eP(t){if(t===void 0)return Lr("GRPC error has no .code"),L.UNKNOWN;switch(t){case Nt.OK:return L.OK;case Nt.CANCELLED:return L.CANCELLED;case Nt.UNKNOWN:return L.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return L.INTERNAL;case Nt.UNAVAILABLE:return L.UNAVAILABLE;case Nt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Nt.NOT_FOUND:return L.NOT_FOUND;case Nt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Nt.ABORTED:return L.ABORTED;case Nt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Nt.DATA_LOSS:return L.DATA_LOSS;default:return ge()}}(je=Nt||(Nt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var fN=null;function G8(){return new TextEncoder}var z8=new Fs([4294967295,4294967295],0);function pN(t){let e=G8().encode(t),n=new Lb;return n.update(e),new Uint8Array(n.digest())}function mN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fs([n,i],0),new Fs([r,s],0)]}var SE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Bo(`Invalid padding: ${n}`);if(i<0)throw new Bo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fs.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Fs.fromNumber(i)));return r.compare(z8)===1&&(r=new Fs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=pN(e),[i,r]=mN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=pN(e),[i,r]=mN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Bo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rm=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(Ie.min(),r,new Dt(ze),Br(),Le())}},Zu=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Le(),Le(),Le())}};var Ic=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},sm=class{constructor(e,n){this.targetId=e,this.me=n}},om=class{constructor(e,n,i=bn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},am=class{constructor(){this.fe=0,this.ge=_N(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Le(),n=Le(),i=Le();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ge()}}),new Zu(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=_N()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},CE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=gN(),this.Qe=new Dt(ze)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(gE(s))if(i===0){let o=new he(s.path);this.Ue(n,o,vi.newNoDocument(o,Ie.min()))}else tt(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}fN?.et(function(d,f,m,_,v){var E,S,k,H,J,$;let ae={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},q=f.unchangedNames;return q&&(ae.bloomFilter={applied:v===0,hashCount:(E=q?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(H=(k=(S=q?.bits)===null||S===void 0?void 0:S.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:($=(J=q?.bits)===null||J===void 0?void 0:J.padding)!==null&&$!==void 0?$:0,mightContain:T=>{var y;return(y=_?.mightContain(T))!==null&&y!==void 0&&y}}),ae}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=Vs(i).toUint8Array()}catch(c){if(c instanceof tm)return Dc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new SE(o,r,s)}catch(c){return Dc(c instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&gE(a.target)){let c=new he(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,vi.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=Le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new rm(e,n,this.Qe,this.ke,i);return this.ke=Br(),this.qe=gN(),this.Qe=new Dt(ze),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new am,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(ze),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new am),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function gN(){return new Dt(he.comparator)}function _N(){return new Dt(he.comparator)}var q8={asc:"ASCENDING",desc:"DESCENDING"},W8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K8={and:"AND",or:"OR"},AE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ME(t,e){return t.useProto3Json||xm(e)?e:{value:e}}function cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q8(t,e){return cm(t,e.toTimestamp())}function Xi(t){return tt(!!t),Ie.fromTimestamp(function(n){let i=Vr(n);return new Kt(i.seconds,i.nanos)}(t))}function LI(t,e){return RE(t,e).canonicalString()}function RE(t,e){let n=function(r){return new gt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nP(t){let e=gt.fromString(t);return tt(aP(e)),e}function OE(t,e){return LI(t.databaseId,e.path)}function Gb(t,e){let n=nP(e);if(n.get(1)!==t.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(rP(n))}function iP(t,e){return LI(t.databaseId,e)}function Y8(t){let e=nP(t);return e.length===4?gt.emptyPath():rP(e)}function xE(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rP(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yN(t,e,n){return{name:OE(t,e),fields:n.value.mapValue.fields}}function J8(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(tt(d===void 0||typeof d=="string"),bn.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),bn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?L.UNKNOWN:eP(u.code);return new X(d,u.message||"")}(o);n=new om(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Gb(t,i.document.name),s=Xi(i.document.updateTime),o=i.document.createTime?Xi(i.document.createTime):Ie.min(),a=new jn({mapValue:{fields:i.document.fields}}),c=vi.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new Ic(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Gb(t,i.document),s=i.readTime?Xi(i.readTime):Ie.min(),o=vi.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Ic([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Gb(t,i.document),s=i.removedTargetIds||[];n=new Ic([],s,r,null)}else{if(!("filter"in e))return ge();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new DE(r,s),a=i.targetId;n=new sm(a,o)}}return n}function Z8(t,e){let n;if(e instanceof qo)n={update:yN(t,e.key,e.value)};else if(e instanceof Pc)n={delete:OE(t,e.key)};else if(e instanceof nr)n={update:yN(t,e.key,e.data),updateMask:a9(e.fieldMask)};else{if(!(e instanceof bE))return ge();n={verify:OE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Us)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Q8(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function X8(t,e){return t&&t.length>0?(tt(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Xi(r.updateTime):Xi(s);return o.isEqual(Ie.min())&&(o=Xi(s)),new wE(o,r.transformResults||[])}(n,e))):[]}function e9(t,e){return{documents:[iP(t,e.path)]}}function t9(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=iP(t,r);let s=function(u){if(u.length!==0)return oP(wi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:wc(m.field),direction:r9(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=ME(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function n9(t){let e=Y8(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){tt(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let m=sP(f);return m instanceof wi&&FN(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(v){return new Go(bc(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,xm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,_=f.values||[];return new Mc(_,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let m=!f.before,_=f.values||[];return new Mc(_,m)}(n.endAt)),A8(e,r,o,s,a,"F",c,u)}function i9(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=bc(n.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=bc(n.unaryFilter.field);return kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=bc(n.unaryFilter.field);return kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=bc(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(bc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wi.create(n.compositeFilter.filters.map(i=>sP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function r9(t){return q8[t]}function s9(t){return W8[t]}function o9(t){return K8[t]}function wc(t){return{fieldPath:t.canonicalString()}}function bc(t){return Un.fromServerFormat(t.fieldPath)}function oP(t){return t instanceof kt?function(n){if(n.op==="=="){if(rN(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NAN"}};if(iN(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rN(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NAN"}};if(iN(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(n.field),op:s9(n.op),value:n.value}}}(t):t instanceof wi?function(n){let i=n.getFilters().map(r=>oP(r));return i.length===1?i[0]:{compositeFilter:{op:o9(n.op),filters:i}}}(t):ge()}function a9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Xu=class t{constructor(e,n,i,r,s=Ie.min(),o=Ie.min(),a=bn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var NE=class{constructor(e){this.ct=e}};function c9(t){let e=n9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yE(e,e.limit,"L"):e}var lm=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Tt(e.integerValue));else if("doubleValue"in e){let i=Tt(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Qu(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=Vr(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Vs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?NN(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ge()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),he.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};lm.bt=new lm;var PE=class{constructor(){this._n=new kE}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve($o.min())}updateCollectionGroup(e,n,i){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}},kE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ln(gt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ln(gt.comparator)).toArray()}};var Cue=new Uint8Array(0);var Qi=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qi.DEFAULT_COLLECTION_PERCENTILE=10,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qi.DEFAULT=new Qi(41943040,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qi.DISABLED=new Qi(-1,0,0);var ed=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var FE=class{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var LE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var VE=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ku(i.mutation,r,si.empty(),Kt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Le()){let r=Vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Gu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=Vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Le()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Br(),o=Wu(),a=function(){return Wu()}();return n.forEach((c,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof nr)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ku(d.mutation,u,d.mutation.getFieldMask(),Kt.now())):o.set(u.key,si.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new LE(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Wu(),r=new Dt((o,a)=>o-a),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=i.get(c)||si.empty();d=a.applyToLocalView(u,d),i.set(c,d);let f=(r.get(a.batchId)||Le()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=zN();d.forEach(m=>{if(!s.has(m)){let _=ZN(n.get(m),i.get(m));_!==null&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):z.resolve(Vo()),a=-1,c=s;return o.next(u=>z.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Le())).next(d=>({batchId:a,changes:GN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(i=>{let r=Gu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Gu();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,c=>{let u=function(f,m){return new Bs(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,vi.newInvalidDocument(d)))});let a=Gu();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&Ku(d.mutation,u,si.empty(),Kt.now()),Pm(n,u)&&(a=a.insert(c,u))}),a})}};var BE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Xi(r.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:c9(r.bundledQuery),readTime:Xi(r.readTime)}}(n)),z.resolve()}};var jE=class{constructor(){this.overlays=new Dt(he.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Vo();return z.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),z.resolve()}getOverlaysForCollection(e,n,i){let r=Vo(),s=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return z.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Dt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=Vo(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Vo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return z.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new TE(n,i));let s=this.hr.get(n);s===void 0&&(s=Le(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var td=class{constructor(){this.Pr=new ln(Pt.Ir),this.Tr=new ln(Pt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Pt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Pt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new he(new gt([])),i=new Pt(n,e),r=new Pt(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new he(new gt([])),i=new Pt(n,e),r=new Pt(n,e+1),s=Le();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Pt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Pt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||ze(e.pr,n.pr)}static Er(e,n){return ze(e.pr,n.pr)||he.comparator(e.key,n.key)}};var UE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ln(Pt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new EE(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Pt(n,0),r=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ln(ze);return n.forEach(r=>{let s=new Pt(r,0),o=new Pt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),z.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;he.isDocumentKey(s)||(s=s.child(""));let o=new Pt(new he(s),0),a=new ln(ze);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){tt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return z.forEach(n.mutations,r=>{let s=new Pt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Pt(n,0),r=this.wr.firstAfterOrEqual(i);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var $E=class{constructor(e){this.vr=e,this.docs=function(){return new Dt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return z.resolve(i?i.document.mutableCopy():vi.newInvalidDocument(n))}getEntries(e,n){let i=Br();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():vi.newInvalidDocument(r))}),z.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Br(),o=n.path,a=new he(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||y8(_8(d),i)<=0||(r.has(d.key)||Pm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ge()}Fr(e,n){return z.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new HE(this)}getSize(e){return z.resolve(this.size)}},HE=class extends FE{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var GE=class{constructor(e){this.persistence=e,this.Mr=new js(n=>PI(n),kI),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Or=0,this.Nr=new td,this.targetCount=0,this.Lr=ed.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new ed(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),z.waitFor(s).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return z.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),z.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return z.resolve(i)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}};var zE=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new ON(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new GE(this),this.indexManager=new PE,this.remoteDocumentCache=function(r){return new $E(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new NE(n),this.$r=new BE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new UE(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){ne("MemoryPersistence","Starting transaction:",e);let r=new qE(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},qE=class extends iE{constructor(e){super(),this.currentSequenceNumber=e}},WE=class t{constructor(e){this.persistence=e,this.zr=new td,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),z.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,i=>{let r=he.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,Ie.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var KE=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Le(),r=Le();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var QE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var YE=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return RO()?8:w8(Vt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new QE;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Hu()<=Fe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",vc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Hu()<=Fe.DEBUG&&ne("QueryEngine","Query:",vc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Hu()<=Fe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",vc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):z.resolve())}ji(e,n){if(cN(n))return z.resolve(null);let i=Zi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=yE(n,null,"F"),i=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Le(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,yE(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,i,r){return cN(n)||r.isEqual(Ie.min())?z.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?z.resolve(null):(Hu()<=Fe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vc(n)),this.es(e,o,n,g8(r,-1)).next(a=>a))})}Zi(e,n){let i=new ln($N(e));return n.forEach((r,s)=>{Pm(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Hu()<=Fe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",vc(n)),this.zi.getDocumentsMatchingQuery(e,n,$o.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var JE=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Dt(ze),this.rs=new js(s=>PI(s),kI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function l9(t,e,n,i){return new JE(t,e,n,i)}function cP(t,e){return I(this,null,function*(){let n=Ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Le();for(let u of r){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function u9(t,e){let n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),_=z.resolve();return m.forEach(v=>{_=_.next(()=>d.getEntry(c,v)).next(E=>{let S=u.docVersions.get(v);tt(S!==null),E.version.compareTo(S)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function lP(t){let e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function d9(t,e){let n=Ee(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(bn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(f,_),function(E,S,k){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,_,d)&&a.push(n.Qr.updateTargetData(s,_))});let c=Br(),u=Le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(h9(s,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!i.isEqual(Ie.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=r,s))}function h9(t,e,n){let i=Le(),r=Le();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Br();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:r}})}function f9(t,e){let n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function p9(t,e){let n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,z.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new Xu(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function ZE(t,e,n){return I(this,null,function*(){let i=Ee(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ad(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function vN(t,e,n){let i=Ee(t),r=Ie.min(),s=Le();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let f=Ee(c),m=f.rs.get(d);return m!==void 0?z.resolve(f.ns.get(m)):f.Qr.getTargetData(u,d)}(i,o,Zi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:Ie.min(),n?s:Le())).next(a=>(m9(i,R8(e),a),{documents:a,hs:s})))}function m9(t,e,n){let i=t.ss.get(e)||Ie.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var um=class{constructor(){this.activeTargetIds=F8()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var XE=class{constructor(){this.no=new um,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new um,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var eI=class{io(e){}shutdown(){}};var dm=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kp=null;function zb(){return Kp===null?Kp=function(){return 268435456+Math.round(2147483648*Math.random())}():Kp++,"0x"+Kp.toString(16)}var g9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var tI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var cn="WebChannelConnection",nI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=zb(),c=this.vo(n,i.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,r).then(d=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Dc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=g9[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=zb();return new Promise((o,a)=>{let c=new Vb;c.setWithCredentials(!0),c.listenOnce(jb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $u.NO_ERROR:let d=c.getResponseJson();ne(cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case $u.TIMEOUT:ne(cn,`RPC '${e}' ${s} timed out`),a(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:let f=c.getStatus();if(ne(cn,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let v=function(S){let k=S.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(k)>=0?k:L.UNKNOWN}(_.status);a(new X(v,_.message))}else a(new X(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new X(L.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ne(cn,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);ne(cn,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}Oo(e,n,i){let r=zb(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hb(),a=$b(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Bb({})),this.Fo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=s.join("");ne(cn,`Creating RPC '${e}' stream ${r}: ${d}`,c);let f=o.createWebChannel(d,c),m=!1,_=!1,v=new tI({lo:S=>{_?ne(cn,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(m||(ne(cn,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),ne(cn,`RPC '${e}' stream ${r} sending:`,S),f.send(S))},ho:()=>f.close()}),E=(S,k,H)=>{S.listen(k,J=>{try{H(J)}catch($){setTimeout(()=>{throw $},0)}})};return E(f,yc.EventType.OPEN,()=>{_||(ne(cn,`RPC '${e}' stream ${r} transport opened.`),v.mo())}),E(f,yc.EventType.CLOSE,()=>{_||(_=!0,ne(cn,`RPC '${e}' stream ${r} transport closed`),v.po())}),E(f,yc.EventType.ERROR,S=>{_||(_=!0,Dc(cn,`RPC '${e}' stream ${r} transport errored:`,S),v.po(new X(L.UNAVAILABLE,"The operation could not be completed")))}),E(f,yc.EventType.MESSAGE,S=>{var k;if(!_){let H=S.data[0];tt(!!H);let J=H,$=J.error||((k=J[0])===null||k===void 0?void 0:k.error);if($){ne(cn,`RPC '${e}' stream ${r} received error:`,$);let ae=$.status,q=function(w){let D=Nt[w];if(D!==void 0)return eP(D)}(ae),T=$.message;q===void 0&&(q=L.INTERNAL,T="Unknown error status: "+ae+" with message "+$.message),_=!0,v.po(new X(q,T)),f.close()}else ne(cn,`RPC '${e}' stream ${r} received:`,H),v.yo(H)}}),E(a,Ub.STAT_EVENT,S=>{S.stat===qp.PROXY?ne(cn,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===qp.NOPROXY&&ne(cn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}};function qb(){return typeof document<"u"?document:null}function km(t){return new AE(t,!0)}var hm=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var fm=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new hm(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return I(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return I(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return I(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new X(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>I(this,null,function*(){this.state=0,this.start()}))}c_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},iI=class extends fm{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=J8(this.serializer,e),i=function(s){if(!("targetChange"in s))return Ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?Xi(o.readTime):Ie.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=xE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=gE(c)?{documents:e9(s,c)}:{query:t9(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=tP(s,o.resumeToken);let u=ME(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){a.readTime=cm(s,o.snapshotVersion.toTimestamp());let u=ME(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=i9(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=xE(this.serializer),n.removeTarget=e,this.i_(n)}},rI=class extends fm{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=X8(e.writeResults,e.commitTime),i=Xi(e.commitTime);return this.listener.A_(i,n)}return tt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=xE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Z8(this.serializer,i))};this.i_(n)}};var sI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,RE(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(L.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,RE(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(L.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},oI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Lr(n),this.y_=!1):ne("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var aI=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>I(this,null,function*(){Ko(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield function(c){return I(this,null,function*(){let u=Ee(c);u.M_.add(4),yield cd(u),u.N_.set("Unknown"),u.M_.delete(4),yield Fm(u)})}(this))}))}),this.N_=new oI(i,r)}};function Fm(t){return I(this,null,function*(){if(Ko(t))for(let e of t.x_)yield e(!0)})}function cd(t){return I(this,null,function*(){for(let e of t.x_)yield e(!1)})}function uP(t,e){let n=Ee(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),UI(n)?jI(n):jc(n).Xo()&&BI(n,e))}function VI(t,e){let n=Ee(t),i=jc(n);n.F_.delete(e),i.Xo()&&dP(n,e),n.F_.size===0&&(i.Xo()?i.n_():Ko(n)&&n.N_.set("Unknown"))}function BI(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).P_(e)}function dP(t,e){t.L_.xe(e),jc(t).I_(e)}function jI(t){t.L_=new CE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.N_.w_()}function UI(t){return Ko(t)&&!jc(t).Zo()&&t.F_.size>0}function Ko(t){return Ee(t).M_.size===0}function hP(t){t.L_=void 0}function _9(t){return I(this,null,function*(){t.N_.set("Online")})}function y9(t){return I(this,null,function*(){t.F_.forEach((e,n)=>{BI(t,e)})})}function v9(t,e){return I(this,null,function*(){hP(t),UI(t)?(t.N_.D_(e),jI(t)):t.N_.set("Unknown")})}function w9(t,e,n){return I(this,null,function*(){if(t.N_.set("Online"),e instanceof om&&e.state===2&&e.cause)try{yield function(r,s){return I(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield pm(t,i)}else if(e instanceof Ic?t.L_.Ke(e):e instanceof sm?t.L_.He(e):t.L_.We(e),!n.isEqual(Ie.min()))try{let i=yield lP(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(bn.EMPTY_BYTE_STRING,d.snapshotVersion)),dP(s,c);let f=new Xu(d.target,c,u,d.sequenceNumber);BI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){ne("RemoteStore","Failed to raise snapshot:",i),yield pm(t,i)}})}function pm(t,e,n){return I(this,null,function*(){if(!ad(e))throw e;t.M_.add(1),yield cd(t),t.N_.set("Offline"),n||(n=()=>lP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){ne("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Fm(t)}))})}function fP(t,e){return e().catch(n=>pm(t,n,e))}function Lm(t){return I(this,null,function*(){let e=Ee(t),n=$s(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;b9(e);)try{let r=yield f9(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,E9(e,r)}catch(r){yield pm(e,r)}pP(e)&&mP(e)})}function b9(t){return Ko(t)&&t.v_.length<10}function E9(t,e){t.v_.push(e);let n=$s(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function pP(t){return Ko(t)&&!$s(t).Zo()&&t.v_.length>0}function mP(t){$s(t).start()}function I9(t){return I(this,null,function*(){$s(t).V_()})}function T9(t){return I(this,null,function*(){let e=$s(t);for(let n of t.v_)e.d_(n.mutations)})}function D9(t,e,n){return I(this,null,function*(){let i=t.v_.shift(),r=IE.from(i,e,n);yield fP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Lm(t)})}function S9(t,e){return I(this,null,function*(){e&&$s(t).E_&&(yield function(i,r){return I(this,null,function*(){if(function(o){return H8(o)&&o!==L.ABORTED}(r.code)){let s=i.v_.shift();$s(i).t_(),yield fP(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Lm(i)}})}(t,e)),pP(t)&&mP(t)})}function wN(t,e){return I(this,null,function*(){let n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");let i=Ko(n);n.M_.add(3),yield cd(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Fm(n)})}function C9(t,e){return I(this,null,function*(){let n=Ee(t);e?(n.M_.delete(2),yield Fm(n)):e||(n.M_.add(2),yield cd(n),n.N_.set("Unknown"))})}function jc(t){return t.B_||(t.B_=function(n,i,r){let s=Ee(n);return s.f_(),new iI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:_9.bind(null,t),To:y9.bind(null,t),Ao:v9.bind(null,t),h_:w9.bind(null,t)}),t.x_.push(e=>I(this,null,function*(){e?(t.B_.t_(),UI(t)?jI(t):t.N_.set("Unknown")):(yield t.B_.stop(),hP(t))}))),t.B_}function $s(t){return t.k_||(t.k_=function(n,i,r){let s=Ee(n);return s.f_(),new rI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:I9.bind(null,t),Ao:S9.bind(null,t),R_:T9.bind(null,t),A_:D9.bind(null,t)}),t.x_.push(e=>I(this,null,function*(){e?(t.k_.t_(),yield Lm(t)):(yield t.k_.stop(),t.v_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var cI=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $I(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),ad(t))return new X(L.UNAVAILABLE,`${e}: ${t}`);throw t}var mm=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||he.comparator(n.key,i.key):(n,i)=>he.comparator(n.key,i.key),this.keyedMap=Gu(),this.sortedSet=new Dt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var gm=class{constructor(){this.q_=new Dt(he.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ge():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},kc=class t{constructor(e,n,i,r,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,mm.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var lI=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},uI=class{constructor(){this.queries=new js(e=>UN(e),Nm),this.onlineState="Unknown",this.z_=new Set}};function gP(t,e){return I(this,null,function*(){let n=Ee(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new lI,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=$I(o,`Initialization of query '${vc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&HI(n)})}function _P(t,e){return I(this,null,function*(){let n=Ee(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function A9(t,e){let n=Ee(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&HI(n)}function M9(t,e,n){let i=Ee(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function HI(t){t.z_.forEach(e=>{e.next()})}var dI,bN;(bN=dI||(dI={})).J_="default",bN.Cache="cache";var _m=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new kc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==dI.Cache}};var ym=class{constructor(e){this.key=e}},vm=class{constructor(e){this.key=e}},hI=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Le(),this.mutatedKeys=Le(),this.Ia=$N(e),this.Ta=new mm(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new gm,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),_=Pm(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),S=!1;m&&_?m.data.isEqual(_.data)?v!==E&&(i.track({type:3,doc:_}),S=!0):this.Ra(m,_)||(i.track({type:2,doc:_}),S=!0,(c&&this.Ia(_,c)>0||u&&this.Ia(_,u)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),S=!0):m&&!_&&(i.track({type:1,doc:m}),S=!0,(c||u)&&(a=!0)),S&&(_?(o=o.add(_),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(_,v){let E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return E(_)-E(v)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new kc(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new gm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Le(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new vm(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new ym(i))}),n}pa(e){this.la=e.hs,this.Pa=Le();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return kc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},fI=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},pI=class{constructor(e){this.key=e,this.wa=!1}},mI=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new js(a=>UN(a),Nm),this.Da=new Map,this.Ca=new Set,this.va=new Dt(he.comparator),this.Fa=new Map,this.Ma=new td,this.xa={},this.Oa=new Map,this.Na=ed.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function R9(t,e,n=!0){return I(this,null,function*(){let i=IP(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield yP(i,e,n,!0),r})}function O9(t,e){return I(this,null,function*(){let n=IP(t);yield yP(n,e,!0,!1)})}function yP(t,e,n,i){return I(this,null,function*(){let r=yield p9(t.localStore,Zi(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield x9(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&uP(t.remoteStore,r),a})}function x9(t,e,n,i,r){return I(this,null,function*(){t.Ba=(f,m,_)=>function(E,S,k,H){return I(this,null,function*(){let J=S.view.da(k);J.Xi&&(J=yield vN(E.localStore,S.query,!1).then(({documents:T})=>S.view.da(T,J)));let $=H&&H.targetChanges.get(S.targetId),ae=H&&H.targetMismatches.get(S.targetId)!=null,q=S.view.applyChanges(J,E.isPrimaryClient,$,ae);return IN(E,S.targetId,q.fa),q.snapshot})}(t,f,m,_);let s=yield vN(t.localStore,e,!0),o=new hI(e,s.hs),a=o.da(s.documents),c=Zu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);IN(t,n,u.fa);let d=new fI(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function N9(t,e,n){return I(this,null,function*(){let i=Ee(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!Nm(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ZE(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&VI(i.remoteStore,r.targetId),gI(i,r.targetId)}).catch(od))):(gI(i,r.targetId),yield ZE(i.localStore,r.targetId,!0))})}function P9(t,e){return I(this,null,function*(){let n=Ee(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),VI(n.remoteStore,i.targetId))})}function k9(t,e,n){return I(this,null,function*(){let i=$9(t);try{let r=yield function(o,a){let c=Ee(o),u=Kt.now(),d=a.reduce((_,v)=>_.add(v.key),Le()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Br(),E=Le();return c.os.getEntries(_,d).next(S=>{v=S,v.forEach((k,H)=>{H.isValidDocument()||(E=E.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,v)).next(S=>{f=S;let k=[];for(let H of a){let J=$8(H,f.get(H.key).overlayedDocument);J!=null&&k.push(new nr(H.key,J,PN(J.value.mapValue),yi.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,k,a)}).next(S=>{m=S;let k=S.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(_,S.batchId,k)})}).then(()=>({batchId:m.batchId,changes:GN(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new Dt(ze)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(i,r.batchId,n),yield ld(i,r.changes),yield Lm(i.remoteStore)}catch(r){let s=$I(r,"Failed to persist write");n.reject(s)}})}function vP(t,e){return I(this,null,function*(){let n=Ee(t);try{let i=yield d9(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?tt(o.wa):r.removedDocuments.size>0&&(tt(o.wa),o.wa=!1))}),yield ld(n,i,e)}catch(i){yield od(i)}})}function EN(t,e,n){let i=Ee(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=Ee(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.U_)m.j_(a)&&(u=!0)}),u&&HI(c)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function F9(t,e,n){return I(this,null,function*(){let i=Ee(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new Dt(he.comparator);o=o.insert(s,vi.newNoDocument(s,Ie.min()));let a=Le().add(s),c=new rm(Ie.min(),new Map,new Dt(ze),o,a);yield vP(i,c),i.va=i.va.remove(s),i.Fa.delete(e),GI(i)}else yield ZE(i.localStore,e,!1).then(()=>gI(i,e,n)).catch(od)})}function L9(t,e){return I(this,null,function*(){let n=Ee(t),i=e.batch.batchId;try{let r=yield u9(n.localStore,e);bP(n,i,null),wP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield ld(n,r)}catch(r){yield od(r)}})}function V9(t,e,n){return I(this,null,function*(){let i=Ee(t);try{let r=yield function(o,a){let c=Ee(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(tt(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);bP(i,e,n),wP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield ld(i,r)}catch(r){yield od(r)}})}function wP(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function bP(t,e,n){let i=Ee(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function gI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||EP(t,i)})}function EP(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(VI(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),GI(t))}function IN(t,e,n){for(let i of n)i instanceof ym?(t.Ma.addReference(i.key,e),B9(t,i)):i instanceof vm?(ne("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||EP(t,i.key)):ge()}function B9(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(ne("SyncEngine","New document in limbo: "+n),t.Ca.add(i),GI(t))}function GI(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new he(gt.fromString(e)),i=t.Na.next();t.Fa.set(i,new pI(n)),t.va=t.va.insert(n,i),uP(t.remoteStore,new Xu(Zi(FI(n.path)),i,"TargetPurposeLimboResolution",ON.oe))}}function ld(t,e,n){return I(this,null,function*(){let i=Ee(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){let f=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);let f=KE.Ki(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(c,u){return I(this,null,function*(){let d=Ee(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,m=>z.forEach(m.qi,_=>d.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>z.forEach(m.Qi,_=>d.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!ad(f))throw f;ne("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let _=d.ns.get(m),v=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(v);d.ns=d.ns.insert(m,E)}}})}(i.localStore,s))})}function j9(t,e){return I(this,null,function*(){let n=Ee(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());let i=yield cP(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new X(L.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ld(n,i.us)}})}function U9(t,e){let n=Ee(t),i=n.Fa.get(e);if(i&&i.wa)return Le().add(i.key);{let r=Le(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function IP(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.Sa.h_=A9.bind(null,e.eventManager),e.Sa.ka=M9.bind(null,e.eventManager),e}function $9(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V9.bind(null,e),e}var wm=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return l9(this.persistence,new YE,e.initialUser,this.serializer)}createPersistence(e){return new zE(WE.Hr,this.serializer)}createSharedClientState(e){return new XE}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var _I=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=j9.bind(null,this.syncEngine),yield C9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new uI}()}createDatastore(e){let n=km(e.databaseInfo.databaseId),i=function(s){return new nI(s)}(e.databaseInfo);return function(s,o,a,c){return new sI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new aI(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>EN(this.syncEngine,n,0),function(){return dm.D()?new dm:new eI}())}createSyncEngine(e,n){return function(r,s,o,a,c,u,d){let f=new mI(r,s,o,a,c,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e;yield function(i){return I(this,null,function*(){let r=Ee(i);ne("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield cd(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var bm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var yI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=$t.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>I(this,null,function*(){ne("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=$I(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Wb(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>I(this,null,function*(){i.isEqual(r)||(yield cP(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function TN(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield G9(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>wN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>wN(e.remoteStore,r)),t._onlineComponents=e})}function H9(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function G9(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wb(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!H9(n))throw n;Dc("Error using user provided cache. Falling back to memory cache: "+n),yield Wb(t,new wm)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield Wb(t,new wm);return t._offlineComponents})}function TP(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield TN(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield TN(t,new _I))),t._onlineComponents})}function z9(t){return TP(t).then(e=>e.syncEngine)}function vI(t){return I(this,null,function*(){let e=yield TP(t),n=e.eventManager;return n.onListen=R9.bind(null,e.syncEngine),n.onUnlisten=N9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P9.bind(null,e.syncEngine),n})}function q9(t,e,n={}){let i=new Yi;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,a,c,u){let d=new bm({next:m=>{o.enqueueAndForget(()=>_P(s,f)),m.fromCache&&c.source==="server"?u.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new _m(a,d,{includeMetadataChanges:!0,ra:!0});return gP(s,f)}(yield vI(t),t.asyncQueue,e,n,i)})),i.promise}function DP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var DN=new Map;function SP(t,e,n){if(!n)throw new X(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W9(t,e,n,i){if(e===!0&&i===!0)throw new X(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SN(t){if(!he.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CN(t){if(he.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Vm(t);throw new X(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Em=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Fc=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Em({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Em(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Qb;switch(i.type){case"firstParty":return new Xb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new X(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=DN.get(n);i&&(ne("ComponentProvider","Removing Datastore"),DN.delete(n),i.terminate())}(this),Promise.resolve()}};function CP(t,e,n,i={}){var r;let s=(t=er(t,Fc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=$t.MOCK_USER;else{a=_p(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $t(u)}t._authCredentials=new Yb(new Jp(a,c))}}var Hs=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Rn=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ls=class t extends Hs{constructor(e,n,i){super(e,n,FI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new he(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function AP(t,e,...n){if(t=ut(t),SP("collection","path",e),t instanceof Fc){let i=gt.fromString(e,...n);return CN(i),new Ls(t,null,i)}{if(!(t instanceof Rn||t instanceof Ls))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(gt.fromString(e,...n));return CN(i),new Ls(t.firestore,null,i)}}function MP(t,e,...n){if(t=ut(t),arguments.length===1&&(e=Zp.newId()),SP("doc","path",e),t instanceof Fc){let i=gt.fromString(e,...n);return SN(i),new Rn(t,null,new he(i))}{if(!(t instanceof Rn||t instanceof Ls))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(gt.fromString(e,...n));return SN(i),new Rn(t.firestore,t instanceof Ls?t.converter:null,new he(i))}}var wI=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new hm(this,"async_queue_retry"),this.hu=()=>{let n=qb();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=qb();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=qb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Yi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return I(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ad(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Lr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=cI.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ge()}verifyOperationInProgress(){}du(){return I(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function AN(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var jr=class extends Fc{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new wI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||OP(this),this._firestoreClient.terminate()}};function RP(t,e){let n=typeof t=="object"?t:Ms(),i=typeof t=="string"?t:e||"(default)",r=Mo(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=gp("firestore");s&&CP(r,...s)}return r}function Bm(t){return t._firestoreClient||OP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OP(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,u,d){return new rE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DP(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new yI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var nd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(bn.fromBase64String(e))}catch(n){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Lc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vc=class{constructor(e){this._methodName=e}};var id=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}};var K9=/^__.*__$/,bI=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new qo(e,this.data,n,this.fieldTransforms)}},Im=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new nr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function xP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var Tm=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Sm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(xP(this.fu)&&K9.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},EI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||km(e)}Fu(e,n,i,r=!1){return new Tm({fu:e,methodName:n,vu:i,path:Un.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zI(t){let e=t._freezeSettings(),n=km(t._databaseId);return new EI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NP(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);qI("Data must be an object, but it was:",o,i);let a=PP(i,o),c,u;if(s.merge)c=new si(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=TI(e,f,n);if(!o.contains(m))throw new X(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);FP(d,m)||d.push(m)}c=new si(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new bI(new jn(a),c,u)}var Dm=class t extends Vc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Q9(t,e,n){return new Tm({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var II=class t extends Vc{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=Q9(this,e,!0),i=this.Mu.map(s=>Uc(s,n)),r=new Us(i);return new vE(e.path,r)}isEqual(e){return e instanceof t&&Ss(this.Mu,e.Mu)}};function Y9(t,e,n,i){let r=t.Fu(1,e,n);qI("Data must be an object, but it was:",r,i);let s=[],o=jn.empty();Wo(i,(c,u)=>{let d=WI(e,c,n);u=ut(u);let f=r.Su(d);if(u instanceof Dm)s.push(d);else{let m=Uc(u,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new si(s);return new Im(o,a,r.fieldTransforms)}function J9(t,e,n,i,r,s){let o=t.Fu(1,e,n),a=[TI(e,i,n)],c=[r];if(s.length%2!=0)throw new X(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(TI(e,s[m])),c.push(s[m+1]);let u=[],d=jn.empty();for(let m=a.length-1;m>=0;--m)if(!FP(u,a[m])){let _=a[m],v=c[m];v=ut(v);let E=o.Su(_);if(v instanceof Dm)u.push(_);else{let S=Uc(v,E);S!=null&&(u.push(_),d.set(_,S))}}let f=new si(u);return new Im(d,f,o.fieldTransforms)}function Z9(t,e,n,i=!1){return Uc(n,t.Fu(i?4:3,e))}function Uc(t,e){if(kP(t=ut(t)))return qI("Unsupported field value:",e,t),PP(t,e);if(t instanceof Vc)return function(i,r){if(!xP(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=Uc(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return L8(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Kt.fromDate(i);return{timestampValue:cm(r.serializer,s)}}if(i instanceof Kt){let s=new Kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cm(r.serializer,s)}}if(i instanceof id)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nd)return{bytesValue:tP(r.serializer,i._byteString)};if(i instanceof Rn){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:LI(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Vm(i)}`)}(t,e)}function PP(t,e){let n={};return xN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(i,r)=>{let s=Uc(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function kP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof id||t instanceof nd||t instanceof Rn||t instanceof Vc)}function qI(t,e,n){if(!kP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Vm(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function TI(t,e,n){if((e=ut(e))instanceof Lc)return e._internalPath;if(typeof e=="string")return WI(t,e);throw Sm("Field path arguments must be of type string or ",t,!1,void 0,n)}var X9=new RegExp("[~\\*/\\[\\]]");function WI(t,e,n){if(e.search(X9)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lc(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new X(L.INVALID_ARGUMENT,a+t+c)}function FP(t,e){return t.some(n=>n.isEqual(e))}var Cm=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(jm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},DI=class extends Cm{data(){return super.data()}};function jm(t,e){return typeof e=="string"?WI(t,e):e instanceof Lc?e._internalPath:e._delegate._internalPath}function LP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rd=class{},Am=class extends rd{};function VP(t,e,...n){let i=[];e instanceof rd&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof SI).length,a=s.filter(c=>c instanceof Mm).length;if(o>1||o>0&&a>0)throw new X(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Mm=class t extends Am{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return UP(e._query,n),new Hs(e.firestore,e.converter,_E(e._query,n))}_parse(e){let n=zI(e.firestore);return function(s,o,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){RN(f,d);let _=[];for(let v of f)_.push(MN(c,s,v));m={arrayValue:{values:_}}}else m=MN(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||RN(f,d),m=Z9(a,o,f,d==="in"||d==="not-in");return kt.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function BP(t,e,n){let i=e,r=jm("where",t);return Mm._create(r,i,n)}var SI=class t extends rd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)UP(o,c),o=_E(o,c)}(e._query,n),new Hs(e.firestore,e.converter,_E(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var CI=class t extends Am{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(s,o)}(e._query,this._field,this._direction);return new Hs(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Bs(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function jP(t,e="asc"){let n=e,i=jm("orderBy",t);return CI._create(i,n)}function MN(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jN(e)&&n.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(gt.fromString(n));if(!he.isDocumentKey(i))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nN(t,new he(i))}if(n instanceof Rn)return nN(t,n._key);throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(n)}.`)}function RN(t,e){if(!Array.isArray(t)||t.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UP(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var AI=class{convertValue(e,n="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Wo(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new id(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=xI(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){let n=Vr(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=gt.fromString(e);tt(aP(i));let r=new nm(i.get(1),i.get(3)),s=new he(i.popFirst(5));return r.isEqual(n)||Lr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function $P(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var jo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rm=class extends Cm{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(jm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Tc=class extends Rm{data(e={}){return super.data(e)}},Om=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new jo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Tc(this._firestore,this._userDataWriter,i.key,i,new jo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Tc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Tc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:eK(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function eK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}var sd=class extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}};function HP(t){t=er(t,Hs);let e=er(t.firestore,jr),n=Bm(e),i=new sd(e);return LP(t._query),q9(n,t._query).then(r=>new Om(e,i,t,r))}function GP(t,e,n){t=er(t,Rn);let i=er(t.firestore,jr),r=$P(t.converter,e,n);return QI(i,[NP(zI(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,yi.none())])}function zP(t){return QI(er(t.firestore,jr),[new Pc(t._key,yi.none())])}function KI(t,...e){var n,i,r;t=ut(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||AN(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(AN(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,u,d;if(t instanceof Rn)u=er(t.firestore,jr),d=FI(t._key.path),c={next:f=>{e[o]&&e[o](tK(u,t,f))},error:e[o+1],complete:e[o+2]};else{let f=er(t,Hs);u=er(f.firestore,jr),d=f._query;let m=new sd(u);c={next:_=>{e[o]&&e[o](new Om(u,m,f,_))},error:e[o+1],complete:e[o+2]},LP(t._query)}return function(m,_,v,E){let S=new bm(E),k=new _m(_,S,v);return m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return gP(yield vI(m),k)})),()=>{S.$a(),m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return _P(yield vI(m),k)}))}}(Bm(u),d,a,c)}function QI(t,e){return function(i,r){let s=new Yi;return i.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return k9(yield z9(i),r,s)})),s.promise}(Bm(t),e)}function tK(t,e,n){let i=n.docs.get(e._key),r=new sd(t);return new Rm(t,r,e._key,i,new jo(n.hasPendingWrites,n.fromCache),e.converter)}var MI=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zI(e)}set(e,n,i){this._verifyNotCommitted();let r=Kb(e,this._firestore),s=$P(r.converter,n,i),o=NP(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,yi.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let s=Kb(e,this._firestore),o;return o=typeof(n=ut(n))=="string"||n instanceof Lc?J9(this._dataReader,"WriteBatch.update",s._key,n,i,r):Y9(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,yi.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Kb(e,this._firestore);return this._mutations=this._mutations.concat(new Pc(n._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new X(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Kb(t,e){if((t=ut(t)).firestore!==e)throw new X(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function qP(...t){return new II("arrayUnion",t)}function WP(t){return Bm(t=er(t,jr)),new MI(t,e=>QI(t,e))}(function(e,n=!0){(function(r){Bc=r})(qi),Gi(new Mn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new jr(new Jb(i.getProvider("auth-internal")),new tE(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nm(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dt(Xx,"4.6.4",e),dt(Xx,"4.6.4","esm2017")})();var Um=function(){return Um=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Um.apply(this,arguments)};var rK={includeMetadataChanges:!1};function YI(t,e){return e===void 0&&(e=rK),new ie(function(n){var i=KI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function KP(t){return YI(t,{includeMetadataChanges:!0})}function QP(t,e){return e===void 0&&(e={}),KP(t).pipe(Y(function(n){return JI(n,e)}))}function JI(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Um(Um({},i),(n={},n[e.idField]=t.id,n))}function YP(t){return YI(t,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function JP(t,e){return e===void 0&&(e={}),YP(t).pipe(Y(function(n){return n.map(function(i){return JI(i,e)})}))}var En=class{constructor(e){return e}},ZP="firestore",ZI=class{constructor(){return Oo(ZP)}};var XI=new V("angularfire2.firestore-instances");function sK(t,e){let n=mc(ZP,t,e);return n&&new En(n)}function oK(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new En(i)}}var aK={provide:ZI,deps:[[new Rt,XI]]},cK={provide:En,useFactory:sK,deps:[[new Rt,XI],_i]};function XP(t,...e){return dt("angularfire",xr.full,"fst"),nn([cK,aK,{provide:XI,useFactory:oK(t),multi:!0,deps:[fe,Ye,Os,Nr,[new Rt,Lo],[new Rt,Rs],...e]}])}var Qo=mt(JP,!0);var eT=mt(QP,!0);var ek=mt(qP,!0);var On=mt(AP,!0);var $m=mt(zP,!0);var ir=mt(MP,!0);var $c=mt(HP,!0);var tk=mt(RP,!0);var Yo=mt(jP,!0);var oi=mt(VP,!0);var nk=mt(GP,!0);var Jo=mt(BP,!0),ik=mt(WP,!0);var Hm={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e.updatedAt=e.updatedAt.toDate(),e}};var dd="sections",rk=(()=>{let e=class e{constructor(i){this.firestore=i}getAllSectionWithTeacher(){let i=On(this.firestore,dd).withConverter(Hm),r=oi(i,Yo("createdAt","desc"),Yo("updatedAt","desc"));return ve($c(r)).pipe(Ve(s=>{let o=s.docs.map(a=>a.data());return ve(o).pipe(Ve(a=>{let c=oi(On(this.firestore,Hc).withConverter(dc),Jo("sections","array-contains",a.id));return ve($c(c)).pipe(Y(u=>{let d=u.docs.map(f=>f.data());return{section:a,teachers:d}}))}),Sl())}))}createSection(i,r){var s=ik(this.firestore);return s.set(ir(On(this.firestore,dd),i.id),i),s.update(ir(On(this.firestore,Hc),r),{sections:ek(i.id)}),ve(s.commit())}deleteSection(i){return ve($m(ir(this.firestore,dd,i)))}};e.\u0275fac=function(r){return new(r||e)(x(En))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hc="users",Gm=(()=>{let e=class e{constructor(i){this.firestore=i}getAllTeachers(){let i=oi(On(this.firestore,Hc).withConverter(dc),Jo("type","==",$i.TEACHER));return Qo(i)}getAllStudents(){let i=oi(On(this.firestore,Hc).withConverter(dc),Jo("type","==",$i.STUDENT));return Qo(i)}getAllUsersWithSections(){let i=oi(On(this.firestore,Hc).withConverter(dc),Jo("type","in",[$i.STUDENT,$i.GUEST,$i.TEACHER]));return ve($c(i)).pipe(Ve(r=>{let s=r.docs.map(o=>o.data());return ve(s).pipe(Ve(o=>{if(o.sections.length===0)return ve([{users:o,sections:[]}]);let a=oi(On(this.firestore,dd).withConverter(Hm),Jo("id","in",o.sections));return ve($c(a)).pipe(Y(c=>{let u=c.docs.map(d=>d.data());return{users:o,sections:u}}))}),Sl())}))}};e.\u0275fac=function(r){return new(r||e)(x(En))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mk=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(W(mi),W(ft))},e.\u0275dir=Ge({type:e});let t=e;return t})(),rT=(()=>{let e=class e extends mk{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,features:[Xn]});let t=e;return t})(),Xm=new V("");var uK={provide:Xm,useExisting:br(()=>zs),multi:!0};function dK(){let t=Li()?Li().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var hK=new V(""),zs=(()=>{let e=class e extends mk{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!dK())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(W(mi),W(ft),W(hK,8))},e.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Be("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[bo([uK]),Xn]});let t=e;return t})();function Gs(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function gk(t){return t!=null&&typeof t.length=="number"}var _k=new V(""),yk=new V(""),fK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$n=class{static min(e){return pK(e)}static max(e){return mK(e)}static required(e){return gK(e)}static requiredTrue(e){return _K(e)}static email(e){return yK(e)}static minLength(e){return vK(e)}static maxLength(e){return wK(e)}static pattern(e){return bK(e)}static nullValidator(e){return vk(e)}static compose(e){return Dk(e)}static composeAsync(e){return Ck(e)}};function pK(t){return e=>{if(Gs(e.value)||Gs(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function mK(t){return e=>{if(Gs(e.value)||Gs(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function gK(t){return Gs(t.value)?{required:!0}:null}function _K(t){return t.value===!0?null:{required:!0}}function yK(t){return Gs(t.value)||fK.test(t.value)?null:{email:!0}}function vK(t){return e=>Gs(e.value)||!gk(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function wK(t){return e=>gk(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function bK(t){if(!t)return vk;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Gs(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function vk(t){return null}function wk(t){return t!=null}function bk(t){return ws(t)?ve(t):t}function Ek(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function Ik(t,e){return e.map(n=>n(t))}function EK(t){return!t.validate}function Tk(t){return t.map(e=>EK(e)?e:n=>e.validate(n))}function Dk(t){if(!t)return null;let e=t.filter(wk);return e.length==0?null:function(n){return Ek(Ik(n,e))}}function Sk(t){return t!=null?Dk(Tk(t)):null}function Ck(t){if(!t)return null;let e=t.filter(wk);return e.length==0?null:function(n){let i=Ik(n,e).map(bk);return M_(i).pipe(Y(Ek))}}function Ak(t){return t!=null?Ck(Tk(t)):null}function ok(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Mk(t){return t._rawValidators}function Rk(t){return t._rawAsyncValidators}function tT(t){return t?Array.isArray(t)?t:[t]:[]}function Wm(t,e){return Array.isArray(t)?t.includes(e):t===e}function ak(t,e){let n=tT(e);return tT(t).forEach(r=>{Wm(n,r)||n.push(r)}),n}function ck(t,e){return tT(e).filter(n=>!Wm(t,n))}var Km=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ak(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},zc=class extends Km{get formDirective(){return null}get path(){return null}},pd=class extends Km{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},IK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},The=Q(R({},IK),{"[class.ng-submitted]":"isSubmitted"}),Wc=(()=>{let e=class e extends Qm{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(W(pd,2))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&ei("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Xn]});let t=e;return t})(),Kc=(()=>{let e=class e extends Qm{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(W(zc,10))},e.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&ei("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Xn]});let t=e;return t})();var hd="VALID",zm="INVALID",Gc="PENDING",fd="DISABLED";function sT(t){return(eg(t)?t.validators:t)||null}function TK(t){return Array.isArray(t)?Sk(t):t||null}function oT(t,e){return(eg(e)?e.asyncValidators:t)||null}function DK(t){return Array.isArray(t)?Ak(t):t||null}function eg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ok(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new j(1e3,"");if(!i[n])throw new j(1001,"")}function xk(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new j(1002,"")})}var qc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hd}get invalid(){return this.status===zm}get pending(){return this.status==Gc}get disabled(){return this.status===fd}get enabled(){return this.status!==fd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ak(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ak(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ck(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ck(e,this._rawAsyncValidators))}hasValidator(e){return Wm(this._rawValidators,e)}hasAsyncValidator(e){return Wm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fd,this.errors=null,this._forEachChild(i=>{i.disable(Q(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=hd,this._forEachChild(i=>{i.enable(Q(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Q(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hd||this.status===Gc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fd:hd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gc,this._hasOwnPendingAsyncValidator=!0;let n=bk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?fd:this.errors?zm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gc)?Gc:this._anyControlsHaveStatus(zm)?zm:hd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){eg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=TK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=DK(this._rawAsyncValidators)}},Ym=class extends qc{constructor(e,n,i){super(sT(n),oT(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){xk(this,!0,e),Object.keys(e).forEach(i=>{Ok(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nT=class extends Ym{};var Nk=new V("CallSetDisabledState",{providedIn:"root",factory:()=>aT}),aT="always";function SK(t,e){return[...e.path,t]}function lk(t,e,n=aT){cT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),AK(t,e),RK(t,e),MK(t,e),CK(t,e)}function uk(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Zm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Jm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function CK(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function cT(t,e){let n=Mk(t);e.validator!==null?t.setValidators(ok(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Rk(t);e.asyncValidator!==null?t.setAsyncValidators(ok(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Jm(e._rawValidators,r),Jm(e._rawAsyncValidators,r)}function Zm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Mk(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Rk(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Jm(e._rawValidators,i),Jm(e._rawAsyncValidators,i),n}function AK(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Pk(t,e)})}function MK(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Pk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Pk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function RK(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function OK(t,e){t==null,cT(t,e)}function xK(t,e){return Zm(t,e)}function NK(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function PK(t){return Object.getPrototypeOf(t.constructor)===rT}function kK(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function FK(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===zs?n=s:PK(s)?i=s:r=s}),r||i||n||null}function LK(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function dk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var qm=class extends qc{constructor(e=null,n,i){super(sT(n),oT(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),eg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(hk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VK=t=>t instanceof qm;var Qc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var kk=new V("");var BK={provide:zc,useExisting:br(()=>Zo)},Zo=(()=>{let e=class e extends zc{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $e,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return lk(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){uk(i.control||null,i,!1),LK(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,kK(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(uk(r||null,i),VK(s)&&(lk(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);OK(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&xK(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cT(this.form,this),this._oldForm&&Zm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(W(_k,10),W(yk,10),W(Nk,8))},e.\u0275dir=Ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Be("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[xt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bo([BK]),Xn,Yn]});let t=e;return t})();var jK={provide:pd,useExisting:br(()=>Xo)},Xo=(()=>{let e=class e extends pd{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new $e,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=FK(this,o)}ngOnChanges(i){this._added||this._setUpControl(),NK(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return SK(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(W(zc,13),W(_k,10),W(yk,10),W(Xm,10),W(kk,8))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""]],inputs:{name:[xt.None,"formControlName","name"],isDisabled:[xt.None,"disabled","isDisabled"],model:[xt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[bo([jK]),Xn,Yn]});let t=e;return t})(),UK={provide:Xm,useExisting:br(()=>tg),multi:!0};function Fk(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $K(t){return t.split(":")[0]}var tg=(()=>{let e=class e extends rT{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=Fk(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=$K(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&Be("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[bo([UK]),Xn]});let t=e;return t})(),Lk=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(Fk(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(W(ft),W(mi),W(tg,9))},e.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),HK={provide:Xm,useExisting:br(()=>Vk),multi:!0};function fk(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function GK(t){return t.split(":")[0]}var Vk=(()=>{let e=class e extends rT{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],d=this._getOptionValue(u.value);s.push(d)}}else{let a=r.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=GK(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&Be("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[bo([HK]),Xn]});let t=e;return t})(),Bk=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(fk(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(fk(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(W(ft),W(mi),W(Vk,9))},e.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var zK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),iT=class extends qc{constructor(e,n,i){super(sT(n),oT(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){xk(this,!1,e),e.forEach((i,r)=>{Ok(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function pk(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Yc=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return pk(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ym(s,o)}record(i,r=null){let s=this._reduceControls(i);return new nT(s,r)}control(i,r,s){let o={};return this.useNonNullable?(pk(r)?o=r:(o.validators=r,o.asyncValidators=s),new qm(i,Q(R({},o),{nonNullable:!0}))):new qm(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new iT(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof qm)return i;if(i instanceof qc)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ng=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:kk,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Nk,useValue:i.callSetDisabledState??aT}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({imports:[zK]});let t=e;return t})();var qK=["*"];var WK=t=>({$implicit:t});var KK=["dialog"],QK=["ngbNavOutlet",""];function YK(t,e){}function JK(t,e){if(t&1&&(P(0,"div",0),Se(1,YK,0,0,"ng-template",1),F()),t&2){let n=Re().$implicit,i=Re();ee("item",n)("nav",i.nav)("role",i.paneRole),G(),ee("ngTemplateOutlet",(n.contentTpl==null?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",Cf(5,WK,n.active||i.isPanelTransitioning(n)))}}function ZK(t,e){if(t&1&&Se(0,JK,2,7,"div",0),t&2){let n=e.$implicit,i=Re();vM(0,n.isPanelInDom()||i.isPanelTransitioning(n)?0:-1)}}var Uk={animation:!0,transitionTimerDelayMs:5},$k=(()=>{let e=class e{constructor(){this.animation=Uk.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XK(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function Hk(t){return typeof t=="string"}function ea(t){return t!=null}function e7(t){return t&&t.then}function hT(t){return(t||document.body).getBoundingClientRect()}function t7(t){return e=>new ie(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}var n7=()=>{},{transitionTimerDelayMs:i7}=Uk,ig=new Map,$r=(t,e,n,i)=>{let r=i.context||{},s=ig.get(e);if(s)switch(i.runningTransition){case"continue":return ht;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),ig.delete(e)}let o=n(e,i.animation,r)||n7;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),Z(void 0).pipe(t7(t));let a=new ye,c=new ye,u=a.pipe(P_(!0));ig.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let d=XK(e);return t.runOutsideAngular(()=>{let f=Kn(e,"transitionend").pipe(bt(u),qe(({target:_})=>_===e)),m=Tl(d+i7).pipe(bt(u));R_(m,f,c).pipe(bt(u)).subscribe(()=>{ig.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var Gk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var zk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var qk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),Wk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var Ur=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Ur||{});var cfe=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var r7=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Kk(t){let e=Array.from(t.querySelectorAll(r7)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var s7=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=Kn(e,"focusin").pipe(bt(n),Y(s=>s.target));Kn(e,"keydown").pipe(bt(n),qe(s=>s.which===Ur.Tab),cs(r)).subscribe(([s,o])=>{let[a,c]=Kk(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Kn(e,"click").pipe(bt(n),cs(r),Y(s=>s[1])).subscribe(s=>s.focus())})};var lfe=new Date(1882,10,12),ufe=new Date(2174,10,25);var dfe=1e3*60*60*24;var fT=1080,o7=24*fT,a7=12*fT+793,hfe=29*o7+a7,ffe=11*fT+204;var Qk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var Yk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),c7=(()=>{let e=class e{constructor(){this._ngbConfig=N($k),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jc=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var l7=(()=>{let e=class e{constructor(){this._document=N(ot)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let c=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${c+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u7=(()=>{let e=class e{constructor(){this._nativeElement=N(ft).nativeElement,this._zone=N(fe)}ngOnInit(){this._zone.onStable.asObservable().pipe(At(1)).subscribe(()=>{$r(this._zone,this._nativeElement,(i,r)=>{r&&hT(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $r(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(Fn("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),ei("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ar],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),qs=class{update(e){}close(e){}dismiss(e){}},d7=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],h7=["animation","backdropClass"],uT=class{_applyWindowOptions(e,n){d7.forEach(i=>{ea(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){h7.forEach(i=>{ea(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(bt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(bt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ye,this._dismissed=new ye,this._hidden=new ye,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();e7(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Z(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Dl(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},dT=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(dT||{}),f7=(()=>{let e=class e{constructor(){this._document=N(ot),this._elRef=N(ft),this._zone=N(fe),this._closed$=new ye,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new $e,this.shown=new ye,this.hidden=new ye}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Hk(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(At(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=$r(this._zone,i,()=>i.classList.remove("show"),r),o=$r(this._zone,this._dialogEl.nativeElement,()=>{},r),a=Dl(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=$r(this._zone,this._elRef.nativeElement,(o,a)=>{a&&hT(o),o.classList.add("show")},i),s=$r(this._zone,this._dialogEl.nativeElement,()=>{},i);Dl(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Kn(i,"keydown").pipe(bt(this._closed$),qe(s=>s.which===Ur.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(dT.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;Kn(this._dialogEl.nativeElement,"mousedown").pipe(bt(this._closed$),Ne(()=>r=!1),Mt(()=>Kn(i,"mouseup").pipe(bt(this._closed$),At(1))),qe(({target:s})=>i===s)).subscribe(()=>{r=!0}),Kn(i,"click").pipe(bt(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(dT.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=Kk(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&$r(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&i0(KK,7),r&2){let o;ys(o=vs())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(gn("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),Fn("modal d-block"+(s.windowClass?" "+s.windowClass:"")),ei("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ar],ngContentSelectors:qK,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(IM(),P(0,"div",1,0)(2,"div",2),TM(3),F()()),r&2&&Fn("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),p7=(()=>{let e=class e{constructor(){this._applicationRef=N(ti),this._injector=N(Ye),this._environmentInjector=N(qt),this._document=N(ot),this._scrollBar=N(l7),this._activeWindowCmptHasChanged=new ye,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new $e;let i=N(fe);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];s7(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:ea(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new qs;i=s.injector||i;let c=i.get(qt,null)||this._environmentInjector,u=this._getContentRef(i,c,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,u.nodes),m=new uT(f,u,d,s.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(At(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=Ff(u7,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=Ff(f7,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof xi?this._createFromTemplateRef(s,o):Hk(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new Jc([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new Jc([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new Jc([[r]])}_createFromComponent(i,r,s,o,a){let c=Ye.create({providers:[{provide:qs,useValue:o}],parent:i}),u=Ff(s,{environmentInjector:r,elementInjector:c}),d=u.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Jc([[d]],u.hostView,u)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),md=(()=>{let e=class e{constructor(){this._injector=N(Ye),this._modalStack=N(p7),this._config=N(c7)}open(i,r={}){let s=R(Q(R({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({providers:[md]});let t=e;return t})(),m7=(()=>{let e=class e{constructor(){this._ngbConfig=N($k),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zk=t=>ea(t)&&t!=="",g7=0,pT=(()=>{let e=class e{constructor(){this.templateRef=N(xi)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ge({type:e,selectors:[["ng-template","ngbNavContent",""]],standalone:!0});let t=e;return t})(),Xk=(()=>{let e=class e{constructor(i){this.role=i,this.nav=N(gd)}};e.\u0275fac=function(r){return new(r||e)(wo("role"))},e.\u0275dir=Ge({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(r,s){r&2&&gn("role",s.role?s.role:s.nav.roles?"presentation":void 0)},standalone:!0});let t=e;return t})(),rg=(()=>{let e=class e{constructor(){this._nav=N(gd),this._nativeElement=N(ft).nativeElement,this.disabled=!1,this.shown=new $e,this.hidden=new $e}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){ea(this.domId)||(this.domId=`ngb-nav-${g7++}`)}get active(){return this._nav.activeId===this.id}get id(){return Zk(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(ea(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ge({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(r,s,o){if(r&1&&za(o,pT,4),r&2){let a;ys(a=vs())&&(s.contentTpls=a)}},hostVars:2,hostBindings:function(r,s){r&2&&ei("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[xt.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0});let t=e;return t})(),gd=(()=>{let e=class e{constructor(i){this.role=i,this._config=N(m7),this._cd=N(ni),this._document=N(ot),this._nativeElement=N(ft).nativeElement,this.destroyRef=N(Tr),this._navigatingWithKeyboard=!1,this.activeIdChange=new $e,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new $e,this.hidden=new $e,this.navItemChange$=new ye,this.navChange=new $e}click(i){i.disabled||this._updateActiveId(i.id)}onFocusout({relatedTarget:i}){this._nativeElement.contains(i)||(this._navigatingWithKeyboard=!1)}onKeyDown(i){if(this.roles!=="tablist"||!this.keyboard)return;let r=i.which,s=this.links.filter(c=>!c.navItem.disabled),{length:o}=s,a=-1;if(s.forEach((c,u)=>{c.nativeElement===this._document.activeElement&&(a=u)}),o){switch(r){case Ur.ArrowUp:case Ur.ArrowLeft:a=(a-1+o)%o;break;case Ur.ArrowRight:case Ur.ArrowDown:a=(a+1)%o;break;case Ur.Home:a=0;break;case Ur.End:a=o-1;break}this.keyboard==="changeWithArrows"&&this.select(s[a].navItem.id),s[a].nativeElement.focus(),this._navigatingWithKeyboard=!0,i.preventDefault()}}select(i){this._updateActiveId(i,!1)}ngAfterContentInit(){if(!ea(this.activeId)){let i=this.items.first?this.items.first.id:null;Zk(i)&&(this._updateActiveId(i,!1),this._cd.detectChanges())}this.items.changes.pipe(lp(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:i}){i&&!i.firstChange&&this._notifyItemChanged(i.currentValue)}_updateActiveId(i,r=!0){if(this.activeId!==i){let s=!1;r&&this.navChange.emit({activeId:this.activeId,nextId:i,preventDefault:()=>{s=!0}}),s||(this.activeId=i,this.activeIdChange.emit(i),this._notifyItemChanged(i))}}_notifyItemChanged(i){this.navItemChange$.next(this._getItemById(i))}_getItemById(i){return this.items&&this.items.find(r=>r.id===i)||null}};e.\u0275fac=function(r){return new(r||e)(wo("role"))},e.\u0275dir=Ge({type:e,selectors:[["","ngbNav",""]],contentQueries:function(r,s,o){if(r&1&&(za(o,rg,4),za(o,sg,5)),r&2){let a;ys(a=vs())&&(s.items=a),ys(a=vs())&&(s.links=a)}},hostVars:6,hostBindings:function(r,s){r&1&&Be("keydown.arrowLeft",function(a){return s.onKeyDown(a)})("keydown.arrowRight",function(a){return s.onKeyDown(a)})("keydown.arrowDown",function(a){return s.onKeyDown(a)})("keydown.arrowUp",function(a){return s.onKeyDown(a)})("keydown.Home",function(a){return s.onKeyDown(a)})("keydown.End",function(a){return s.onKeyDown(a)})("focusout",function(a){return s.onFocusout(a)}),r&2&&(gn("aria-orientation",s.orientation==="vertical"&&s.roles==="tablist"?"vertical":void 0)("role",s.role?s.role:s.roles?"tablist":void 0),ei("nav",!0)("flex-column",s.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[Yn]});let t=e;return t})(),sg=(()=>{let e=class e{constructor(i){this.role=i,this.navItem=N(rg),this.nav=N(gd),this.nativeElement=N(ft).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}};e.\u0275fac=function(r){return new(r||e)(wo("role"))},e.\u0275dir=Ge({type:e,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(r,s){r&2&&(Ql("id",s.navItem.domId),gn("role",s.role?s.role:s.nav.roles?"tab":void 0)("tabindex",s.tabindex)("aria-controls",s.navItem.isPanelInDom()?s.navItem.panelDomId:null)("aria-selected",s.navItem.active)("aria-disabled",s.navItem.disabled),ei("nav-link",!0)("nav-item",s.navItem.isNgContainer())("active",s.navItem.active)("disabled",s.navItem.disabled))},standalone:!0});let t=e;return t})(),eF=(()=>{let e=class e extends sg{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(r,s){r&1&&Be("click",function(){return s.nav.click(s.navItem)}),r&2&&Ql("disabled",s.navItem.disabled)},standalone:!0,features:[Xn]});let t=e;return t})();var _7=({classList:t})=>(t.remove("show"),()=>t.remove("active")),y7=(t,e)=>{e&&hT(t),t.classList.add("show")},jk=(()=>{let e=class e{constructor(){this.nativeElement=N(ft).nativeElement}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ge({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(r,s){r&2&&(Ql("id",s.item.panelDomId),gn("role",s.role?s.role:s.nav.roles?"tabpanel":void 0)("aria-labelledby",s.item.domId),ei("fade",s.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0});let t=e;return t})(),tF=(()=>{let e=class e{constructor(){this._cd=N(ni),this._ngZone=N(fe),this._activePane=null}isPanelTransitioning(i){return this._activePane?.item===i}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(lp(this.nav.destroyRef),Da(this._activePane?.item||null),Ia(),Ml(1)).subscribe(i=>{let r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?$r(this._ngZone,this._activePane.nativeElement,_7,r).subscribe(()=>{let s=this._activePane?.item;this._activePane=this._getPaneForItem(i),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),$r(this._ngZone,this._activePane.nativeElement,y7,r).subscribe(()=>{i&&(i.shown.emit(),this.nav.shown.emit(i.id))})),s&&(s.hidden.emit(),this.nav.hidden.emit(s.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show"),this._activePane?.nativeElement.classList.add("active")}_getPaneForItem(i){return this._panes&&this._panes.find(r=>r.item===i)||null}_getActivePane(){return this._panes&&this._panes.find(i=>i.item.active)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(r,s){if(r&1&&i0(jk,5),r&2){let o;ys(o=vs())&&(s._panes=o)}},hostVars:2,hostBindings:function(r,s){r&2&&ei("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[xt.None,"ngbNavOutlet","nav"]},standalone:!0,features:[Ar],attrs:QK,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,s){r&1&&bM(0,ZK,1,1,null,null,wM),r&2&&EM(s.nav.items)},dependencies:[jk,QM],encapsulation:2,changeDetection:0});let t=e;return t})();var nF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var iF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var rF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var sF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var oF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var aF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var cF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var lF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var uF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var pfe=new V("live announcer delay",{providedIn:"root",factory:()=>100});var dF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var hF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),v7=[Gk,zk,qk,Wk,Qk,Yk,Jk,nF,hF,iF,rF,sF,oF,aF,cF,lF,uF,dF],og=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({imports:[v7,Gk,zk,qk,Wk,Qk,Yk,Jk,nF,hF,iF,rF,sF,oF,aF,cF,lF,uF,dF]});let t=e;return t})();function b7(t,e){if(t&1&&(P(0,"h4",21),U(1),F()),t&2){let n=e.ngIf;G(),lt(" ",n.length," ")}}function E7(t,e){if(t&1&&(P(0,"h4",21),U(1),F()),t&2){let n=e.ngIf;G(),lt(" ",n.length," ")}}function I7(t,e){if(t&1&&(P(0,"h4",21),U(1),F()),t&2){let n=e.ngIf;G(),lt(" ",n.length," ")}}function T7(t,e){if(t&1&&(on(0),U(1),_e(2,"br"),an()),t&2){let n=e.$implicit;G(),lt(" ",n.name,"")}}function D7(t,e){if(t&1&&(P(0,"tr")(1,"th",25),U(2),F(),P(3,"td"),_e(4,"img",26),U(5),F(),P(6,"td"),U(7),F(),P(8,"td"),Se(9,T7,3,1,"ng-container",24),F(),P(10,"td"),U(11),F()()),t&2){let n=e.$implicit,i=e.index;G(2),st(i+1),G(2),ee("src",n.users.avatar,$a)("alt",n.users.name),G(),lt(" ",n.users.name," "),G(2),st(n.users.email),G(2),ee("ngForOf",n.sections),G(2),st(n.users.gender)}}function S7(t,e){if(t&1&&(P(0,"table",22)(1,"thead")(2,"tr")(3,"th",23),U(4,"#"),F(),P(5,"th",23),U(6,"Name"),F(),P(7,"th",23),U(8,"Email"),F(),P(9,"th",23),U(10,"Section"),F(),P(11,"th",23),U(12,"Gender"),F()()(),P(13,"tbody"),Se(14,D7,12,7,"tr",24),Ft(15,"async"),F()()),t&2){let n=Re();G(14),ee("ngForOf",Lt(15,1,n.students$))}}function C7(t,e){if(t&1&&(on(0),U(1),_e(2,"br"),an()),t&2){let n=e.$implicit;G(),lt(" ",n.name,"")}}function A7(t,e){if(t&1&&(P(0,"tr")(1,"th",25),U(2),F(),P(3,"td"),_e(4,"img",26),U(5),F(),P(6,"td"),U(7),F(),P(8,"td"),Se(9,C7,3,1,"ng-container",24),F(),P(10,"td"),U(11),F()()),t&2){let n=e.$implicit,i=e.index;G(2),st(i+1),G(2),ee("src",n.users.avatar,$a)("alt",n.users.name),G(),lt(" ",n.users.name," "),G(2),st(n.users.email),G(2),ee("ngForOf",n.sections),G(2),st(n.users.gender)}}function M7(t,e){if(t&1&&(P(0,"table",22)(1,"thead")(2,"tr")(3,"th",23),U(4,"#"),F(),P(5,"th",23),U(6,"Name"),F(),P(7,"th",23),U(8,"Email"),F(),P(9,"th",23),U(10,"Section"),F(),P(11,"th",23),U(12,"Gender"),F()()(),P(13,"tbody"),Se(14,A7,12,7,"tr",24),Ft(15,"async"),F()()),t&2){let n=Re();G(14),ee("ngForOf",Lt(15,1,n.teachers$))}}var fF=(()=>{let e=class e{selectTab(i){this.activeTab=i}constructor(i){this.userService=i,this.activeTab=0,this.users$=this.userService.getAllUsersWithSections(),this.students$=this.users$.pipe(Y(r=>r.filter(s=>s.users.type===$i.STUDENT))),this.teachers$=this.users$.pipe(Y(r=>r.filter(s=>s.users.type===$i.TEACHER)))}};e.\u0275fac=function(r){return new(r||e)(W(Gm))},e.\u0275cmp=He({type:e,selectors:[["app-users"]],decls:45,vars:10,consts:[["nav","ngbNav"],[1,"container-fluid","p-3"],[1,"row","g-3"],[1,"col-4"],[1,"box","box-1"],[1,"flex-grow-1"],["class","fw-bold",4,"ngIf"],[1,"p-3","rounded-circle",2,"background-color","lightcyan"],[1,"fa-solid","fa-users"],[1,"box","box-2"],[1,"fa-solid","fa-graduation-cap"],[1,"box","box-3"],[1,"fa-solid","fa-chalkboard-user"],[1,"col-12"],[1,"box"],[1,"d-flex","align-items-center","justify-content-between","p-3"],["ngbNav","",1,"nav-tabs"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"fw-bold"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"me-2","rounded-circle",2,"width","30px","height","30px",3,"src","alt"]],template:function(r,s){if(r&1&&(P(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),Se(5,b7,2,1,"h4",6),Ft(6,"async"),P(7,"p"),U(8,"All Users"),F()(),P(9,"div",7),_e(10,"i",8),F()()(),P(11,"div",3)(12,"div",9)(13,"div",5),Se(14,E7,2,1,"h4",6),Ft(15,"async"),P(16,"p"),U(17,"Students"),F()(),P(18,"div",7),_e(19,"i",10),F()()(),P(20,"div",3)(21,"div",11)(22,"div",5),Se(23,I7,2,1,"h4",6),Ft(24,"async"),P(25,"p"),U(26,"Teachers"),F()(),P(27,"div",7),_e(28,"i",12),F()()(),P(29,"div",13)(30,"div",14)(31,"div",15)(32,"h4"),U(33,"Accounts"),F(),P(34,"ul",16,0)(36,"li",17)(37,"button",18),U(38,"Students"),F(),Se(39,S7,16,3,"ng-template",19),F(),P(40,"li",17)(41,"button",18),U(42,"Teachers"),F(),Se(43,M7,16,3,"ng-template",19),F()()(),_e(44,"div",20),F()()()()),r&2){let o=r0(35);G(5),ee("ngIf",Lt(6,4,s.users$)),G(9),ee("ngIf",Lt(15,6,s.students$)),G(9),ee("ngIf",Lt(24,8,s.teachers$)),G(21),ee("ngbNavOutlet",o)}},dependencies:[ii,yn,pT,gd,rg,Xk,eF,sg,tF,An],styles:[".box[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:1rem}.box-1[_ngcontent-%COMP%]{border-left:1rem solid green;display:flex;align-items:center}.box-2[_ngcontent-%COMP%]{border-left:1rem solid yellow;display:flex;align-items:center}.box-3[_ngcontent-%COMP%]{border-left:1rem solid blue;display:flex;align-items:center}"]});let t=e;return t})();var pF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=He({type:e,selectors:[["app-student-report"]],decls:2,vars:0,template:function(r,s){r&1&&(P(0,"p"),U(1,"student-report works!"),F())}});let t=e;return t})();var mF={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e}};var R7="translations",gF=(()=>{let e=class e{constructor(i){this.firestore=i}getTranslations(){let i=oi(On(this.firestore,R7).withConverter(mF),Yo("createdAt","desc"));return Qo(i)}};e.\u0275fac=function(r){return new(r||e)(x(En))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x7(t,e){if(t&1&&(P(0,"tr")(1,"td"),U(2),F(),P(3,"td"),U(4),F(),P(5,"td")(6,"div",7)(7,"button",8),_e(8,"i",9),F(),P(9,"button",10),_e(10,"i",11),F()()()()),t&2){let n=e.$implicit;G(2),st(n.text),G(2),st(n.translation)}}var _F=(()=>{let e=class e{constructor(i){this.logService=i,this.translations$=this.logService.getTranslations()}};e.\u0275fac=function(r){return new(r||e)(W(gF))},e.\u0275cmp=He({type:e,selectors:[["app-logs"]],decls:19,vars:3,consts:[[1,"container-fluid","p-3"],[1,"box"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-dark"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-3"],[1,"btn","btn-danger"],[1,"fa-solid","fa-trash"],[1,"btn","btn-success"],[1,"fa-solid","fa-pen-to-square"]],template:function(r,s){r&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),U(4,"Translation Logs"),F(),P(5,"button",3),U(6,"Translate"),F()(),P(7,"table",4)(8,"thead")(9,"tr")(10,"th",5),U(11,"Word"),F(),P(12,"th",5),U(13,"Translation"),F(),P(14,"th",5),U(15,"Actions"),F()()(),P(16,"tbody"),Se(17,x7,11,2,"tr",6),Ft(18,"async"),F()()()()),r&2&&(G(17),ee("ngForOf",Lt(18,1,s.translations$)))},dependencies:[ii,An],styles:[".box[_ngcontent-%COMP%]{background-color:#fff;border-radius:1rem;padding:1rem}"]});let t=e;return t})();var Pe=ac({source:"section",events:{"Get All Sections":Bn(),"Get Sections Success":It(),"Get Sections Failure":It(),"Create Section":It(),"Creation Success":It(),"Creation Failure":It(),"Delete Section":It(),"Delete Success":Bn(),"Delete Failure":It(),"Get All Teachers":Bn(),"Get All Teachers Success":It(),"Get All Teachers Failure":It()}});var N7={isLoading:!1,sections:[],error:null,teachers:[]},P7=cc({name:"section",reducer:uc(N7,Ke(Pe.getAllSections,t=>Q(R({},t),{isLoading:!0})),Ke(Pe.getSectionsSuccess,(t,e)=>Q(R({},t),{isLoading:!1,sections:e.sections})),Ke(Pe.getSectionsFailure,(t,e)=>Q(R({},t),{isLoading:!1,error:e.message})),Ke(Pe.creationSuccess,t=>Q(R({},t),{isLoading:!1})),Ke(Pe.creationFailure,(t,e)=>Q(R({},t),{isLoading:!1,error:e.message})),Ke(Pe.deleteSection,t=>Q(R({},t),{isLoading:!0})),Ke(Pe.deleteSuccess,t=>Q(R({},t),{isLoading:!1})),Ke(Pe.deleteFailure,(t,e)=>Q(R({},t),{isLoading:!1,error:e.message})),Ke(Pe.getAllTeachers,t=>Q(R({},t),{isLoading:!0})),Ke(Pe.getAllTeachersSuccess,(t,e)=>Q(R({},t),{isLoading:!1,teachers:e.data})),Ke(Pe.getAllTeachersFailure,(t,e)=>Q(R({},t),{isLoading:!1,error:e.message})))}),{name:yF,reducer:vF,selectIsLoading:ag,selectSections:wF,selectError:cg,selectTeachers:bF}=P7;var Te=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Te||{}),rr="*";function EF(t,e){return{type:Te.Trigger,name:t,definitions:e,options:{}}}function mT(t,e=null){return{type:Te.Animate,styles:e,timings:t}}function IF(t,e=null){return{type:Te.Sequence,steps:t,options:e}}function ta(t){return{type:Te.Style,styles:t,offset:null}}function lg(t,e,n){return{type:Te.State,name:t,styles:e,options:n}}function gT(t,e,n=null){return{type:Te.Transition,expr:t,animation:e,options:n}}var Ws=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},_d=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},ug="!";function TF(t){return new j(3e3,!1)}function k7(){return new j(3100,!1)}function F7(){return new j(3101,!1)}function L7(t){return new j(3001,!1)}function V7(t){return new j(3003,!1)}function B7(t){return new j(3004,!1)}function j7(t,e){return new j(3005,!1)}function U7(){return new j(3006,!1)}function $7(){return new j(3007,!1)}function H7(t,e){return new j(3008,!1)}function G7(t){return new j(3002,!1)}function z7(t,e,n,i,r){return new j(3010,!1)}function q7(){return new j(3011,!1)}function W7(){return new j(3012,!1)}function K7(){return new j(3200,!1)}function Q7(){return new j(3202,!1)}function Y7(){return new j(3013,!1)}function J7(t){return new j(3014,!1)}function Z7(t){return new j(3015,!1)}function X7(t){return new j(3016,!1)}function eQ(t,e){return new j(3404,!1)}function tQ(t){return new j(3502,!1)}function nQ(t){return new j(3503,!1)}function iQ(){return new j(3300,!1)}function rQ(t){return new j(3504,!1)}function sQ(t){return new j(3301,!1)}function oQ(t,e){return new j(3302,!1)}function aQ(t){return new j(3303,!1)}function cQ(t,e){return new j(3400,!1)}function lQ(t){return new j(3401,!1)}function uQ(t){return new j(3402,!1)}function dQ(t,e){return new j(3505,!1)}function Ks(t){switch(t.length){case 0:return new Ws;case 1:return t[0];default:return new _d(t)}}function VF(t,e,n=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==o,f=d&&a||new Map;c.forEach((m,_)=>{let v=_,E=m;if(_!=="offset")switch(v=t.normalizePropertyName(v,r),E){case ug:E=n.get(_);break;case rr:E=i.get(_);break;default:E=t.normalizeStyleValue(_,v,E,r);break}f.set(v,E)}),d||s.push(f),a=f,o=u}),r.length)throw tQ(r);return s}function BT(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&_T(n,"start",t)));break;case"done":t.onDone(()=>i(n&&_T(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&_T(n,"destroy",t)));break}}function _T(t,e,n){let i=n.totalTime,r=!!n.disabled,s=jT(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),o=t._data;return o!=null&&(s._data=o),s}function jT(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Gn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function DF(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var hQ=typeof document>"u"?null:document.documentElement;function UT(t){let e=t.parentNode||t.host||null;return e===hQ?null:e}function fQ(t){return t.substring(1,6)=="ebkit"}var na=null,SF=!1;function pQ(t){na||(na=mQ()||{},SF=na.style?"WebkitAppearance"in na.style:!1);let e=!0;return na.style&&!fQ(t)&&(e=t in na.style,!e&&SF&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in na.style)),e}function mQ(){return typeof document<"u"?document.body:null}function BF(t,e){for(;e;){if(e===t)return!0;e=UT(e)}return!1}function jF(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var $T=(()=>{let e=class e{validateStyleProperty(i){return pQ(i)}matchesElement(i,r){return!1}containsElement(i,r){return BF(i,r)}getParentElement(i){return UT(i)}query(i,r,s){return jF(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,c=[],u){return new Ws(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),qT=class qT{};qT.NOOP=new $T;var sa=qT,oa=class{};var gQ=1e3,UF="{{",_Q="}}",$F="ng-enter",IT="ng-leave",dg="ng-trigger",gg=".ng-trigger",CF="ng-animating",TT=".ng-animating";function Hr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:DT(parseFloat(e[1]),e[2])}function DT(t,e){switch(e){case"s":return t*gQ;default:return t}}function _g(t,e,n){return t.hasOwnProperty("duration")?t:yQ(t,e,n)}function yQ(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(TF(t)),{duration:0,delay:0,easing:""};r=DT(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=DT(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(k7()),a=!0),s<0&&(e.push(F7()),a=!0),a&&e.splice(c,0,TF(t))}return{duration:r,delay:s,easing:o}}function vQ(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function sr(t,e,n){e.forEach((i,r)=>{let s=HT(r);n&&!n.has(r)&&n.set(r,t.style[s]),t.style[s]=i})}function ra(t,e){e.forEach((n,i)=>{let r=HT(i);t.style[r]=""})}function yd(t){return Array.isArray(t)?t.length==1?t[0]:IF(t):t}function wQ(t,e,n){let i=e.params||{},r=HF(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(L7(s))})}var ST=new RegExp(`${UF}\\s*(.+?)\\s*${_Q}`,"g");function HF(t){let e=[];if(typeof t=="string"){let n;for(;n=ST.exec(t);)e.push(n[1]);ST.lastIndex=0}return e}function wd(t,e,n){let i=`${t}`,r=i.replace(ST,(s,o)=>{let a=e[o];return a==null&&(n.push(V7(o)),a=""),a.toString()});return r==i?t:r}var bQ=/-+([a-z0-9])/g;function HT(t){return t.replace(bQ,(...e)=>e[1].toUpperCase())}function EQ(t,e){return t===0||e===0}function IQ(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,GT(t,a)))}}return e}function Hn(t,e,n){switch(e.type){case Te.Trigger:return t.visitTrigger(e,n);case Te.State:return t.visitState(e,n);case Te.Transition:return t.visitTransition(e,n);case Te.Sequence:return t.visitSequence(e,n);case Te.Group:return t.visitGroup(e,n);case Te.Animate:return t.visitAnimate(e,n);case Te.Keyframes:return t.visitKeyframes(e,n);case Te.Style:return t.visitStyle(e,n);case Te.Reference:return t.visitReference(e,n);case Te.AnimateChild:return t.visitAnimateChild(e,n);case Te.AnimateRef:return t.visitAnimateRef(e,n);case Te.Query:return t.visitQuery(e,n);case Te.Stagger:return t.visitStagger(e,n);default:throw B7(e.type)}}function GT(t,e){return window.getComputedStyle(t)[e]}var TQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yg=class extends oa{normalizePropertyName(e,n){return HT(e)}normalizeStyleValue(e,n,i,r){let s="",o=i.toString().trim();if(TQ.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(j7(e,i))}return o+s}};var vg="*";function DQ(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>SQ(i,n,e)):n.push(t),n}function SQ(t,e,n){if(t[0]==":"){let c=CQ(t,n);if(typeof c=="function"){e.push(c);return}t=c}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(Z7(t)),e;let r=i[1],s=i[2],o=i[3];e.push(AF(r,o));let a=r==vg&&o==vg;s[0]=="<"&&!a&&e.push(AF(o,r))}function CQ(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(X7(t)),"* => *"}}var hg=new Set(["true","1"]),fg=new Set(["false","0"]);function AF(t,e){let n=hg.has(t)||fg.has(t),i=hg.has(e)||fg.has(e);return(r,s)=>{let o=t==vg||t==r,a=e==vg||e==s;return!o&&n&&typeof r=="boolean"&&(o=r?hg.has(t):fg.has(t)),!a&&i&&typeof s=="boolean"&&(a=s?hg.has(e):fg.has(e)),o&&a}}var GF=":self",AQ=new RegExp(`s*${GF}s*,?`,"g");function zF(t,e,n,i){return new CT(t).build(e,n,i)}var MF="",CT=class{constructor(e){this._driver=e}build(e,n,i){let r=new AT(n);return this._resetContextStyleTimingState(r),Hn(this,yd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=MF,e.collectedStyles=new Map,e.collectedStyles.set(MF,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(U7()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Te.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,s.push(this.visitState(c,n))}),c.name=u}else if(a.type==Te.Transition){let c=this.visitTransition(a,n);i+=c.queryCount,r+=c.depCount,o.push(c)}else n.errors.push($7())}),{type:Te.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{HF(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&n.errors.push(H7(e.name,[...s.values()]))}return{type:Te.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Hn(this,yd(e.animation),n),r=DQ(e.expr,n.errors);return{type:Te.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:ia(e.options)}}visitSequence(e,n){return{type:Te.Sequence,steps:e.steps.map(i=>Hn(this,i,n)),options:ia(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,s=e.steps.map(o=>{n.currentTime=i;let a=Hn(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:Te.Group,steps:s,options:ia(e.options)}}visitAnimate(e,n){let i=xQ(e.timings,n.errors);n.currentAnimateTimings=i;let r,s=e.styles?e.styles:ta({});if(s.type==Te.Keyframes)r=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};i.easing&&(u.easing=i.easing),o=ta(u)}n.currentTime+=i.duration+i.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:Te.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===rr?i.push(a):n.errors.push(G7(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(UF)>=0){s=!0;break}}}),{type:Te.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),d=u.get(c),f=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(n.errors.push(z7(c,d.startTime,d.endTime,s,r)),f=!1),s=d.startTime),f&&u.set(c,{startTime:s,endTime:r}),n.options&&wQ(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Te.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(q7()),i;let r=1,s=0,o=[],a=!1,c=!1,u=0,d=e.steps.map(k=>{let H=this._makeStyleAst(k,n),J=H.offset!=null?H.offset:OQ(H.styles),$=0;return J!=null&&(s++,$=H.offset=J),c=c||$<0||$>1,a=a||$<u,u=$,o.push($),H});c&&n.errors.push(W7()),a&&n.errors.push(K7());let f=e.steps.length,m=0;s>0&&s<f?n.errors.push(Q7()):s==0&&(m=r/(f-1));let _=f-1,v=n.currentTime,E=n.currentAnimateTimings,S=E.duration;return d.forEach((k,H)=>{let J=m>0?H==_?1:m*H:o[H],$=J*S;n.currentTime=v+E.delay+$,E.duration=$,this._validateStyleAst(k,n),k.offset=J,i.styles.push(k)}),i}visitReference(e,n){return{type:Te.Reference,animation:Hn(this,yd(e.animation),n),options:ia(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Te.AnimateChild,options:ia(e.options)}}visitAnimateRef(e,n){return{type:Te.AnimateRef,animation:this.visitReference(e.animation,n),options:ia(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=MQ(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,Gn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Hn(this,yd(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Te.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ia(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Y7());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_g(e.timings,n.errors,!0);return{type:Te.Stagger,animation:Hn(this,yd(e.animation),n),timings:i,options:null}}};function MQ(t){let e=!!t.split(/\s*,\s*/).find(n=>n==GF);return e&&(t=t.replace(AQ,"")),t=t.replace(/@\*/g,gg).replace(/@\w+/g,n=>gg+"-"+n.slice(1)).replace(/:animating/g,TT),[t,e]}function RQ(t){return t?R({},t):null}var AT=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function OQ(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function xQ(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=_g(t,e).duration;return yT(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=yT(0,0,"");return s.dynamic=!0,s.strValue=n,s}let r=_g(n,e);return yT(r.duration,r.delay,r.easing)}function ia(t){return t?(t=R({},t),t.params&&(t.params=RQ(t.params))):t={},t}function yT(t,e,n){return{duration:t,delay:e,easing:n}}function zT(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var bd=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},NQ=1,PQ=":enter",kQ=new RegExp(PQ,"g"),FQ=":leave",LQ=new RegExp(FQ,"g");function qF(t,e,n,i,r,s=new Map,o=new Map,a,c,u=[]){return new MT().buildKeyframes(t,e,n,i,r,s,o,a,c,u)}var MT=class{buildKeyframes(e,n,i,r,s,o,a,c,u,d=[]){u=u||new bd;let f=new RT(e,n,u,r,s,d,[]);f.options=c;let m=c.delay?Hr(c.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([o],null,f.errors,c),Hn(this,i,f);let _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let E=_.length-1;E>=0;E--){let S=_[E];if(S.element===n){v=S;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,c)}return _.length?_.map(v=>v.buildKeyframes()):[zT(n,[],[],[],0,m,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Hr(wd(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?Hr(i.duration):null,a=i.delay!=null?Hr(i.delay):null;return o!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Hn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,s=e.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Te.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wg);let o=Hr(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Hn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Hr(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Hn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?wd(i,n.params,n.errors):i;return _g(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Te.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},s=r.delay?Hr(r.delay):0;s&&(n.previousNode.type===Te.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=wg);let o=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{n.currentQueryIndex=d;let f=n.createSubContext(e.options,u);s&&f.delayNextStep(s),u===n.element&&(c=f.currentTimeline),Hn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;o=Math.max(o,m)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let d=n.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;Hn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},wg={},RT=class t{constructor(e,n,i,r,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new bg(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Hr(i.duration)),i.delay!=null&&(r.delay=Hr(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=wd(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,s=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=wg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new OT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(kQ,"."+this._enterClassName),e=e.replace(LQ,"."+this._leaveClassName);let c=i!=1,u=this._driver.query(this.element,e,c);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&a.length==0&&o.push(J7(n)),a}},bg=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=NQ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||rr),this._currentKeyframe.set(n,rr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=VQ(e,this._globalTimelineStyles);for(let[a,c]of o){let u=wd(c,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??rr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===ug?e.add(f):d===rr&&n.add(f)}),i||u.set("offset",c/this.duration),r.push(u)});let s=[...e.values()],o=[...n.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return zT(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},OT=class extends bg{constructor(e,n,i,r,s,o,a=!1){super(e,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let u=new Map(e[0]);u.set("offset",RF(a)),s.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),_=m.get("offset"),v=n+_*i;m.set("offset",RF(v/o)),s.push(m)}i=o,n=0,r="",e=s}return zT(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function RF(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function VQ(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)n.set(s,rr)}else for(let[s,o]of r)n.set(s,o)}),n}function OF(t,e,n,i,r,s,o,a,c,u,d,f,m){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:m}}var vT={},Eg=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return BQ(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,s,o,a,c,u,d){let f=[],m=this.ast.options&&this.ast.options.params||vT,_=a&&a.params||vT,v=this.buildStyles(i,_,f),E=c&&c.params||vT,S=this.buildStyles(r,E,f),k=new Set,H=new Map,J=new Map,$=r==="void",ae={params:WF(E,m),delay:this.ast.options?.delay},q=d?[]:qF(e,n,this.ast.animation,s,o,v,S,ae,u,f),T=0;return q.forEach(y=>{T=Math.max(y.duration+y.delay,T)}),f.length?OF(n,this._triggerName,i,r,$,v,S,[],[],H,J,T,f):(q.forEach(y=>{let w=y.element,D=Gn(H,w,new Set);y.preStyleProps.forEach(M=>D.add(M));let C=Gn(J,w,new Set);y.postStyleProps.forEach(M=>C.add(M)),w!==n&&k.add(w)}),OF(n,this._triggerName,i,r,$,v,S,q,[...k.values()],H,J,T))}};function BQ(t,e,n,i,r){return t.some(s=>s(e,n,i,r))}function WF(t,e){let n=R({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var xT=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=WF(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=wd(o,r,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),i.set(a,o)})}),i}};function jQ(t,e,n){return new NT(t,e,n)}var NT=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new xT(r.style,s,i))}),xF(this.states,"true","1"),xF(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new Eg(e,r,this.states))}),this.fallbackTransition=UQ(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(o=>o.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function UQ(t,e,n){let i=[(o,a)=>!0],r={type:Te.Sequence,steps:[],options:null},s={type:Te.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Eg(t,s,e)}function xF(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var $Q=new bd,PT=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],s=zF(this._driver,n,i,r);if(i.length)throw nQ(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,i){let r=e.element,s=VF(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=qF(this._driver,n,s,$F,IT,new Map,new Map,i,$Q,r),o.forEach(d=>{let f=Gn(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(iQ()),o=[]),r.length)throw rQ(r);a.forEach((d,f)=>{d.forEach((m,_)=>{d.set(_,this._driver.computeStyle(f,_,rr))})});let c=o.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Ks(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw sQ(e);return n}listen(e,n,i,r){let s=jT(n,"","","");return BT(this._getPlayer(e),i,s,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},NF="ng-animate-queued",HQ=".ng-animate-queued",wT="ng-animate-disabled",GQ=".ng-animate-disabled",zQ="ng-star-inserted",qQ=".ng-star-inserted",WQ=[],KF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bi="__ng_removed",Ed=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=YQ(r),i){let s=e,{value:o}=s,a=AS(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},vd="void",bT=new Ed(vd),kT=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ai(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw oQ(i,n);if(i==null||i.length==0)throw aQ(n);if(!JQ(i))throw cQ(i,n);let s=Gn(this._elementListeners,e,[]),o={name:n,phase:i,callback:r};s.push(o);let a=Gn(this._engine.statesByElement,e,new Map);return a.has(n)||(ai(e,dg),ai(e,dg+"-"+n),a.set(n,bT)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw lQ(e);return n}trigger(e,n,i,r=!0){let s=this._getTrigger(n),o=new Id(this.id,n,e),a=this._engine.statesByElement.get(e);a||(ai(e,dg),ai(e,dg+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new Ed(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=bT),!(u.value===vd)&&c.value===u.value){if(!eY(c.params,u.params)){let E=[],S=s.matchStyles(c.value,c.params,E),k=s.matchStyles(u.value,u.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{ra(e,S),sr(e,k)})}return}let m=Gn(this._engine.playersByElement,e,[]);m.forEach(E=>{E.namespaceId==this.id&&E.triggerName==n&&E.queued&&E.destroy()});let _=s.matchTransition(c.value,u.value,e,u.params),v=!1;if(!_){if(!r)return;_=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:u,player:o,isFallbackTransition:v}),v||(ai(e,NF),o.onStart(()=>{Zc(e,NF)})),o.onDone(()=>{let E=this.players.indexOf(o);E>=0&&this.players.splice(E,1);let S=this._engine.playersByElement.get(e);if(S){let k=S.indexOf(o);k>=0&&S.splice(k,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,gg,!0);i.forEach(r=>{if(r[bi])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,vd,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),i&&Ks(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let c=this._triggers.get(o).fallbackTransition,u=i.get(o)||bT,d=new Ed(vd),f=new Id(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let s=e[bi];(!s||s===KF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){ai(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let c=jT(s,i.triggerName,i.fromState.value,i.toState.value);c._data=e,BT(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},FT=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new kT(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let u=i.indexOf(c);i.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}}return n}trigger(e,n,i,r){if(pg(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!pg(n))return;let s=n[bi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ai(e,wT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Zc(e,wT))}removeNode(e,n,i){if(pg(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,s){this.collectedLeaveElements.push(n),n[bi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,r,s){return pg(n)?this._fetchNamespace(e).listen(n,i,r,s):()=>{}}_buildInstruction(e,n,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,gg,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,TT,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ks(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[bi];if(n&&n.setForRemoval){if(e[bi]=KF,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(wT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,GQ,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ai(r,zQ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Ks(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw uQ(e)}_flushAnimations(e,n){let i=new bd,r=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(te=>{d.add(te);let se=this.driver.query(te,HQ,!0);for(let ce=0;ce<se.length;ce++)d.add(se[ce])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=FF(m,this.collectedEnterElements),v=new Map,E=0;_.forEach((te,se)=>{let ce=$F+E++;v.set(se,ce),te.forEach(Oe=>ai(Oe,ce))});let S=[],k=new Set,H=new Set;for(let te=0;te<this.collectedLeaveElements.length;te++){let se=this.collectedLeaveElements[te],ce=se[bi];ce&&ce.setForRemoval&&(S.push(se),k.add(se),ce.hasAnimation?this.driver.query(se,qQ,!0).forEach(Oe=>k.add(Oe)):H.add(se))}let J=new Map,$=FF(m,Array.from(k));$.forEach((te,se)=>{let ce=IT+E++;J.set(se,ce),te.forEach(Oe=>ai(Oe,ce))}),e.push(()=>{_.forEach((te,se)=>{let ce=v.get(se);te.forEach(Oe=>Zc(Oe,ce))}),$.forEach((te,se)=>{let ce=J.get(se);te.forEach(Oe=>Zc(Oe,ce))}),S.forEach(te=>{this.processLeaveNode(te)})});let ae=[],q=[];for(let te=this._namespaceList.length-1;te>=0;te--)this._namespaceList[te].drainQueuedTransitions(n).forEach(ce=>{let Oe=ce.player,St=ce.element;if(ae.push(Oe),this.collectedEnterElements.length){let yt=St[bi];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(ce.triggerName)){let cr=yt.previousTriggersValues.get(ce.triggerName),In=this.statesByElement.get(ce.element);if(In&&In.has(ce.triggerName)){let lr=In.get(ce.triggerName);lr.value=cr,In.set(ce.triggerName,lr)}}Oe.destroy();return}}let qn=!f||!this.driver.containsElement(f,St),_t=J.get(St),nt=v.get(St),it=this._buildInstruction(ce,i,nt,_t,qn);if(it.errors&&it.errors.length){q.push(it);return}if(qn){Oe.onStart(()=>ra(St,it.fromStyles)),Oe.onDestroy(()=>sr(St,it.toStyles)),r.push(Oe);return}if(ce.isFallbackTransition){Oe.onStart(()=>ra(St,it.fromStyles)),Oe.onDestroy(()=>sr(St,it.toStyles)),r.push(Oe);return}let Wr=[];it.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||Wr.push(yt)}),it.timelines=Wr,i.append(St,it.timelines);let Vg={instruction:it,player:Oe,element:St};o.push(Vg),it.queriedElements.forEach(yt=>Gn(a,yt,[]).push(Oe)),it.preStyleProps.forEach((yt,cr)=>{if(yt.size){let In=c.get(cr);In||c.set(cr,In=new Set),yt.forEach((lr,Kr)=>In.add(Kr))}}),it.postStyleProps.forEach((yt,cr)=>{let In=u.get(cr);In||u.set(cr,In=new Set),yt.forEach((lr,Kr)=>In.add(Kr))})});if(q.length){let te=[];q.forEach(se=>{te.push(dQ(se.triggerName,se.errors))}),ae.forEach(se=>se.destroy()),this.reportError(te)}let T=new Map,y=new Map;o.forEach(te=>{let se=te.element;i.has(se)&&(y.set(se,se),this._beforeAnimationBuild(te.player.namespaceId,te.instruction,T))}),r.forEach(te=>{let se=te.element;this._getPreviousPlayers(se,!1,te.namespaceId,te.triggerName,null).forEach(Oe=>{Gn(T,se,[]).push(Oe),Oe.destroy()})});let w=S.filter(te=>LF(te,c,u)),D=new Map;kF(D,this.driver,H,u,rr).forEach(te=>{LF(te,c,u)&&w.push(te)});let M=new Map;_.forEach((te,se)=>{kF(M,this.driver,new Set(te),c,ug)}),w.forEach(te=>{let se=D.get(te),ce=M.get(te);D.set(te,new Map([...se?.entries()??[],...ce?.entries()??[]]))});let b=[],zn=[],qr={};o.forEach(te=>{let{element:se,player:ce,instruction:Oe}=te;if(i.has(se)){if(d.has(se)){ce.onDestroy(()=>sr(se,Oe.toStyles)),ce.disabled=!0,ce.overrideTotalTime(Oe.totalTime),r.push(ce);return}let St=qr;if(y.size>1){let _t=se,nt=[];for(;_t=_t.parentNode;){let it=y.get(_t);if(it){St=it;break}nt.push(_t)}nt.forEach(it=>y.set(it,St))}let qn=this._buildAnimation(ce.namespaceId,Oe,T,s,M,D);if(ce.setRealPlayer(qn),St===qr)b.push(ce);else{let _t=this.playersByElement.get(St);_t&&_t.length&&(ce.parentPlayer=Ks(_t)),r.push(ce)}}else ra(se,Oe.fromStyles),ce.onDestroy(()=>sr(se,Oe.toStyles)),zn.push(ce),d.has(se)&&r.push(ce)}),zn.forEach(te=>{let se=s.get(te.element);if(se&&se.length){let ce=Ks(se);te.setRealPlayer(ce)}}),r.forEach(te=>{te.parentPlayer?te.syncPlayerEvents(te.parentPlayer):te.destroy()});for(let te=0;te<S.length;te++){let se=S[te],ce=se[bi];if(Zc(se,IT),ce&&ce.hasAnimation)continue;let Oe=[];if(a.size){let qn=a.get(se);qn&&qn.length&&Oe.push(...qn);let _t=this.driver.query(se,TT,!0);for(let nt=0;nt<_t.length;nt++){let it=a.get(_t[nt]);it&&it.length&&Oe.push(...it)}}let St=Oe.filter(qn=>!qn.destroyed);St.length?ZQ(this,se,St):this.processLeaveNode(se)}return S.length=0,b.forEach(te=>{this.players.push(te),te.onDone(()=>{te.destroy();let se=this.players.indexOf(te);this.players.splice(se,1)}),te.play()}),b}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==vd;a.forEach(u=>{u.queued||!c&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let u=c.element,d=u!==s,f=Gn(i,u,[]);this._getPreviousPlayers(u,d,o,a,n.toState).forEach(_=>{let v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}ra(s,n.fromStyles)}_buildAnimation(e,n,i,r,s,o){let a=n.triggerName,c=n.element,u=[],d=new Set,f=new Set,m=n.timelines.map(v=>{let E=v.element;d.add(E);let S=E[bi];if(S&&S.removedBeforeQueried)return new Ws(v.duration,v.delay);let k=E!==c,H=XQ((i.get(E)||WQ).map(T=>T.getRealPlayer())).filter(T=>{let y=T;return y.element?y.element===E:!1}),J=s.get(E),$=o.get(E),ae=VF(this._normalizer,v.keyframes,J,$),q=this._buildPlayer(v,ae,H);if(v.subTimeline&&r&&f.add(E),k){let T=new Id(e,a,E);T.setRealPlayer(q),u.push(T)}return q});u.forEach(v=>{Gn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>QQ(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>ai(v,CF));let _=Ks(m);return _.onDestroy(()=>{d.forEach(v=>Zc(v,CF)),sr(c,n.toStyles)}),f.forEach(v=>{Gn(r,v,[]).push(_)}),_}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Ws(e.duration,e.delay)}},Id=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Ws,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>BT(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Gn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function QQ(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function YQ(t){return t??null}function pg(t){return t&&t.nodeType===1}function JQ(t){return t=="start"||t=="done"}function PF(t,e){let n=t.style.display;return t.style.display=e??"none",n}function kF(t,e,n,i,r){let s=[];n.forEach(c=>s.push(PF(c)));let o=[];i.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let m=e.computeStyle(u,f,r);d.set(f,m),(!m||m.length==0)&&(u[bi]=KQ,o.push(u))}),t.set(u,d)});let a=0;return n.forEach(c=>PF(c,s[a++])),o}function FF(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let c=s.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:r.has(u)?c=i:c=o(u),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==i&&n.get(c).push(a)}),n}function ai(t,e){t.classList?.add(e)}function Zc(t,e){t.classList?.remove(e)}function ZQ(t,e,n){Ks(n).onDone(()=>t.processLeaveNode(e))}function XQ(t){let e=[];return QF(t,e),e}function QF(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof _d?QF(i.players,e):e.push(i)}}function eY(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function LF(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(s=>r.add(s)):e.set(t,i),n.delete(t),!0}var el=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new FT(e.body,n,i,r),this._timelineEngine=new PT(e.body,n,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let c=[],u=[],d=zF(this._driver,s,c,u);if(c.length)throw eQ(r,c);u.length&&void 0,a=jQ(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[s,o]=DF(i),a=r;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=DF(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function tY(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=ET(e[0]),e.length>1&&(i=ET(e[e.length-1]))):e instanceof Map&&(n=ET(e)),n||i?new LT(t,n,i):null}var Xc=class Xc{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=Xc.initialStylesByElement.get(e);r||Xc.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sr(this._element,this._initialStyles),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Xc.initialStylesByElement.delete(this._element),this._startStyles&&(ra(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ra(this._element,this._endStyles),this._endStyles=null),sr(this._element,this._initialStyles),this._state=3)}};Xc.initialStylesByElement=new WeakMap;var LT=Xc;function ET(t){let e=null;return t.forEach((n,i)=>{nY(i)&&(e=e||new Map,e.set(i,n))}),e}function nY(t){return t==="display"||t==="position"}var Ig=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:GT(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Tg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return BF(e,n)}getParentElement(e){return UT(e)}query(e,n,i){return jF(e,n,i)}computeStyle(e,n,i){return GT(e,n)}animate(e,n,i,r,s,o=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};s&&(c.easing=s);let u=new Map,d=o.filter(_=>_ instanceof Ig);EQ(i,r)&&d.forEach(_=>{_.currentSnapshot.forEach((v,E)=>u.set(E,v))});let f=vQ(n).map(_=>new Map(_));f=IQ(e,f,u);let m=tY(e,f);return new Ig(e,f,c,m)}};var mg="@",YF="@.disabled",Dg=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==mg&&n==YF?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},VT=class extends Dg{constructor(e,n,i,r,s){super(n,i,r,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==mg?n.charAt(1)=="."&&n==YF?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==mg){let r=iY(e),s=n.slice(1),o="";return s.charAt(0)!=mg&&([s,o]=rY(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,n,i)}};function iY(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function rY(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var Sg=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,d=u.get(r);if(!d){let f=()=>u.delete(r);d=new Dg(i,r,this.engine,f),u.set(r,d)}return d}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new VT(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var oY=(()=>{let e=class e extends el{constructor(i,r,s){super(i,r,s,N(Va,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(x(ot),x(sa),x(oa))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function aY(){return new yg}function cY(t,e,n){return new Sg(t,e,n)}var ZF=[{provide:oa,useFactory:aY},{provide:el,useClass:oY},{provide:mo,useFactory:cY,deps:[jf,el,fe]}],JF=[{provide:sa,useFactory:()=>new Tg},{provide:xv,useValue:"BrowserAnimations"},...ZF],lY=[{provide:sa,useClass:$T},{provide:xv,useValue:"NoopAnimations"},...ZF],XF=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?lY:JF}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({providers:JF,imports:[$f]});let t=e;return t})();var uY={isLoading:!1,admin:void 0,error:null},dY=cc({name:"login",reducer:uc(uY,Ke(Je.login,t=>Q(R({},t),{isLoading:!0})),Ke(Je.loginSuccess,(t,e)=>Q(R({},t),{isLoading:!1,admin:e.currentUser})),Ke(Je.loginFailed,(t,e)=>Q(R({},t),{isLoading:!1,errors:e.message})),Ke(Je.signOut,t=>Q(R({},t),{isLoading:!0})),Ke(Je.signSuccess,t=>Q(R({},t),{isLoading:!1,admin:void 0})),Ke(Je.signFailed,t=>Q(R({},t),{isLoading:!1})))}),{name:eL,reducer:tL,selectIsLoading:nL,selectAdmin:Cg,selectError:iL}=dY;function hY(t,e){if(t&1){let n=_n();on(0),P(1,"div",1)(2,"div",2),_e(3,"img",3),P(4,"h3",4),U(5,"Welcome to Isaom"),F(),P(6,"form",5),Be("submit",function(){rn(n);let r=Re();return sn(r.login())}),P(7,"div",6),_e(8,"input",7),P(9,"label",8),U(10,"Email"),F()(),P(11,"div",6),_e(12,"input",9),P(13,"label",10),U(14,"Password"),F()(),P(15,"button",11),U(16," Forgot Password? "),F(),P(17,"button",12),_e(18,"span",13),P(19,"span",14),U(20),F()()()()(),an()}if(t&2){let n=e.ngIf,i=Re();G(2),Fi("width","300px"),G(4),ee("formGroup",i.loginForm$),G(11),ee("disabled",n.isLoading),G(),ee("hidden",!n.isLoading),G(2),st(n.isLoading?"Logging in...":"Login")}}var rL=(()=>{let e=class e{constructor(i,r,s){this.store=i,this.router=r,this.fb=s,this.loginState$=Tn({isLoading:this.store.select(nL),admin:this.store.select(Cg),errors:this.store.select(iL)}),this.loginForm$=s.nonNullable.group({email:["",[$n.required,$n.email]],password:["",$n.required]})}ngOnDestroy(){}ngOnInit(){}login(){this.loginForm$.valid&&this.store.dispatch(Je.login(this.loginForm$.getRawValue()))}forgotPassword(i){}};e.\u0275fac=function(r){return new(r||e)(W(pt),W(vn),W(Yc))},e.\u0275cmp=He({type:e,selectors:[["app-login"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","vh-100",2,"background-color","var(--primary)"],[1,"d-flex","flex-column","align-items-center","justify-content-center","gap-3","mw-50"],["src","../../../../assets/images/logo.png","alt","logo",1,"img-fluid","mb-3",2,"max-height","80px"],[1,"text-primary","text-center"],[1,"w-100","gap-3",3,"submit","formGroup"],[1,"form-floating","mb-3","w-100"],["formControlName","email","id","email","type","email","placeholder","Email",1,"form-control"],["for","email"],["formControlName","password","id","password","type","password","placeholder","Password",1,"form-control"],["for","password"],["type","button",1,"btn","text-primary","mb-3","align-self-end","p-0"],["type","submit",1,"btn","btn-primary","btn-lg","rounded-pill","w-100",3,"disabled"],["aria-hidden","true",1,"spinner-grow","spinner-grow-sm","me-3",3,"hidden"],["role","status"]],template:function(r,s){r&1&&(Se(0,hY,21,6,"ng-container",0),Ft(1,"async")),r&2&&ee("ngIf",Lt(1,1,s.loginState$))},dependencies:[yn,Qc,zs,Wc,Kc,Zo,Xo,An]});let t=e;return t})();var fY=t=>({collapsed:t});function pY(t,e){if(t&1&&(P(0,"li",14)(1,"a"),_e(2,"i",15),U(3),F()()),t&2){let n=e.$implicit;ee("routerLink",n.route),G(2),ee("ngClass",n.selectedIcon),G(),lt(" ",n.name,"")}}function mY(t,e){if(t&1){let n=_n();on(0),P(1,"div",1)(2,"div",2),_e(3,"img",3),P(4,"div",4)(5,"ul"),Se(6,pY,4,3,"li",5),F()()(),P(7,"div",6)(8,"div",7)(9,"button",8),Be("click",function(){rn(n);let r=Re();return sn(r.expand())}),_e(10,"i",9),F(),P(11,"div",10),_e(12,"img",11),P(13,"h6",12),U(14),F()()(),P(15,"div",13),_e(16,"router-outlet"),F()()(),an()}if(t&2){let n=e.ngIf,i=Re();G(2),ee("ngClass",Cf(4,fY,i.isExpanded$)),G(4),ee("ngForOf",i.menuItems$),G(6),ee("src",n.profile!==""?n.profile:"../../../../assets/images/profile.jpg",$a),G(2),st(n.name)}}var sL=(()=>{let e=class e{ngOnInit(){this.store.dispatch(Pe.getAllSections()),this.menuItems$.push(),this.detectScreenSizes()}expand(){this.isExpanded$=!this.isExpanded$}detectScreenSizes(){let i=window.matchMedia("(min-width: 992px)").matches;this.isExpanded$=!i}onResize(i){this.detectScreenSizes()}constructor(i){this.store=i,this.isExpanded$=!1,this.menuItems$=[{name:"Dashboard",route:"dashboard",selectedIcon:"fa-solid fa-house",unselectedIcon:"fa-regular fa-house"},{name:"Section",route:"section",selectedIcon:"fa-solid fa-layer-group",unselectedIcon:"fa-regular fa-layer-group"},{name:"Users",route:"users",selectedIcon:"fa-solid fa-users",unselectedIcon:"fa-regular fa-users"},{name:"Student Report",route:"student-report",selectedIcon:"fa-solid fa-book",unselectedIcon:"fa-regular fa-book"},{name:"Lessons",route:"lessons",selectedIcon:"fa-solid fa-book",unselectedIcon:"fa-regular fa-book"},{name:"Logs",route:"logs",selectedIcon:"fa-solid fa-clipboard-list",unselectedIcon:"fa-solid fa-clipboard-list"}],this.admin$=this.store.select(Cg)}};e.\u0275fac=function(r){return new(r||e)(W(pt))},e.\u0275cmp=He({type:e,selectors:[["app-main"]],hostBindings:function(r,s){r&1&&Be("resize",function(a){return s.onResize(a)},!1,CA)},decls:2,vars:3,consts:[[4,"ngIf"],[1,"d-flex","align-items-stretch","vh-100",2,"background-color","var(--primary)"],[1,"align-self-stretch","overflow-auto","sidebar","d-flex","flex-column","align-items-center","gap-3",3,"ngClass"],["src","../../../../assets/images/logo.png","alt","logo","width","80px","height","80px","routerLink","dashboard"],[1,"navigation"],["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],[1,"flex-grow-1","overflow-hidden","d-flex","flex-column",2,"background-color","var(--background)"],[1,"d-flex","align-items-center","justify-content-between","p-2","bg-white","shadow-sm"],[1,"btn","btn-light","btn-lg",3,"click"],[1,"fa-solid","fa-bars"],[1,"d-flex","gap-3","align-items-center","justify-content-center"],["width","40px","height","40px","alt","profile",1,"rounded-circle",3,"src"],[1,"text-muted","fw-normal"],[1,"flex-grow-1","overflow-y-auto"],["routerLinkActive","active",3,"routerLink"],[1,"me-3",3,"ngClass"]],template:function(r,s){r&1&&(Se(0,mY,17,6,"ng-container",0),Ft(1,"async")),r&2&&ee("ngIf",Lt(1,1,s.admin$))},dependencies:[KM,ii,yn,vu,sp,GR,An],styles:[".sidebar[_ngcontent-%COMP%]{width:300px;transition:width .3s ease-in-out;padding:1rem}.sidebar.collapsed[_ngcontent-%COMP%]{padding:0;width:0;overflow:hidden}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:space-between}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;padding:0px 1rem}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:0;padding:0}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#d3d3d3;font-size:medium;font-weight:400;cursor:pointer;padding:10px 1rem;text-decoration:none;transition:background-color .2s ease}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#000;border-radius:10px}.navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary)}"]});let t=e;return t})();var gY=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:rL},{path:"main",component:sL,loadChildren:()=>import("./chunk-IWYUFOJI.js").then(t=>t.MainRoutingModule)}],oL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({imports:[rc.forRoot(gY),rc]});let t=e;return t})();var aL=(()=>{let e=class e{constructor(i){this.store=i,this.title="isaom-web"}ngOnInit(){this.store.dispatch(Je.getCurrentUser())}};e.\u0275fac=function(r){return new(r||e)(W(pt))},e.\u0275cmp=He({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&_e(0,"router-outlet")},dependencies:[vu],styles:[".col-fixed[_ngcontent-%COMP%]{width:60px;transition:width .3s ease}"]});let t=e;return t})();var fL="firebasestorage.googleapis.com",_Y="storageBucket",yY=2*60*1e3,vY=10*60*1e3;var or=class t extends wn{constructor(e,n,i=0){super(WT(e),`Firebase Storage: ${n} (${WT(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return WT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},zr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(zr||{});function WT(t){return"storage/"+t}function wY(){let t="An unknown error occurred, please check the error payload for server response.";return new or(zr.UNKNOWN,t)}function bY(){return new or(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EY(){return new or(zr.CANCELED,"User canceled the upload/download.")}function IY(t){return new or(zr.INVALID_URL,"Invalid URL '"+t+"'.")}function TY(t){return new or(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cL(t){return new or(zr.INVALID_ARGUMENT,t)}function pL(){return new or(zr.APP_DELETED,"The Firebase app was deleted.")}function DY(t){return new or(zr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Gr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw TY(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function s($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u($){$.path_=decodeURIComponent($.path)}let d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${d}/b/${r}/o${m}`,"i"),v={bucket:1,path:3},E=n===fL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",k=new RegExp(`^https?://${E}/${r}/${S}`,"i"),J=[{regex:a,indices:c,postModify:s},{regex:_,indices:v,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let $=0;$<J.length;$++){let ae=J[$],q=ae.regex.exec(e);if(q){let T=q[ae.indices.bucket],y=q[ae.indices.path];y||(y=""),i=new t(T,y),ae.postModify(i);break}}if(i==null)throw IY(e);return i}},KT=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function SY(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function f(S){r=setTimeout(()=>{r=null,t(_,c())},S)}function m(){s&&clearTimeout(s)}function _(S,...k){if(u){m();return}if(S){m(),d.call(null,S,...k);return}if(c()||o){m(),d.call(null,S,...k);return}i<64&&(i*=2);let J;a===1?(a=2,J=0):J=(i+Math.random())*1e3,f(J)}let v=!1;function E(S){v||(v=!0,m(),!u&&(r!==null?(S||(a=2),clearTimeout(r),f(0)):S||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function CY(t){t(!1)}function AY(t){return t!==void 0}function lL(t,e,n,i){if(i<e)throw cL(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw cL(`Invalid value for '${t}'. Expected ${n} or less.`)}function MY(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var QT=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(QT||{});function RY(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}var YT=class{constructor(e,n,i,r,s,o,a,c,u,d,f,m=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,v)=>{this.resolve_=_,this.reject_=v,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new tl(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===QT.NO_ERROR,c=s.getStatus();if(!a||RY(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===QT.ABORT;i(!1,new tl(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;i(!0,new tl(u,s))})},n=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());AY(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=wY();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(r.canceled){let c=this.appDelete_?pL():EY();o(c)}else{let c=bY();o(c)}};this.canceled_?n(!1,new tl(!1,null,!0)):this.backoffId_=SY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},tl=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function OY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kY(t,e,n,i,r,s,o=!0){let a=MY(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return NY(u,e),OY(u,n),xY(u,s),PY(u,i),new YT(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function FY(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LY(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var upe=256*1024;var JT=class t{constructor(e,n){this._service=e,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LY(this._location.path)}get storage(){return this._service}get parent(){let e=FY(this._location.path);if(e===null)return null;let n=new Gr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DY(e)}};function uL(t,e){let n=e?.[_Y];return n==null?null:Gr.makeFromBucketSpec(n,t)}function VY(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:_p(r,t.app.options.projectId))}var ZT=class{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=fL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yY,this._maxUploadRetryTime=vY,this._requests=new Set,r!=null?this._bucket=Gr.makeFromBucketSpec(r,this._host):this._bucket=uL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=uL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return I(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return I(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new JT(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new KT(pL());{let o=kY(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return I(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},dL="@firebase/storage",hL="0.12.6";var mL="storage";function gL(t=Ms(),e){t=ut(t);let i=Mo(t,mL).getImmediate({identifier:e}),r=gp("storage");return r&&_L(i,...r),i}function _L(t,e,n,i={}){VY(t,e,n,i)}function BY(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new ZT(n,i,r,e,qi)}function jY(){Gi(new Mn(mL,BY,"PUBLIC").setMultipleInstances(!0)),dt(dL,hL,""),dt(dL,hL,"esm2017")}jY();var Td=class{constructor(e){return e}},yL="storage",XT=class{constructor(){return Oo(yL)}};var eD=new V("angularfire2.storage-instances");function UY(t,e){let n=mc(yL,t,e);return n&&new Td(n)}function $Y(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Td(i)}}var HY={provide:XT,deps:[[new Rt,eD]]},GY={provide:Td,useFactory:UY,deps:[[new Rt,eD],_i]};function vL(t,...e){return dt("angularfire",xr.full,"gcs"),nn([GY,HY,{provide:eD,useFactory:$Y(t),multi:!0,deps:[fe,Ye,Os,Nr,[new Rt,Lo],[new Rt,Rs],...e]}])}var wL=mt(gL,!0);var bL={projectId:"isaom-dd242",appId:"1:1093266505221:web:5e0f8217880d209435666c",storageBucket:"isaom-dd242.appspot.com",apiKey:"AIzaSyCQMGwI2Ojfci47XJ9Qsi07SGKl-jvP3jY",authDomain:"isaom-dd242.firebaseapp.com",messagingSenderId:"1093266505221"};var EL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({imports:[Ka,ng]});let t=e;return t})();var Sd="PERFORM_ACTION",zY="REFRESH",AL="RESET",ML="ROLLBACK",RL="COMMIT",OL="SWEEP",xL="TOGGLE_ACTION",qY="SET_ACTIONS_ACTIVE",NL="JUMP_TO_STATE",PL="JUMP_TO_ACTION",fD="IMPORT_STATE",kL="LOCK_CHANGES",FL="PAUSE_RECORDING",nl=class{constructor(e,n){if(this.action=e,this.timestamp=n,this.type=Sd,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},tD=class{constructor(){this.type=zY}},nD=class{constructor(e){this.timestamp=e,this.type=AL}},iD=class{constructor(e){this.timestamp=e,this.type=ML}},rD=class{constructor(e){this.timestamp=e,this.type=RL}},sD=class{constructor(){this.type=OL}},oD=class{constructor(e){this.id=e,this.type=xL}};var aD=class{constructor(e){this.index=e,this.type=NL}},cD=class{constructor(e){this.actionId=e,this.type=PL}},lD=class{constructor(e){this.nextLiftedState=e,this.type=fD}},uD=class{constructor(e){this.status=e,this.type=kL}},dD=class{constructor(e){this.status=e,this.type=FL}};var Og=new V("@ngrx/store-devtools Options"),IL=new V("@ngrx/store-devtools Initial Config");function LL(){return null}var WY="NgRx Store DevTools";function KY(t){let e={maxAge:!1,monitor:LL,actionSanitizer:void 0,stateSanitizer:void 0,name:WY,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},n=typeof t=="function"?t():t,i=n.logOnly?{pause:!0,export:!0,test:!0}:!1,r=n.features||i||e.features;r.import===!0&&(r.import="custom");let s=Object.assign({},e,{features:r},n);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}function TL(t,e){return t.filter(n=>e.indexOf(n)<0)}function VL(t){let{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){let{state:r}=e[e.length-1];return r}let{state:i}=e[n];return i}function Dd(t){return new nl(t,+Date.now())}function QY(t,e){return Object.keys(e).reduce((n,i)=>{let r=Number(i);return n[r]=BL(t,e[r],r),n},{})}function BL(t,e,n){return Q(R({},e),{action:t(e.action,n)})}function YY(t,e){return e.map((n,i)=>({state:jL(t,n.state,i),error:n.error}))}function jL(t,e,n){return t(e,n)}function UL(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function JY(t,e,n,i){let r=[],s={},o=[];return t.stagedActionIds.forEach((a,c)=>{let u=t.actionsById[a];u&&(c&&pD(t.computedStates[c],u,e,n,i)||(s[a]=u,r.push(a),o.push(t.computedStates[c])))}),Q(R({},t),{stagedActionIds:r,actionsById:s,computedStates:o})}function pD(t,e,n,i,r){let s=n&&!n(t,e.action),o=i&&!e.action.type.match(i.map(c=>DL(c)).join("|")),a=r&&e.action.type.match(r.map(c=>DL(c)).join("|"));return s||o||a}function DL(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $L(t){return{ngZone:t?N(fe):null,connectInZone:t}}var xg=(()=>{let e=class e extends ji{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pn(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Ag={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},hD=new V("@ngrx/store-devtools Redux Devtools Extension"),HL=(()=>{let e=class e{constructor(i,r,s){this.config=r,this.dispatcher=s,this.zoneConfig=$L(this.config.connectInZone),this.devtoolsExtension=i,this.createActionStreams()}notify(i,r){if(this.devtoolsExtension)if(i.type===Sd){if(r.isLocked||r.isPaused)return;let s=VL(r);if(UL(this.config)&&pD(s,i,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?jL(this.config.stateSanitizer,s,r.currentStateIndex):s,a=this.config.actionSanitizer?BL(this.config.actionSanitizer,i,r.nextActionId):i;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,o))}else{let s=Q(R({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?QY(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?YY(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,s,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ie(i=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(s=>i.next(s)),r.unsubscribe}):ht}createActionStreams(){let i=this.createChangesObservable().pipe(B_()),r=i.pipe(qe(d=>d.type===Ag.START)),s=i.pipe(qe(d=>d.type===Ag.STOP)),o=i.pipe(qe(d=>d.type===Ag.DISPATCH),Y(d=>this.unwrapAction(d.payload)),Si(d=>d.type===fD?this.dispatcher.pipe(qe(f=>f.type===hp),A_(1e3),O_(1e3),Y(()=>d),et(()=>Z(d)),At(1)):Z(d))),c=i.pipe(qe(d=>d.type===Ag.ACTION),Y(d=>this.unwrapAction(d.payload))).pipe(bt(s)),u=o.pipe(bt(s));this.start$=r.pipe(bt(s)),this.actions$=this.start$.pipe(Mt(()=>c)),this.liftedActions$=this.start$.pipe(Mt(()=>u))}unwrapAction(i){return typeof i=="string"?(0,eval)(`(${i})`):i}getExtensionConfig(i){let r={name:i.name,features:i.features,serialize:i.serialize,autoPause:i.autoPause??!1,trace:i.trace??!1,traceLimit:i.traceLimit??75};return i.maxAge!==!1&&(r.maxAge=i.maxAge),r}sendToReduxDevtools(i){try{i()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}};e.\u0275fac=function(r){return new(r||e)(x(hD),x(Og),x(xg))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Rg={type:Cu},ZY="@ngrx/store-devtools/recompute",XY={type:ZY};function GL(t,e,n,i,r){if(i)return{state:n,error:"Interrupted by an error up the chain"};let s=n,o;try{s=t(n,e)}catch(a){o=a.toString(),r.handleError(a)}return{state:s,error:o}}function Mg(t,e,n,i,r,s,o,a,c){if(e>=t.length&&t.length===s.length)return t;let u=t.slice(0,e),d=s.length-(c?1:0);for(let f=e;f<d;f++){let m=s[f],_=r[m].action,v=u[f-1],E=v?v.state:i,S=v?v.error:void 0,H=o.indexOf(m)>-1?v:GL(n,_,E,S,a);u.push(H)}return c&&u.push(t[t.length-1]),u}function eJ(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:Dd(Rg)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function tJ(t,e,n,i,r={}){return s=>(o,a)=>{let{monitorState:c,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:_,currentStateIndex:v,computedStates:E,isLocked:S,isPaused:k}=o||e;o||(u=Object.create(u));function H(ae){let q=ae,T=f.slice(1,q+1);for(let y=0;y<T.length;y++)if(E[y+1].error){q=y,T=f.slice(1,q+1);break}else delete u[T[y]];m=m.filter(y=>T.indexOf(y)===-1),f=[0,...f.slice(q+1)],_=E[q].state,E=E.slice(q),v=v>q?v-q:0}function J(){u={0:Dd(Rg)},d=1,f=[0],m=[],_=E[v].state,v=0,E=[]}let $=0;switch(a.type){case kL:{S=a.status,$=1/0;break}case FL:{k=a.status,k?(f=[...f,d],u[d]=new nl({type:"@ngrx/devtools/pause"},+Date.now()),d++,$=f.length-1,E=E.concat(E[E.length-1]),v===f.length-2&&v++,$=1/0):J();break}case AL:{u={0:Dd(Rg)},d=1,f=[0],m=[],_=t,v=0,E=[];break}case RL:{J();break}case ML:{u={0:Dd(Rg)},d=1,f=[0],m=[],v=0,E=[];break}case xL:{let{id:ae}=a;m.indexOf(ae)===-1?m=[ae,...m]:m=m.filter(T=>T!==ae),$=f.indexOf(ae);break}case qY:{let{start:ae,end:q,active:T}=a,y=[];for(let w=ae;w<q;w++)y.push(w);T?m=TL(m,y):m=[...m,...y],$=f.indexOf(ae);break}case NL:{v=a.index,$=1/0;break}case PL:{let ae=f.indexOf(a.actionId);ae!==-1&&(v=ae),$=1/0;break}case OL:{f=TL(f,m),m=[],v=Math.min(v,f.length-1);break}case Sd:{if(S)return o||e;if(k||o&&pD(o.computedStates[v],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let q=E[E.length-1];E=[...E.slice(0,-1),GL(s,a.action,q.state,q.error,n)],$=1/0;break}r.maxAge&&f.length===r.maxAge&&H(1),v===f.length-1&&v++;let ae=d++;u[ae]=a,f=[...f,ae],$=f.length-1;break}case fD:{({monitorState:c,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:_,currentStateIndex:v,computedStates:E,isLocked:S,isPaused:k}=a.nextLiftedState);break}case Cu:{$=0,r.maxAge&&f.length>r.maxAge&&(E=Mg(E,$,s,_,u,f,m,n,k),H(f.length-r.maxAge),$=1/0);break}case hp:{if(E.filter(q=>q.error).length>0)$=0,r.maxAge&&f.length>r.maxAge&&(E=Mg(E,$,s,_,u,f,m,n,k),H(f.length-r.maxAge),$=1/0);else{if(!k&&!S){v===f.length-1&&v++;let q=d++;u[q]=new nl(a,+Date.now()),f=[...f,q],$=f.length-1,E=Mg(E,$,s,_,u,f,m,n,k)}E=E.map(q=>Q(R({},q),{state:s(q.state,XY)})),v=f.length-1,r.maxAge&&f.length>r.maxAge&&H(f.length-r.maxAge),$=1/0}break}default:{$=1/0;break}}return E=Mg(E,$,s,_,u,f,m,n,k),c=i(c,a),{monitorState:c,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:_,currentStateIndex:v,computedStates:E,isLocked:S,isPaused:k}}}var SL=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,d){let f=eJ(u,d.monitor),m=tJ(u,f,c,d.monitor,d),_=ss(ss(r.asObservable().pipe(Ml(1)),o.actions$).pipe(Y(Dd)),i,o.liftedActions$).pipe(Wn(no)),v=s.pipe(Y(m)),E=$L(d.connectInZone),S=new _a(1);this.liftedStateSubscription=_.pipe(cs(v),CL(E),as(({state:J},[$,ae])=>{let q=ae(J,$);return $.type!==Sd&&UL(d)&&(q=JY(q,d.predicate,d.actionsSafelist,d.actionsBlocklist)),o.notify($,q),{state:q,action:$}},{state:f,action:null})).subscribe(({state:J,action:$})=>{if(S.next(J),$.type===Sd){let ae=$.action;a.next(ae)}}),this.extensionStartSubscription=o.start$.pipe(CL(E)).subscribe(()=>{this.refresh()});let k=S.asObservable(),H=k.pipe(Y(VL));Object.defineProperty(H,"state",{value:Du(H,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=i,this.liftedState=k,this.state=H}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(i){this.dispatcher.next(i)}next(i){this.dispatcher.next(i)}error(i){}complete(){}performAction(i){this.dispatch(new nl(i,+Date.now()))}refresh(){this.dispatch(new tD)}reset(){this.dispatch(new nD(+Date.now()))}rollback(){this.dispatch(new iD(+Date.now()))}commit(){this.dispatch(new rD(+Date.now()))}sweep(){this.dispatch(new sD)}toggleAction(i){this.dispatch(new oD(i))}jumpToAction(i){this.dispatch(new cD(i))}jumpToState(i){this.dispatch(new aD(i))}importState(i){this.dispatch(new lD(i))}lockChanges(i){this.dispatch(new uD(i))}pauseRecording(i){this.dispatch(new dD(i))}};e.\u0275fac=function(r){return new(r||e)(x(xg),x(ji),x(Do),x(HL),x(So),x(Cn),x(Au),x(Og))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function CL({ngZone:t,connectInZone:e}){return n=>e?new ie(i=>n.subscribe({next:r=>t.run(()=>i.next(r)),error:r=>t.run(()=>i.error(r)),complete:()=>t.run(()=>i.complete())})):n}var nJ=new V("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function iJ(t,e){return!!t||e.monitor!==LL}function rJ(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function sJ(t={}){return nn([HL,xg,SL,{provide:IL,useValue:t},{provide:nJ,deps:[hD,Og],useFactory:iJ},{provide:hD,useFactory:rJ},{provide:Og,deps:[IL],useFactory:KY},{provide:oc,deps:[SL],useFactory:oJ},{provide:sc,useExisting:xg}])}function oJ(t){return t.state}var zL=(()=>{let e=class e{static instrument(i={}){return{ngModule:e,providers:[sJ(i)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();var aJ={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Pg="__@ngrx/effects_create__";function at(t,e={}){let n=e.functional?t:t(),i=R(R({},aJ),e);return Object.defineProperty(n,Pg,{value:i}),n}function cJ(t){return Object.getOwnPropertyNames(t).filter(i=>t[i]&&t[i].hasOwnProperty(Pg)?t[i][Pg].hasOwnProperty("dispatch"):!1).map(i=>{let r=t[i][Pg];return R({propertyName:i},r)})}function lJ(t){return cJ(t)}function QL(t){return Object.getPrototypeOf(t)}function uJ(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function YL(t){return typeof t=="function"}function qL(t){return t.filter(YL)}function dJ(t){return t instanceof V||YL(t)}function hJ(t,e,n){let i=QL(t),s=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,o=lJ(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let d=typeof t[a]=="function"?t[a]():t[a],f=u?n(d,e):d;return c===!1?f.pipe(Cl()):f.pipe(F_()).pipe(Y(_=>({effect:t[a],notification:_,propertyName:a,sourceName:s,sourceInstance:t})))});return ss(...o)}var fJ=10;function JL(t,e,n=fJ){return t.pipe(et(i=>(e&&e.handleError(i),n<=1?t:JL(t,e,n-1))))}var il=(()=>{let e=class e extends ie{constructor(i){super(),i&&(this.source=i)}lift(i){let r=new e;return r.source=this,r.operator=i,r}};e.\u0275fac=function(r){return new(r||e)(x(So))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ct(...t){return qe(e=>t.some(n=>typeof n=="string"?n===e.type:n.type===e.type))}var ZL=new V("@ngrx/effects Internal Root Guard"),Ng=new V("@ngrx/effects User Provided Effects"),mD=new V("@ngrx/effects Internal Root Effects"),XL=new V("@ngrx/effects Internal Root Effects Instances"),WL=new V("@ngrx/effects Internal Feature Effects"),eV=new V("@ngrx/effects Internal Feature Effects Instance Groups"),pJ=new V("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>JL}),tV="@ngrx/effects/init",ume=Iw(tV);function mJ(t,e){if(t.notification.kind==="N"){let n=t.notification.value;!gJ(n)&&e.handleError(new Error(`Effect ${_J(t)} dispatched an invalid action: ${yJ(n)}`))}}function gJ(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function _J({propertyName:t,sourceInstance:e,sourceName:n}){let i=typeof e[t]=="function";return!!n?`"${n}.${String(t)}${i?"()":""}"`:`"${String(t)}()"`}function yJ(t){try{return JSON.stringify(t)}catch{return t}}var vJ="ngrxOnIdentifyEffects";function wJ(t){return gD(t,vJ)}var bJ="ngrxOnRunEffects";function EJ(t){return gD(t,bJ)}var IJ="ngrxOnInitEffects";function TJ(t){return gD(t,IJ)}function gD(t,e){return t&&e in t&&typeof t[e]=="function"}var nV=(()=>{let e=class e extends ye{constructor(i,r){super(),this.errorHandler=i,this.effectsErrorHandler=r}addEffects(i){this.next(i)}toActions(){return this.pipe(vh(i=>uJ(i)?QL(i):i),Ve(i=>i.pipe(vh(DJ))),Ve(i=>{let r=i.pipe(jt(o=>SJ(this.errorHandler,this.effectsErrorHandler)(o)),Y(o=>(mJ(o,this.errorHandler),o.notification)),qe(o=>o.kind==="N"&&o.value!=null),N_()),s=i.pipe(At(1),qe(TJ),Y(o=>o.ngrxOnInitEffects()));return ss(r,s)}))}};e.\u0275fac=function(r){return new(r||e)(x(Cn),x(pJ))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DJ(t){return wJ(t)?t.ngrxOnIdentifyEffects():""}function SJ(t,e){return n=>{let i=hJ(n,t,e);return EJ(n)?n.ngrxOnRunEffects(i):i}}var iV=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(i,r){this.effectSources=i,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(x(nV),x(pt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rV=(()=>{let e=class e{constructor(i,r,s,o,a,c,u){this.sources=i,r.start();for(let d of o)i.addEffects(d);s.dispatch({type:tV})}addEffects(i){this.sources.addEffects(i)}};e.\u0275fac=function(r){return new(r||e)(x(nV),x(iV),x(pt),x(XL),x(Mu,8),x(fp,8),x(ZL,8))},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),CJ=(()=>{let e=class e{constructor(i,r,s,o){let a=r.flat();for(let c of a)i.addEffects(c)}};e.\u0275fac=function(r){return new(r||e)(x(rV),x(eV),x(Mu,8),x(fp,8))},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})(),kg=(()=>{let e=class e{static forFeature(...i){let r=i.flat(),s=qL(r);return{ngModule:CJ,providers:[s,{provide:WL,multi:!0,useValue:r},{provide:Ng,multi:!0,useValue:[]},{provide:eV,multi:!0,useFactory:KL,deps:[WL,Ng]}]}}static forRoot(...i){let r=i.flat(),s=qL(r);return{ngModule:rV,providers:[s,{provide:mD,useValue:[r]},{provide:ZL,useFactory:AJ},{provide:Ng,multi:!0,useValue:[]},{provide:XL,useFactory:KL,deps:[mD,Ng]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({});let t=e;return t})();function KL(t,e){let n=[];for(let i of t)n.push(...i);for(let i of e)n.push(...i);return n.map(i=>dJ(i)?N(i):i)}function AJ(){let t=N(iV,{optional:!0,skipSelf:!0}),e=N(mD,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var yD={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e}};var sV="administrator",oV=(()=>{let e=class e{constructor(i,r){this.auth=i,this.firestore=r}login(i,r){return ve(Qx(this.auth,i,r)).pipe(Mt(s=>{let o=ir(this.firestore,sV,s.user.uid).withConverter(yD);return eT(o)}))}getCurrentUser(){return Wx(this.auth).pipe(Mt(i=>{if(i!==null){let r=ir(this.firestore,sV,i?.uid??"").withConverter(yD);return eT(r)}return Z(null)}))}logout(){return ve(Yx(this.auth))}};e.\u0275fac=function(r){return new(r||e)(x(Fo),x(En))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aV=["toast-component",""];function RJ(t,e){if(t&1){let n=_n();P(0,"button",5),Be("click",function(){rn(n);let r=Re();return sn(r.remove())}),P(1,"span",6),U(2,"\xD7"),F()()}}function OJ(t,e){if(t&1&&(on(0),U(1),an()),t&2){let n=Re(2);G(),lt("[",n.duplicatesCount+1,"]")}}function xJ(t,e){if(t&1&&(P(0,"div"),U(1),Se(2,OJ,2,1,"ng-container",4),F()),t&2){let n=Re();Fn(n.options.titleClass),gn("aria-label",n.title),G(),lt(" ",n.title," "),G(),ee("ngIf",n.duplicatesCount)}}function NJ(t,e){if(t&1&&_e(0,"div",7),t&2){let n=Re();Fn(n.options.messageClass),ee("innerHTML",n.message,Fv)}}function PJ(t,e){if(t&1&&(P(0,"div",8),U(1),F()),t&2){let n=Re();Fn(n.options.messageClass),gn("aria-label",n.message),G(),lt(" ",n.message," ")}}function kJ(t,e){if(t&1&&(P(0,"div"),_e(1,"div",9),F()),t&2){let n=Re();G(),Fi("width",n.width()+"%")}}function FJ(t,e){if(t&1){let n=_n();P(0,"button",5),Be("click",function(){rn(n);let r=Re();return sn(r.remove())}),P(1,"span",6),U(2,"\xD7"),F()()}}function LJ(t,e){if(t&1&&(on(0),U(1),an()),t&2){let n=Re(2);G(),lt("[",n.duplicatesCount+1,"]")}}function VJ(t,e){if(t&1&&(P(0,"div"),U(1),Se(2,LJ,2,1,"ng-container",4),F()),t&2){let n=Re();Fn(n.options.titleClass),gn("aria-label",n.title),G(),lt(" ",n.title," "),G(),ee("ngIf",n.duplicatesCount)}}function BJ(t,e){if(t&1&&_e(0,"div",7),t&2){let n=Re();Fn(n.options.messageClass),ee("innerHTML",n.message,Fv)}}function jJ(t,e){if(t&1&&(P(0,"div",8),U(1),F()),t&2){let n=Re();Fn(n.options.messageClass),gn("aria-label",n.message),G(),lt(" ",n.message," ")}}function UJ(t,e){if(t&1&&(P(0,"div"),_e(1,"div",9),F()),t&2){let n=Re();G(),Fi("width",n.width()+"%")}}var vD=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},wD=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},bD=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ye;_activate=new ye;_manualClose=new ye;_resetTimeout=new ye;_countDuplicate=new ye;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},rl=class{toastId;config;message;title;toastType;toastRef;_onTap=new ye;_onAction=new ye;constructor(e,n,i,r,s,o){this.toastId=e,this.config=n,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},cV={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},lV=new V("ToastConfig"),ED=class extends wD{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,i){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=i}attachComponentPortal(e,n){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},$J=(()=>{class t{_document=N(ot);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ID=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},HJ=(()=>{class t{_overlayContainer=N($J);_componentFactoryResolver=N(Ga);_appRef=N(ti);_document=N(ot);_paneElements=new Map;create(n,i){return this._createOverlayRef(this.getPaneElement(n,i))}getPaneElement(n="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[n]||(this._paneElements.get(i)[n]=this._createPaneElement(n,i)),this._paneElements.get(i)[n]}_createPaneElement(n,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(n),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(n){return new ED(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new ID(this._createPortalHost(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ar=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=R(R({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=R(R({},n.default.iconClasses),n.config.iconClasses))}show(n,i,r={},s=""){return this._preBuildNotification(s,n,i,this.applyConfig(r))}success(n,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}error(n,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}info(n,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}warning(n,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}clear(n){for(let i of this.toasts)if(n!==void 0){if(i.toastId===n){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(n){let i=this._findToast(n);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(n="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(n={}){return R(R({},this.toastrConfig),n)}_findToast(n){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===n)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(n,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,i,r,s)):this._buildNotification(n,i,r,s)}_buildNotification(n,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&s.enableHtml&&(u=this.sanitizer.sanitize(kn.HTML,i));let d=new bD(c),f=new rl(this.index,s,u,r,n,d),m=[{provide:rl,useValue:f}],_=Ye.create({providers:m,parent:this._injector}),v=new vD(s.toastComponent,_),E=c.attach(v,s.newestOnTop);d.componentInstance=E.instance;let S={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:E};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{S.toastRef.activate()})),this.toasts.push(S),S}static \u0275fac=function(i){return new(i||t)(x(lV),x(HJ),x(Ye),x(tu),x(fe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GJ=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=_s(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=_s({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>Q(R({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>Q(R({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>Q(R({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),i)):this.timeout=setTimeout(()=>n(),i)}outsideInterval(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),i)):this.intervalId=setInterval(()=>n(),i)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(i){return new(i||t)(W(ar),W(rl),W(fe))};static \u0275cmp=He({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&Be("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(n0("@flyInOut",r._state),Fn(r.toastClasses),Fi("display",r.displayStyle))},standalone:!0,features:[Ar],attrs:aV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&Se(0,RJ,3,0,"button",0)(1,xJ,3,5,"div",1)(2,NJ,1,3,"div",2)(3,PJ,2,4,"div",3)(4,kJ,2,2,"div",4),i&2&&(ee("ngIf",r.options.closeButton),G(),ee("ngIf",r.title),G(),ee("ngIf",r.message&&r.options.enableHtml),G(),ee("ngIf",r.message&&!r.options.enableHtml),G(),ee("ngIf",r.options.progressBar))},dependencies:[yn],encapsulation:2,data:{animation:[EF("flyInOut",[lg("inactive",ta({opacity:0})),lg("active",ta({opacity:1})),lg("removed",ta({opacity:0})),gT("inactive => active",mT("{{ easeTime }}ms {{ easing }}")),gT("active => removed",mT("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),zJ=Q(R({},cV),{toastComponent:GJ}),qJ=(t={})=>nn([{provide:lV,useValue:{default:zJ,config:t}}]),uV=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[qJ(n)]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=ue({type:t});static \u0275inj=le({})}return t})();var WJ=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=_s(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=_s("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||t)(W(ar),W(rl),W(ti))};static \u0275cmp=He({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&Be("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Fn(r.toastClasses),Fi("display",r.displayStyle))},standalone:!0,features:[Ar],attrs:aV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&Se(0,FJ,3,0,"button",0)(1,VJ,3,5,"div",1)(2,BJ,1,3,"div",2)(3,jJ,2,4,"div",3)(4,UJ,2,2,"div",4),i&2&&(ee("ngIf",r.options.closeButton),G(),ee("ngIf",r.title),G(),ee("ngIf",r.message&&r.options.enableHtml),G(),ee("ngIf",r.message&&!r.options.enableHtml),G(),ee("ngIf",r.options.progressBar))},dependencies:[yn],encapsulation:2,changeDetection:0})}return t})(),Mme=Q(R({},cV),{toastComponent:WJ});var dV=(()=>{let e=class e{constructor(i,r,s,o){this.actions$=i,this.authService=r,this.router=s,this.toastr=o,this.loginEffect=at(()=>this.actions$.pipe(ct(Je.login),jt(({email:a,password:c})=>this.authService.login(a,c).pipe(Y(u=>Je.loginSuccess({currentUser:u})),et(u=>(console.log(u),Z(Je.loginFailed({message:u.message.toString()})))))))),this.loginSuccess=at(()=>this.actions$.pipe(ct(Je.loginSuccess),hn(1e3),Ne(({currentUser:a})=>{a?(this.toastr.success("Successfully Logged in!"),this.router.navigate(["main"])):(this.toastr.error("unknown error"),this.router.navigate(["login"]))})),{functional:!0,dispatch:!1}),this.loginFailed=at(()=>this.actions$.pipe(ct(Je.loginFailed),Ne(({message:a})=>{a!==null&&this.toastr.error(a),this.router.navigate(["login"])})),{functional:!0,dispatch:!1}),this.getCurrentUserEffect=at(()=>this.actions$.pipe(ct(Je.getCurrentUser),jt(()=>this.authService.getCurrentUser().pipe(hn(1e3),Y(a=>a!==null?Je.loginSuccess({currentUser:a}):Je.loginFailed({message:null})),et(a=>(console.log(a),Z(Je.loginFailed({message:a.message})))))))),this.signOut=at(()=>this.actions$.pipe(ct(Je.signOut),jt(()=>this.authService.logout().pipe(Y(a=>Je.signSuccess()),et(a=>Z(Je.signFailed())))))),this.signOutSuccess=at(()=>this.actions$.pipe(ct(Je.signSuccess),Ne(()=>{this.router.navigate(["login"])})),{functional:!0,dispatch:!1}),this.signOutFailed=at(()=>this.actions$.pipe(ct(Je.signFailed),Ne(()=>{})),{functional:!0,dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(x(il),x(oV),x(vn),x(ar))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var hV=(()=>{let e=class e{constructor(i,r,s,o){this.actions$=i,this.sectionService=r,this.usersService=s,this.toastr=o,this.getSectionsEffect=at(()=>this.actions$.pipe(ct(Pe.getAllSections),jt(()=>this.sectionService.getAllSectionWithTeacher().pipe(Y(a=>(console.log(a),Pe.getSectionsSuccess({sections:a}))),et(a=>Z(Pe.getSectionsFailure({message:a.message.toString()}))))))),this.getAllTeachersEffect=at(()=>this.actions$.pipe(ct(Pe.getAllTeachers),jt(()=>this.usersService.getAllTeachers().pipe(Y(a=>(console.log(a),Pe.getAllTeachersSuccess({data:a}))),et(a=>Z(Pe.getAllTeachersFailure({message:a.message.toString()}))))))),this.createSectionEffect=at(()=>this.actions$.pipe(ct(Pe.createSection),jt(({section:a,teacherID:c})=>this.sectionService.createSection(a,c).pipe(Y(()=>Pe.creationSuccess({section:a})),et(u=>Z(Pe.creationFailure({message:u.message.toString()}))))))),this.creationSuccess=at(()=>this.actions$.pipe(ct(Pe.creationSuccess),hn(1e3),Ne(({section:a})=>{this.toastr.success("Successfully Added!")})),{functional:!0,dispatch:!1}),this.creationFailuire=at(()=>this.actions$.pipe(ct(Pe.creationFailure),hn(1e3),Ne(({message:a})=>{this.toastr.success(a)})),{functional:!0,dispatch:!1}),this.deleteSectionEffect=at(()=>this.actions$.pipe(ct(Pe.deleteSection),jt(({id:a})=>this.sectionService.deleteSection(a).pipe(Y(()=>Pe.deleteSuccess()),et(c=>Z(Pe.deleteFailure({message:c.message.toString()}))))))),this.deleteSuccess=at(()=>this.actions$.pipe(ct(Pe.deleteSuccess),hn(1e3),Ne(()=>{this.toastr.success("Successfully Deleted!")})),{functional:!0,dispatch:!1}),this.deleteFailed=at(()=>this.actions$.pipe(ct(Pe.deleteFailure),hn(1e3),Ne(({message:a})=>{this.toastr.success(a)})),{functional:!0,dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(x(il),x(rk),x(Gm),x(ar))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var Qe=ac({source:"lessons",events:{"Get Lessons":Bn(),"Get Lessons Success":It(),"Get Lessons Failed":It(),"Add Lesson":It(),"Add Lesson Success":Bn(),"Add Lesson Failed":It(),"Delete Lesson":It(),"Delete Lesson Success":Bn(),"Delete Lesson Failed":It()}});var KJ={isLoading:!1,lessons:[],error:null},QJ=cc({name:"lesson",reducer:uc(KJ,Ke(Qe.getLessons,t=>Q(R({},t),{isLoading:!0,error:null})),Ke(Qe.getLessonsSuccess,(t,e)=>Q(R({},t),{isLoading:!1,lessons:e.data})),Ke(Qe.getLessonsFailed,(t,e)=>Q(R({},t),{isLoading:!1,error:e.message})),Ke(Qe.addLesson,(t,e)=>Q(R({},t),{isLoading:!0})),Ke(Qe.addLessonSuccess,(t,e)=>Q(R({},t),{isLoading:!1})),Ke(Qe.addLessonFailed,(t,e)=>Q(R({},t),{isLoading:!1,error:e.message})),Ke(Qe.deleteLesson,(t,e)=>Q(R({},t),{isLoading:!0})),Ke(Qe.deleteLessonSuccess,(t,e)=>Q(R({},t),{isLoading:!1})),Ke(Qe.deleteLessonFailed,(t,e)=>Q(R({},t),{isLoading:!1,error:e.message})))}),{name:fV,reducer:pV,selectIsLoading:mV,selectLessons:gV,selectError:_V}=QJ;var yV=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.store=r,this.toastr=s,this.activeModal=N(qs),this.lessonForm$=i.nonNullable.group({title:["",$n.required],desc:["",$n.required],videoId:["",$n.required]})}createLesson(){let i=this.lessonForm$.value,r={id:Lg(),title:i.title??"",desc:i.desc??"",videoId:i.videoId??"",createdAt:new Date};if(this.lessonForm$.invalid){this.toastr.error("Please fill up all form");return}this.store.dispatch(Qe.addLesson({lesson:r}))}};e.\u0275fac=function(r){return new(r||e)(W(Yc),W(pt),W(ar))},e.\u0275cmp=He({type:e,selectors:[["app-create-lessons"]],decls:22,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"w-100",3,"submit","formGroup"],[1,"form-floating","mb-3"],["id","title","formControlName","title","type","text",1,"form-control"],["for","title"],["id","desc","formControlName","desc","type","desc",1,"form-control"],["for","desc"],["id","videoId","formControlName","videoId","type","videoId",1,"form-control"],["for","videoId"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(r,s){r&1&&(P(0,"div",0)(1,"h6",1),U(2,"Create Lessons"),F()(),P(3,"div",2)(4,"form",3),Be("submit",function(){return s.createLesson()}),P(5,"div",4),_e(6,"input",5),P(7,"label",6),U(8,"Enter Lesson Title"),F()(),P(9,"div",4),_e(10,"input",7),P(11,"label",8),U(12,"Enter Description"),F()(),P(13,"div",4),_e(14,"input",9),P(15,"label",10),U(16,"Enter Youtube Video ID"),F()(),P(17,"div",11)(18,"button",12),Be("click",function(){return s.activeModal.close()}),U(19," Cancel "),F(),P(20,"button",13),U(21," Save Section "),F()()()()),r&2&&(G(4),ee("formGroup",s.lessonForm$),G(16),ee("disabled",s.lessonForm$.invalid))},dependencies:[Qc,zs,Wc,Kc,Zo,Xo]});let t=e;return t})();function YJ(t,e){if(t&1&&(P(0,"div"),U(1),F()),t&2){let n=Re().ngIf;G(),st(n.error)}}function JJ(t,e){if(t&1){let n=_n();P(0,"div",6)(1,"div",7)(2,"div",8),_e(3,"iframe",9),F(),P(4,"div",10)(5,"div",11)(6,"h2"),U(7),F(),P(8,"p"),U(9),F()(),P(10,"button",12),Be("click",function(){let r=rn(n).$implicit,s=Re(3);return sn(s.delete(r.id))}),_e(11,"i",13),F()()()()}if(t&2){let n=e.$implicit,i=Re(3);G(3),ee("src",i.getSanitizedUrl(n.videoId),Lv),G(4),st(n.title),G(2),st(n.desc)}}function ZJ(t,e){if(t&1&&(P(0,"div")(1,"div",4),Se(2,JJ,12,3,"div",5),F()()),t&2){let n=Re().ngIf;G(2),ee("ngForOf",n.lessons)}}function XJ(t,e){if(t&1&&(P(0,"div"),Se(1,YJ,2,1,"div",3)(2,ZJ,3,1,"div",3),F()),t&2){let n=e.ngIf;G(),ee("ngIf",n.error),G(),ee("ngIf",n.lessons)}}var vV=(()=>{let e=class e{constructor(i,r){this.store=i,this.sanitizer=r,this.modalService=N(md),this.lessonState$=Tn({isLoading:this.store.select(mV),lessons:this.store.select(gV),error:this.store.select(_V)})}ngOnInit(){this.store.dispatch(Qe.getLessons())}addLesson(){let i=this.modalService.open(yV)}delete(i){this.store.dispatch(Qe.deleteLesson({id:i}))}getSanitizedUrl(i){let o=`https://www.youtube.com/embed/${i}?autoplay=0`;return this.sanitizer.bypassSecurityTrustResourceUrl(o)}};e.\u0275fac=function(r){return new(r||e)(W(pt),W(tu))},e.\u0275cmp=He({type:e,selectors:[["app-sign-language-lessons"]],decls:8,vars:3,consts:[[1,"container-fluid","p-3"],[1,"d-flex","align-items-center","justify-content-between","p-3"],[1,"btn","btn-dark",3,"click"],[4,"ngIf"],[1,"row","row-cols-3","g-2","p-3"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","container-fluid"],[1,"ratio","ratio-16x9"],["width","100%","height","100%","frameborder","0","allow"," autoplay; clipboard-write; encrypted-media;  picture-in-picture","allowfullscreen","",1,"rounded-3",3,"src"],[1,"d-flex","gap-2","p-3","align-items-center"],[1,"flex-grow-1"],[1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash"]],template:function(r,s){r&1&&(P(0,"div",0)(1,"div",1)(2,"h4"),U(3,"Lessons"),F(),P(4,"button",2),Be("click",function(){return s.addLesson()}),U(5,"ADD LESSON"),F()(),Se(6,XJ,3,2,"div",3),Ft(7,"async"),F()),r&2&&(G(6),ee("ngIf",Lt(7,1,s.lessonState$)))},dependencies:[ii,yn,An],styles:[".video-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background:#000}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"],changeDetection:0});let t=e;return t})();var wV={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e}};var TD="sign-language-lessons",bV=(()=>{let e=class e{constructor(i){this.firestore=i}addSignLanguageLesson(i){return ve(nk(ir(this.firestore,TD,i.id),i))}getAllSignLanguageLessons(){let i=oi(On(this.firestore,TD).withConverter(wV),Yo("createdAt","desc"));return Qo(i)}deleteSignLanguageLesson(i){return ve($m(ir(this.firestore,TD,i)))}};e.\u0275fac=function(r){return new(r||e)(x(En))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EV=(()=>{let e=class e{constructor(i,r,s){this.actions$=i,this.signLanguageService=r,this.toastr=s,this.getLessonsEffect=at(()=>this.actions$.pipe(ct(Qe.getLessons),jt(()=>this.signLanguageService.getAllSignLanguageLessons().pipe(Y(o=>Qe.getLessonsSuccess({data:o})),et(o=>Z(Qe.getLessonsFailed({message:o.message.toString()}))))))),this.createLessonEffecct=at(()=>this.actions$.pipe(ct(Qe.addLesson),jt(({lesson:o})=>this.signLanguageService.addSignLanguageLesson(o).pipe(Y(()=>Qe.addLessonSuccess()),et(a=>Z(Qe.addLessonFailed({message:a.message.toString()}))))))),this.addLessonSuccess=at(()=>this.actions$.pipe(ct(Qe.addLessonSuccess),hn(1e3),Ne(()=>{this.toastr.success("Successfully Added!")})),{functional:!0,dispatch:!1}),this.creationFailuire=at(()=>this.actions$.pipe(ct(Qe.addLessonFailed),hn(1e3),Ne(({message:o})=>{this.toastr.success(o)})),{functional:!0,dispatch:!1}),this.deleteLessonEffect=at(()=>this.actions$.pipe(ct(Qe.deleteLesson),jt(({id:o})=>this.signLanguageService.deleteSignLanguageLesson(o).pipe(Y(()=>Qe.deleteLessonSuccess()),et(a=>Z(Qe.deleteLessonFailed({message:a.message.toString()}))))))),this.deleteLessonSuccess=at(()=>this.actions$.pipe(ct(Qe.deleteLessonSuccess),hn(1e3),Ne(()=>{this.toastr.success("Successfully Deleted!")})),{functional:!0,dispatch:!1}),this.deleteLessonFailure=at(()=>this.actions$.pipe(ct(Qe.deleteLessonFailed),hn(1e3),Ne(({message:o})=>{this.toastr.error(o)})),{functional:!0,dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(x(il),x(bV),x(ar))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var TV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({imports:[Ka,IV,ng,og,lc.forFeature(yF,vF),lc.forFeature(fV,pV),kg.forFeature([hV,EV])]});let t=e;return t})();var f_e=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e,bootstrap:[aL]}),e.\u0275inj=le({providers:[KO(()=>QO(bL)),qx(()=>Kx()),XP(()=>tk()),vL(()=>wL())],imports:[$f,XF,oL,EL,TV,lc.forRoot(),lc.forFeature(eL,tL),kg.forRoot([dV]),zL.instrument({maxAge:25,logOnly:!Jl(),autoPause:!0,trace:!1,traceLimit:75,connectInZone:!0}),og,uV.forRoot()]});let t=e;return t})();function Lg(t=15){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="";for(let i=0;i<t;i++){let r=Math.floor(Math.random()*e.length);n+=e.charAt(r)}return n}function tZ(t,e){if(t&1&&(P(0,"option",15),U(1),F()),t&2){let n=e.$implicit;ee("value",n.id),G(),lt(" ",n.name," ")}}function nZ(t,e){if(t&1){let n=_n();on(0),P(1,"div",1)(2,"h6",2),U(3,"Create Section"),F()(),P(4,"div",3)(5,"form",4),Be("submit",function(){rn(n);let r=Re();return sn(r.submit())}),P(6,"div",5),_e(7,"input",6),P(8,"label",7),U(9,"Enter Section name"),F()(),P(10,"div",5)(11,"select",8)(12,"option",9),U(13,"--Select Teacher--"),F(),Se(14,tZ,2,2,"option",10),F(),P(15,"label",11),U(16,"Select Teacher"),F()(),P(17,"div",12)(18,"button",13),Be("click",function(){rn(n);let r=Re();return sn(r.activeModal.close())}),U(19," Cancel "),F(),P(20,"button",14),U(21," Save Section "),F()()()(),an()}if(t&2){let n=e.ngIf,i=Re();G(5),ee("formGroup",i.sectionForm$),G(7),ee("value",null),G(2),ee("ngForOf",n.teachers),G(6),ee("disabled",i.sectionForm$.invalid)}}var DV=(()=>{let e=class e{constructor(i,r){this.fb=i,this.store=r,this.activeModal=N(qs),this.createSectionState=Tn({teachers:this.store.select(bF),error:this.store.select(cg),loading:this.store.select(ag)}),this.sectionForm$=i.nonNullable.group({name:["",$n.required],teacher:[null,$n.required]})}ngOnInit(){this.store.dispatch(Pe.getAllTeachers())}submit(){let i=this.sectionForm$.value,r={id:Lg(),name:i.name??"",createdAt:new Date,updatedAt:new Date};this.store.dispatch(Pe.createSection({section:r,teacherID:i.teacher??""})),this.activeModal.close()}};e.\u0275fac=function(r){return new(r||e)(W(Yc),W(pt))},e.\u0275cmp=He({type:e,selectors:[["app-create-section"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"w-100",3,"submit","formGroup"],[1,"form-floating","mb-3"],["id","name","formControlName","name","type","text",1,"form-control"],["for","name"],["id","teacher","formControlName","teacher",1,"form-select"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","teacher"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"],[3,"value"]],template:function(r,s){r&1&&(Se(0,nZ,22,4,"ng-container",0),Ft(1,"async")),r&2&&ee("ngIf",Lt(1,1,s.createSectionState))},dependencies:[ii,yn,Qc,Lk,Bk,zs,tg,Wc,Kc,Zo,Xo,An]});let t=e;return t})();function iZ(t,e){t&1&&(P(0,"span"),U(1,", "),F())}function rZ(t,e){if(t&1&&(P(0,"div"),U(1),Se(2,iZ,2,0,"span",0),F()),t&2){let n=e.$implicit,i=e.last;G(),lt(" ",n.name,""),G(),ee("ngIf",!i)}}function sZ(t,e){if(t&1){let n=_n();P(0,"tr")(1,"th",10),U(2),F(),P(3,"td"),U(4),F(),P(5,"td"),Se(6,rZ,3,2,"div",9),F(),P(7,"td"),U(8),F(),P(9,"td")(10,"div",11)(11,"button",12),_e(12,"i",13),F(),P(13,"button",14),Be("click",function(){let r=rn(n).$implicit,s=Re(2);return sn(s.deleteSection(r.section.id))}),_e(14,"i",15),F()()()()}if(t&2){let n=e.$implicit,i=e.index;G(2),st(i+1),G(2),st(n.section.name),G(2),ee("ngForOf",n.teachers),G(2),st(n.section.createdAt.toLocaleDateString())}}function oZ(t,e){if(t&1){let n=_n();on(0),P(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),U(5," Sections - "),P(6,"span",4),U(7),F()(),P(8,"button",5),Be("click",function(){rn(n);let r=Re();return sn(r.submit())}),U(9,"Create Section"),F()(),P(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th",8),U(15,"#"),F(),P(16,"th",8),U(17,"Name"),F(),P(18,"th",8),U(19,"Teacher"),F(),P(20,"th",8),U(21,"Created At"),F(),P(22,"th",8),U(23,"Actions"),F()()(),P(24,"tbody"),Se(25,sZ,15,4,"tr",9),F()()()()(),an()}if(t&2){let n=e.ngIf;G(7),st(n.sections.length),G(18),ee("ngForOf",n.sections)}}var SV=(()=>{let e=class e{constructor(i){this.store=i,this.modal=N(md),this.sectionState$=Tn({isLoading:this.store.select(ag),sections:this.store.select(wF),errors:this.store.select(cg)})}ngOnInit(){this.store.dispatch(Pe.getAllSections())}submit(){let i=this.modal.open(DV)}deleteSection(i){this.store.dispatch(Pe.deleteSection({id:i}))}};e.\u0275fac=function(r){return new(r||e)(W(pt))},e.\u0275cmp=He({type:e,selectors:[["app-section"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container-fluid","h-100","p-3"],[1,"d-flex","flex-column","h-100","bg-white","shadow-sm","p-3","rounded"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-muted","fs-6"],[1,"btn","btn-dark",3,"click"],[1,"flex-grow-1","overflow-auto"],[1,"table","table-borderless","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-success"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa-solid","fa-delete-left"]],template:function(r,s){r&1&&(Se(0,oZ,26,2,"ng-container",0),Ft(1,"async")),r&2&&ee("ngIf",Lt(1,1,s.sectionState$))},dependencies:[ii,yn,An]});let t=e;return t})();var aZ=[{path:"",component:Mw},{path:"dashboard",component:Mw},{path:"section",component:SV},{path:"users",component:fF},{path:"student-report",component:pF},{path:"logs",component:_F},{path:"lessons",component:vV}],IV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ue({type:e}),e.\u0275inj=le({imports:[rc.forChild(aZ),rc]});let t=e;return t})();export{Hae as a,IV as b,f_e as c};
